var gT=Object.defineProperty;var ix=t=>{throw TypeError(t)};var vT=(t,e,r)=>e in t?gT(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var W=(t,e,r)=>vT(t,typeof e!="symbol"?e+"":e,r),n0=(t,e,r)=>e.has(t)||ix("Cannot "+r);var C=(t,e,r)=>(n0(t,e,"read from private field"),r?r.call(t):e.get(t)),z=(t,e,r)=>e.has(t)?ix("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),G=(t,e,r,n)=>(n0(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),Z=(t,e,r)=>(n0(t,e,"access private method"),r);var jd=(t,e,r,n)=>({set _(i){G(t,e,i,r)},get _(){return C(t,e,n)}});function yT(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var Fd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ps(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Zb={exports:{}},lp={},Qb={exports:{}},$e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yd=Symbol.for("react.element"),xT=Symbol.for("react.portal"),wT=Symbol.for("react.fragment"),_T=Symbol.for("react.strict_mode"),bT=Symbol.for("react.profiler"),CT=Symbol.for("react.provider"),ST=Symbol.for("react.context"),ET=Symbol.for("react.forward_ref"),AT=Symbol.for("react.suspense"),NT=Symbol.for("react.memo"),TT=Symbol.for("react.lazy"),sx=Symbol.iterator;function IT(t){return t===null||typeof t!="object"?null:(t=sx&&t[sx]||t["@@iterator"],typeof t=="function"?t:null)}var Jb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},eC=Object.assign,tC={};function cc(t,e,r){this.props=t,this.context=e,this.refs=tC,this.updater=r||Jb}cc.prototype.isReactComponent={};cc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};cc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function rC(){}rC.prototype=cc.prototype;function Vg(t,e,r){this.props=t,this.context=e,this.refs=tC,this.updater=r||Jb}var zg=Vg.prototype=new rC;zg.constructor=Vg;eC(zg,cc.prototype);zg.isPureReactComponent=!0;var ax=Array.isArray,nC=Object.prototype.hasOwnProperty,Hg={current:null},iC={key:!0,ref:!0,__self:!0,__source:!0};function sC(t,e,r){var n,i={},s=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)nC.call(e,n)&&!iC.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:yd,type:t,key:s,ref:a,props:i,_owner:Hg.current}}function PT(t,e){return{$$typeof:yd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Wg(t){return typeof t=="object"&&t!==null&&t.$$typeof===yd}function OT(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var ox=/\/+/g;function i0(t,e){return typeof t=="object"&&t!==null&&t.key!=null?OT(""+t.key):e.toString(36)}function Af(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case yd:case xT:a=!0}}if(a)return a=t,i=i(a),t=n===""?"."+i0(a,0):n,ax(i)?(r="",t!=null&&(r=t.replace(ox,"$&/")+"/"),Af(i,e,r,"",function(c){return c})):i!=null&&(Wg(i)&&(i=PT(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(ox,"$&/")+"/")+t)),e.push(i)),1;if(a=0,n=n===""?".":n+":",ax(t))for(var o=0;o<t.length;o++){s=t[o];var l=n+i0(s,o);a+=Af(s,e,r,l,i)}else if(l=IT(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=n+i0(s,o++),a+=Af(s,e,r,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Md(t,e,r){if(t==null)return t;var n=[],i=0;return Af(t,n,"","",function(s){return e.call(r,s,i++)}),n}function RT(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Vr={current:null},Nf={transition:null},kT={ReactCurrentDispatcher:Vr,ReactCurrentBatchConfig:Nf,ReactCurrentOwner:Hg};function aC(){throw Error("act(...) is not supported in production builds of React.")}$e.Children={map:Md,forEach:function(t,e,r){Md(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Md(t,function(){e++}),e},toArray:function(t){return Md(t,function(e){return e})||[]},only:function(t){if(!Wg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};$e.Component=cc;$e.Fragment=wT;$e.Profiler=bT;$e.PureComponent=Vg;$e.StrictMode=_T;$e.Suspense=AT;$e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kT;$e.act=aC;$e.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=eC({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=Hg.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)nC.call(e,l)&&!iC.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:yd,type:t.type,key:i,ref:s,props:n,_owner:a}};$e.createContext=function(t){return t={$$typeof:ST,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:CT,_context:t},t.Consumer=t};$e.createElement=sC;$e.createFactory=function(t){var e=sC.bind(null,t);return e.type=t,e};$e.createRef=function(){return{current:null}};$e.forwardRef=function(t){return{$$typeof:ET,render:t}};$e.isValidElement=Wg;$e.lazy=function(t){return{$$typeof:TT,_payload:{_status:-1,_result:t},_init:RT}};$e.memo=function(t,e){return{$$typeof:NT,type:t,compare:e===void 0?null:e}};$e.startTransition=function(t){var e=Nf.transition;Nf.transition={};try{t()}finally{Nf.transition=e}};$e.unstable_act=aC;$e.useCallback=function(t,e){return Vr.current.useCallback(t,e)};$e.useContext=function(t){return Vr.current.useContext(t)};$e.useDebugValue=function(){};$e.useDeferredValue=function(t){return Vr.current.useDeferredValue(t)};$e.useEffect=function(t,e){return Vr.current.useEffect(t,e)};$e.useId=function(){return Vr.current.useId()};$e.useImperativeHandle=function(t,e,r){return Vr.current.useImperativeHandle(t,e,r)};$e.useInsertionEffect=function(t,e){return Vr.current.useInsertionEffect(t,e)};$e.useLayoutEffect=function(t,e){return Vr.current.useLayoutEffect(t,e)};$e.useMemo=function(t,e){return Vr.current.useMemo(t,e)};$e.useReducer=function(t,e,r){return Vr.current.useReducer(t,e,r)};$e.useRef=function(t){return Vr.current.useRef(t)};$e.useState=function(t){return Vr.current.useState(t)};$e.useSyncExternalStore=function(t,e,r){return Vr.current.useSyncExternalStore(t,e,r)};$e.useTransition=function(){return Vr.current.useTransition()};$e.version="18.3.1";Qb.exports=$e;var b=Qb.exports;const Ne=ps(b),cp=yT({__proto__:null,default:Ne},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DT=b,jT=Symbol.for("react.element"),FT=Symbol.for("react.fragment"),MT=Object.prototype.hasOwnProperty,LT=DT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,BT={key:!0,ref:!0,__self:!0,__source:!0};function oC(t,e,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)MT.call(e,n)&&!BT.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:jT,type:t,key:s,ref:a,props:i,_owner:LT.current}}lp.Fragment=FT;lp.jsx=oC;lp.jsxs=oC;Zb.exports=lp;var u=Zb.exports,lC={exports:{}},gn={},cC={exports:{}},uC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,k){var M=D.length;D.push(k);e:for(;0<M;){var $=M-1>>>1,ee=D[$];if(0<i(ee,k))D[$]=k,D[M]=ee,M=$;else break e}}function r(D){return D.length===0?null:D[0]}function n(D){if(D.length===0)return null;var k=D[0],M=D.pop();if(M!==k){D[0]=M;e:for(var $=0,ee=D.length,se=ee>>>1;$<se;){var he=2*($+1)-1,Be=D[he],Re=he+1,ce=D[Re];if(0>i(Be,M))Re<ee&&0>i(ce,Be)?(D[$]=ce,D[Re]=M,$=Re):(D[$]=Be,D[he]=M,$=he);else if(Re<ee&&0>i(ce,M))D[$]=ce,D[Re]=M,$=Re;else break e}}return k}function i(D,k){var M=D.sortIndex-k.sortIndex;return M!==0?M:D.id-k.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],d=1,f=null,h=3,p=!1,g=!1,m=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(D){for(var k=r(c);k!==null;){if(k.callback===null)n(c);else if(k.startTime<=D)n(c),k.sortIndex=k.expirationTime,e(l,k);else break;k=r(c)}}function w(D){if(m=!1,_(D),!g)if(r(l)!==null)g=!0,Q(S);else{var k=r(c);k!==null&&X(w,k.startTime-D)}}function S(D,k){g=!1,m&&(m=!1,y(P),P=-1),p=!0;var M=h;try{for(_(k),f=r(l);f!==null&&(!(f.expirationTime>k)||D&&!H());){var $=f.callback;if(typeof $=="function"){f.callback=null,h=f.priorityLevel;var ee=$(f.expirationTime<=k);k=t.unstable_now(),typeof ee=="function"?f.callback=ee:f===r(l)&&n(l),_(k)}else n(l);f=r(l)}if(f!==null)var se=!0;else{var he=r(c);he!==null&&X(w,he.startTime-k),se=!1}return se}finally{f=null,h=M,p=!1}}var A=!1,E=null,P=-1,j=5,F=-1;function H(){return!(t.unstable_now()-F<j)}function L(){if(E!==null){var D=t.unstable_now();F=D;var k=!0;try{k=E(!0,D)}finally{k?N():(A=!1,E=null)}}else A=!1}var N;if(typeof v=="function")N=function(){v(L)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,q=O.port2;O.port1.onmessage=L,N=function(){q.postMessage(null)}}else N=function(){x(L,0)};function Q(D){E=D,A||(A=!0,N())}function X(D,k){P=x(function(){D(t.unstable_now())},k)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,Q(S))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(D){switch(h){case 1:case 2:case 3:var k=3;break;default:k=h}var M=h;h=k;try{return D()}finally{h=M}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,k){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var M=h;h=D;try{return k()}finally{h=M}},t.unstable_scheduleCallback=function(D,k,M){var $=t.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?$+M:$):M=$,D){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=M+ee,D={id:d++,callback:k,priorityLevel:D,startTime:M,expirationTime:ee,sortIndex:-1},M>$?(D.sortIndex=M,e(c,D),r(l)===null&&D===r(c)&&(m?(y(P),P=-1):m=!0,X(w,M-$))):(D.sortIndex=ee,e(l,D),g||p||(g=!0,Q(S))),D},t.unstable_shouldYield=H,t.unstable_wrapCallback=function(D){var k=h;return function(){var M=h;h=k;try{return D.apply(this,arguments)}finally{h=M}}}})(uC);cC.exports=uC;var UT=cC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $T=b,pn=UT;function J(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var dC=new Set,vu={};function So(t,e){Wl(t,e),Wl(t+"Capture",e)}function Wl(t,e){for(vu[t]=e,t=0;t<e.length;t++)dC.add(e[t])}var os=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),x1=Object.prototype.hasOwnProperty,VT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lx={},cx={};function zT(t){return x1.call(cx,t)?!0:x1.call(lx,t)?!1:VT.test(t)?cx[t]=!0:(lx[t]=!0,!1)}function HT(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function WT(t,e,r,n){if(e===null||typeof e>"u"||HT(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function zr(t,e,r,n,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var vr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){vr[t]=new zr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];vr[e]=new zr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){vr[t]=new zr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){vr[t]=new zr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){vr[t]=new zr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){vr[t]=new zr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){vr[t]=new zr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){vr[t]=new zr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){vr[t]=new zr(t,5,!1,t.toLowerCase(),null,!1,!1)});var Gg=/[\-:]([a-z])/g;function qg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Gg,qg);vr[e]=new zr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Gg,qg);vr[e]=new zr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Gg,qg);vr[e]=new zr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){vr[t]=new zr(t,1,!1,t.toLowerCase(),null,!1,!1)});vr.xlinkHref=new zr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){vr[t]=new zr(t,1,!1,t.toLowerCase(),null,!0,!0)});function Xg(t,e,r,n){var i=vr.hasOwnProperty(e)?vr[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(WT(e,r,i,n)&&(r=null),n||i===null?zT(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var ms=$T.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ld=Symbol.for("react.element"),$o=Symbol.for("react.portal"),Vo=Symbol.for("react.fragment"),Kg=Symbol.for("react.strict_mode"),w1=Symbol.for("react.profiler"),fC=Symbol.for("react.provider"),hC=Symbol.for("react.context"),Yg=Symbol.for("react.forward_ref"),_1=Symbol.for("react.suspense"),b1=Symbol.for("react.suspense_list"),Zg=Symbol.for("react.memo"),Ns=Symbol.for("react.lazy"),pC=Symbol.for("react.offscreen"),ux=Symbol.iterator;function Cc(t){return t===null||typeof t!="object"?null:(t=ux&&t[ux]||t["@@iterator"],typeof t=="function"?t:null)}var It=Object.assign,s0;function $c(t){if(s0===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);s0=e&&e[1]||""}return`
`+s0+t}var a0=!1;function o0(t,e){if(!t||a0)return"";a0=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{a0=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?$c(t):""}function GT(t){switch(t.tag){case 5:return $c(t.type);case 16:return $c("Lazy");case 13:return $c("Suspense");case 19:return $c("SuspenseList");case 0:case 2:case 15:return t=o0(t.type,!1),t;case 11:return t=o0(t.type.render,!1),t;case 1:return t=o0(t.type,!0),t;default:return""}}function C1(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Vo:return"Fragment";case $o:return"Portal";case w1:return"Profiler";case Kg:return"StrictMode";case _1:return"Suspense";case b1:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case hC:return(t.displayName||"Context")+".Consumer";case fC:return(t._context.displayName||"Context")+".Provider";case Yg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Zg:return e=t.displayName||null,e!==null?e:C1(t.type)||"Memo";case Ns:e=t._payload,t=t._init;try{return C1(t(e))}catch{}}return null}function qT(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return C1(e);case 8:return e===Kg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function fa(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function mC(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function XT(t){var e=mC(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Bd(t){t._valueTracker||(t._valueTracker=XT(t))}function gC(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=mC(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function eh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function S1(t,e){var r=e.checked;return It({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function dx(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=fa(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function vC(t,e){e=e.checked,e!=null&&Xg(t,"checked",e,!1)}function E1(t,e){vC(t,e);var r=fa(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?A1(t,e.type,r):e.hasOwnProperty("defaultValue")&&A1(t,e.type,fa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function fx(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function A1(t,e,r){(e!=="number"||eh(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Vc=Array.isArray;function rl(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+fa(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function N1(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(J(91));return It({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function hx(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(J(92));if(Vc(r)){if(1<r.length)throw Error(J(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:fa(r)}}function yC(t,e){var r=fa(e.value),n=fa(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function px(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function xC(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function T1(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?xC(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ud,wC=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ud=Ud||document.createElement("div"),Ud.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ud.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function yu(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var nu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},KT=["Webkit","ms","Moz","O"];Object.keys(nu).forEach(function(t){KT.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),nu[e]=nu[t]})});function _C(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||nu.hasOwnProperty(t)&&nu[t]?(""+e).trim():e+"px"}function bC(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=_C(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var YT=It({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function I1(t,e){if(e){if(YT[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(J(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(J(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(J(61))}if(e.style!=null&&typeof e.style!="object")throw Error(J(62))}}function P1(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var O1=null;function Qg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var R1=null,nl=null,il=null;function mx(t){if(t=_d(t)){if(typeof R1!="function")throw Error(J(280));var e=t.stateNode;e&&(e=pp(e),R1(t.stateNode,t.type,e))}}function CC(t){nl?il?il.push(t):il=[t]:nl=t}function SC(){if(nl){var t=nl,e=il;if(il=nl=null,mx(t),e)for(t=0;t<e.length;t++)mx(e[t])}}function EC(t,e){return t(e)}function AC(){}var l0=!1;function NC(t,e,r){if(l0)return t(e,r);l0=!0;try{return EC(t,e,r)}finally{l0=!1,(nl!==null||il!==null)&&(AC(),SC())}}function xu(t,e){var r=t.stateNode;if(r===null)return null;var n=pp(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(J(231,e,typeof r));return r}var k1=!1;if(os)try{var Sc={};Object.defineProperty(Sc,"passive",{get:function(){k1=!0}}),window.addEventListener("test",Sc,Sc),window.removeEventListener("test",Sc,Sc)}catch{k1=!1}function ZT(t,e,r,n,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(d){this.onError(d)}}var iu=!1,th=null,rh=!1,D1=null,QT={onError:function(t){iu=!0,th=t}};function JT(t,e,r,n,i,s,a,o,l){iu=!1,th=null,ZT.apply(QT,arguments)}function eI(t,e,r,n,i,s,a,o,l){if(JT.apply(this,arguments),iu){if(iu){var c=th;iu=!1,th=null}else throw Error(J(198));rh||(rh=!0,D1=c)}}function Eo(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function TC(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function gx(t){if(Eo(t)!==t)throw Error(J(188))}function tI(t){var e=t.alternate;if(!e){if(e=Eo(t),e===null)throw Error(J(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return gx(i),t;if(s===n)return gx(i),e;s=s.sibling}throw Error(J(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a)throw Error(J(189))}}if(r.alternate!==n)throw Error(J(190))}if(r.tag!==3)throw Error(J(188));return r.stateNode.current===r?t:e}function IC(t){return t=tI(t),t!==null?PC(t):null}function PC(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=PC(t);if(e!==null)return e;t=t.sibling}return null}var OC=pn.unstable_scheduleCallback,vx=pn.unstable_cancelCallback,rI=pn.unstable_shouldYield,nI=pn.unstable_requestPaint,jt=pn.unstable_now,iI=pn.unstable_getCurrentPriorityLevel,Jg=pn.unstable_ImmediatePriority,RC=pn.unstable_UserBlockingPriority,nh=pn.unstable_NormalPriority,sI=pn.unstable_LowPriority,kC=pn.unstable_IdlePriority,up=null,Fi=null;function aI(t){if(Fi&&typeof Fi.onCommitFiberRoot=="function")try{Fi.onCommitFiberRoot(up,t,void 0,(t.current.flags&128)===128)}catch{}}var ui=Math.clz32?Math.clz32:cI,oI=Math.log,lI=Math.LN2;function cI(t){return t>>>=0,t===0?32:31-(oI(t)/lI|0)|0}var $d=64,Vd=4194304;function zc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ih(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,a=r&268435455;if(a!==0){var o=a&~i;o!==0?n=zc(o):(s&=a,s!==0&&(n=zc(s)))}else a=r&~i,a!==0?n=zc(a):s!==0&&(n=zc(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-ui(e),i=1<<r,n|=t[r],e&=~i;return n}function uI(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dI(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-ui(s),o=1<<a,l=i[a];l===-1?(!(o&r)||o&n)&&(i[a]=uI(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function j1(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function DC(){var t=$d;return $d<<=1,!($d&4194240)&&($d=64),t}function c0(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function xd(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ui(e),t[e]=r}function fI(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-ui(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function ev(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-ui(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var ct=0;function jC(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var FC,tv,MC,LC,BC,F1=!1,zd=[],Ks=null,Ys=null,Zs=null,wu=new Map,_u=new Map,Os=[],hI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yx(t,e){switch(t){case"focusin":case"focusout":Ks=null;break;case"dragenter":case"dragleave":Ys=null;break;case"mouseover":case"mouseout":Zs=null;break;case"pointerover":case"pointerout":wu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":_u.delete(e.pointerId)}}function Ec(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=_d(e),e!==null&&tv(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function pI(t,e,r,n,i){switch(e){case"focusin":return Ks=Ec(Ks,t,e,r,n,i),!0;case"dragenter":return Ys=Ec(Ys,t,e,r,n,i),!0;case"mouseover":return Zs=Ec(Zs,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return wu.set(s,Ec(wu.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,_u.set(s,Ec(_u.get(s)||null,t,e,r,n,i)),!0}return!1}function UC(t){var e=ka(t.target);if(e!==null){var r=Eo(e);if(r!==null){if(e=r.tag,e===13){if(e=TC(r),e!==null){t.blockedOn=e,BC(t.priority,function(){MC(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Tf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=M1(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);O1=n,r.target.dispatchEvent(n),O1=null}else return e=_d(r),e!==null&&tv(e),t.blockedOn=r,!1;e.shift()}return!0}function xx(t,e,r){Tf(t)&&r.delete(e)}function mI(){F1=!1,Ks!==null&&Tf(Ks)&&(Ks=null),Ys!==null&&Tf(Ys)&&(Ys=null),Zs!==null&&Tf(Zs)&&(Zs=null),wu.forEach(xx),_u.forEach(xx)}function Ac(t,e){t.blockedOn===e&&(t.blockedOn=null,F1||(F1=!0,pn.unstable_scheduleCallback(pn.unstable_NormalPriority,mI)))}function bu(t){function e(i){return Ac(i,t)}if(0<zd.length){Ac(zd[0],t);for(var r=1;r<zd.length;r++){var n=zd[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Ks!==null&&Ac(Ks,t),Ys!==null&&Ac(Ys,t),Zs!==null&&Ac(Zs,t),wu.forEach(e),_u.forEach(e),r=0;r<Os.length;r++)n=Os[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Os.length&&(r=Os[0],r.blockedOn===null);)UC(r),r.blockedOn===null&&Os.shift()}var sl=ms.ReactCurrentBatchConfig,sh=!0;function gI(t,e,r,n){var i=ct,s=sl.transition;sl.transition=null;try{ct=1,rv(t,e,r,n)}finally{ct=i,sl.transition=s}}function vI(t,e,r,n){var i=ct,s=sl.transition;sl.transition=null;try{ct=4,rv(t,e,r,n)}finally{ct=i,sl.transition=s}}function rv(t,e,r,n){if(sh){var i=M1(t,e,r,n);if(i===null)x0(t,e,n,ah,r),yx(t,n);else if(pI(i,t,e,r,n))n.stopPropagation();else if(yx(t,n),e&4&&-1<hI.indexOf(t)){for(;i!==null;){var s=_d(i);if(s!==null&&FC(s),s=M1(t,e,r,n),s===null&&x0(t,e,n,ah,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else x0(t,e,n,null,r)}}var ah=null;function M1(t,e,r,n){if(ah=null,t=Qg(n),t=ka(t),t!==null)if(e=Eo(t),e===null)t=null;else if(r=e.tag,r===13){if(t=TC(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ah=t,null}function $C(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(iI()){case Jg:return 1;case RC:return 4;case nh:case sI:return 16;case kC:return 536870912;default:return 16}default:return 16}}var Ws=null,nv=null,If=null;function VC(){if(If)return If;var t,e=nv,r=e.length,n,i="value"in Ws?Ws.value:Ws.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===i[s-n];n++);return If=i.slice(t,1<n?1-n:void 0)}function Pf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Hd(){return!0}function wx(){return!1}function vn(t){function e(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Hd:wx,this.isPropagationStopped=wx,this}return It(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Hd)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Hd)},persist:function(){},isPersistent:Hd}),e}var uc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},iv=vn(uc),wd=It({},uc,{view:0,detail:0}),yI=vn(wd),u0,d0,Nc,dp=It({},wd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Nc&&(Nc&&t.type==="mousemove"?(u0=t.screenX-Nc.screenX,d0=t.screenY-Nc.screenY):d0=u0=0,Nc=t),u0)},movementY:function(t){return"movementY"in t?t.movementY:d0}}),_x=vn(dp),xI=It({},dp,{dataTransfer:0}),wI=vn(xI),_I=It({},wd,{relatedTarget:0}),f0=vn(_I),bI=It({},uc,{animationName:0,elapsedTime:0,pseudoElement:0}),CI=vn(bI),SI=It({},uc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),EI=vn(SI),AI=It({},uc,{data:0}),bx=vn(AI),NI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},TI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},II={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function PI(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=II[t])?!!e[t]:!1}function sv(){return PI}var OI=It({},wd,{key:function(t){if(t.key){var e=NI[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Pf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?TI[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sv,charCode:function(t){return t.type==="keypress"?Pf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Pf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),RI=vn(OI),kI=It({},dp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cx=vn(kI),DI=It({},wd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sv}),jI=vn(DI),FI=It({},uc,{propertyName:0,elapsedTime:0,pseudoElement:0}),MI=vn(FI),LI=It({},dp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),BI=vn(LI),UI=[9,13,27,32],av=os&&"CompositionEvent"in window,su=null;os&&"documentMode"in document&&(su=document.documentMode);var $I=os&&"TextEvent"in window&&!su,zC=os&&(!av||su&&8<su&&11>=su),Sx=" ",Ex=!1;function HC(t,e){switch(t){case"keyup":return UI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function WC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var zo=!1;function VI(t,e){switch(t){case"compositionend":return WC(e);case"keypress":return e.which!==32?null:(Ex=!0,Sx);case"textInput":return t=e.data,t===Sx&&Ex?null:t;default:return null}}function zI(t,e){if(zo)return t==="compositionend"||!av&&HC(t,e)?(t=VC(),If=nv=Ws=null,zo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return zC&&e.locale!=="ko"?null:e.data;default:return null}}var HI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ax(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!HI[t.type]:e==="textarea"}function GC(t,e,r,n){CC(n),e=oh(e,"onChange"),0<e.length&&(r=new iv("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var au=null,Cu=null;function WI(t){nS(t,0)}function fp(t){var e=Go(t);if(gC(e))return t}function GI(t,e){if(t==="change")return e}var qC=!1;if(os){var h0;if(os){var p0="oninput"in document;if(!p0){var Nx=document.createElement("div");Nx.setAttribute("oninput","return;"),p0=typeof Nx.oninput=="function"}h0=p0}else h0=!1;qC=h0&&(!document.documentMode||9<document.documentMode)}function Tx(){au&&(au.detachEvent("onpropertychange",XC),Cu=au=null)}function XC(t){if(t.propertyName==="value"&&fp(Cu)){var e=[];GC(e,Cu,t,Qg(t)),NC(WI,e)}}function qI(t,e,r){t==="focusin"?(Tx(),au=e,Cu=r,au.attachEvent("onpropertychange",XC)):t==="focusout"&&Tx()}function XI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return fp(Cu)}function KI(t,e){if(t==="click")return fp(e)}function YI(t,e){if(t==="input"||t==="change")return fp(e)}function ZI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var fi=typeof Object.is=="function"?Object.is:ZI;function Su(t,e){if(fi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!x1.call(e,i)||!fi(t[i],e[i]))return!1}return!0}function Ix(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Px(t,e){var r=Ix(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ix(r)}}function KC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?KC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function YC(){for(var t=window,e=eh();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=eh(t.document)}return e}function ov(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function QI(t){var e=YC(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&KC(r.ownerDocument.documentElement,r)){if(n!==null&&ov(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=Px(r,s);var a=Px(r,n);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var JI=os&&"documentMode"in document&&11>=document.documentMode,Ho=null,L1=null,ou=null,B1=!1;function Ox(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;B1||Ho==null||Ho!==eh(n)||(n=Ho,"selectionStart"in n&&ov(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ou&&Su(ou,n)||(ou=n,n=oh(L1,"onSelect"),0<n.length&&(e=new iv("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Ho)))}function Wd(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Wo={animationend:Wd("Animation","AnimationEnd"),animationiteration:Wd("Animation","AnimationIteration"),animationstart:Wd("Animation","AnimationStart"),transitionend:Wd("Transition","TransitionEnd")},m0={},ZC={};os&&(ZC=document.createElement("div").style,"AnimationEvent"in window||(delete Wo.animationend.animation,delete Wo.animationiteration.animation,delete Wo.animationstart.animation),"TransitionEvent"in window||delete Wo.transitionend.transition);function hp(t){if(m0[t])return m0[t];if(!Wo[t])return t;var e=Wo[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in ZC)return m0[t]=e[r];return t}var QC=hp("animationend"),JC=hp("animationiteration"),eS=hp("animationstart"),tS=hp("transitionend"),rS=new Map,Rx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xa(t,e){rS.set(t,e),So(e,[t])}for(var g0=0;g0<Rx.length;g0++){var v0=Rx[g0],e6=v0.toLowerCase(),t6=v0[0].toUpperCase()+v0.slice(1);xa(e6,"on"+t6)}xa(QC,"onAnimationEnd");xa(JC,"onAnimationIteration");xa(eS,"onAnimationStart");xa("dblclick","onDoubleClick");xa("focusin","onFocus");xa("focusout","onBlur");xa(tS,"onTransitionEnd");Wl("onMouseEnter",["mouseout","mouseover"]);Wl("onMouseLeave",["mouseout","mouseover"]);Wl("onPointerEnter",["pointerout","pointerover"]);Wl("onPointerLeave",["pointerout","pointerover"]);So("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));So("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));So("onBeforeInput",["compositionend","keypress","textInput","paste"]);So("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));So("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));So("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),r6=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hc));function kx(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,eI(n,e,void 0,t),t.currentTarget=null}function nS(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var a=n.length-1;0<=a;a--){var o=n[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;kx(i,o,c),s=l}else for(a=0;a<n.length;a++){if(o=n[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;kx(i,o,c),s=l}}}if(rh)throw t=D1,rh=!1,D1=null,t}function xt(t,e){var r=e[H1];r===void 0&&(r=e[H1]=new Set);var n=t+"__bubble";r.has(n)||(iS(e,t,2,!1),r.add(n))}function y0(t,e,r){var n=0;e&&(n|=4),iS(r,t,n,e)}var Gd="_reactListening"+Math.random().toString(36).slice(2);function Eu(t){if(!t[Gd]){t[Gd]=!0,dC.forEach(function(r){r!=="selectionchange"&&(r6.has(r)||y0(r,!1,t),y0(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Gd]||(e[Gd]=!0,y0("selectionchange",!1,e))}}function iS(t,e,r,n){switch($C(e)){case 1:var i=gI;break;case 4:i=vI;break;default:i=rv}r=i.bind(null,e,r,t),i=void 0,!k1||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function x0(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=ka(o),a===null)return;if(l=a.tag,l===5||l===6){n=s=a;continue e}o=o.parentNode}}n=n.return}NC(function(){var c=s,d=Qg(r),f=[];e:{var h=rS.get(t);if(h!==void 0){var p=iv,g=t;switch(t){case"keypress":if(Pf(r)===0)break e;case"keydown":case"keyup":p=RI;break;case"focusin":g="focus",p=f0;break;case"focusout":g="blur",p=f0;break;case"beforeblur":case"afterblur":p=f0;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=_x;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=wI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=jI;break;case QC:case JC:case eS:p=CI;break;case tS:p=MI;break;case"scroll":p=yI;break;case"wheel":p=BI;break;case"copy":case"cut":case"paste":p=EI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Cx}var m=(e&4)!==0,x=!m&&t==="scroll",y=m?h!==null?h+"Capture":null:h;m=[];for(var v=c,_;v!==null;){_=v;var w=_.stateNode;if(_.tag===5&&w!==null&&(_=w,y!==null&&(w=xu(v,y),w!=null&&m.push(Au(v,w,_)))),x)break;v=v.return}0<m.length&&(h=new p(h,g,null,r,d),f.push({event:h,listeners:m}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&r!==O1&&(g=r.relatedTarget||r.fromElement)&&(ka(g)||g[ls]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=r.relatedTarget||r.toElement,p=c,g=g?ka(g):null,g!==null&&(x=Eo(g),g!==x||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=c),p!==g)){if(m=_x,w="onMouseLeave",y="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(m=Cx,w="onPointerLeave",y="onPointerEnter",v="pointer"),x=p==null?h:Go(p),_=g==null?h:Go(g),h=new m(w,v+"leave",p,r,d),h.target=x,h.relatedTarget=_,w=null,ka(d)===c&&(m=new m(y,v+"enter",g,r,d),m.target=_,m.relatedTarget=x,w=m),x=w,p&&g)t:{for(m=p,y=g,v=0,_=m;_;_=Oo(_))v++;for(_=0,w=y;w;w=Oo(w))_++;for(;0<v-_;)m=Oo(m),v--;for(;0<_-v;)y=Oo(y),_--;for(;v--;){if(m===y||y!==null&&m===y.alternate)break t;m=Oo(m),y=Oo(y)}m=null}else m=null;p!==null&&Dx(f,h,p,m,!1),g!==null&&x!==null&&Dx(f,x,g,m,!0)}}e:{if(h=c?Go(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var S=GI;else if(Ax(h))if(qC)S=YI;else{S=XI;var A=qI}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=KI);if(S&&(S=S(t,c))){GC(f,S,r,d);break e}A&&A(t,h,c),t==="focusout"&&(A=h._wrapperState)&&A.controlled&&h.type==="number"&&A1(h,"number",h.value)}switch(A=c?Go(c):window,t){case"focusin":(Ax(A)||A.contentEditable==="true")&&(Ho=A,L1=c,ou=null);break;case"focusout":ou=L1=Ho=null;break;case"mousedown":B1=!0;break;case"contextmenu":case"mouseup":case"dragend":B1=!1,Ox(f,r,d);break;case"selectionchange":if(JI)break;case"keydown":case"keyup":Ox(f,r,d)}var E;if(av)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else zo?HC(t,r)&&(P="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(P="onCompositionStart");P&&(zC&&r.locale!=="ko"&&(zo||P!=="onCompositionStart"?P==="onCompositionEnd"&&zo&&(E=VC()):(Ws=d,nv="value"in Ws?Ws.value:Ws.textContent,zo=!0)),A=oh(c,P),0<A.length&&(P=new bx(P,t,null,r,d),f.push({event:P,listeners:A}),E?P.data=E:(E=WC(r),E!==null&&(P.data=E)))),(E=$I?VI(t,r):zI(t,r))&&(c=oh(c,"onBeforeInput"),0<c.length&&(d=new bx("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:c}),d.data=E))}nS(f,e)})}function Au(t,e,r){return{instance:t,listener:e,currentTarget:r}}function oh(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=xu(t,r),s!=null&&n.unshift(Au(t,s,i)),s=xu(t,e),s!=null&&n.push(Au(t,s,i))),t=t.return}return n}function Oo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Dx(t,e,r,n,i){for(var s=e._reactName,a=[];r!==null&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&c!==null&&(o=c,i?(l=xu(r,s),l!=null&&a.unshift(Au(r,l,o))):i||(l=xu(r,s),l!=null&&a.push(Au(r,l,o)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var n6=/\r\n?/g,i6=/\u0000|\uFFFD/g;function jx(t){return(typeof t=="string"?t:""+t).replace(n6,`
`).replace(i6,"")}function qd(t,e,r){if(e=jx(e),jx(t)!==e&&r)throw Error(J(425))}function lh(){}var U1=null,$1=null;function V1(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var z1=typeof setTimeout=="function"?setTimeout:void 0,s6=typeof clearTimeout=="function"?clearTimeout:void 0,Fx=typeof Promise=="function"?Promise:void 0,a6=typeof queueMicrotask=="function"?queueMicrotask:typeof Fx<"u"?function(t){return Fx.resolve(null).then(t).catch(o6)}:z1;function o6(t){setTimeout(function(){throw t})}function w0(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),bu(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);bu(e)}function Qs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Mx(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var dc=Math.random().toString(36).slice(2),Oi="__reactFiber$"+dc,Nu="__reactProps$"+dc,ls="__reactContainer$"+dc,H1="__reactEvents$"+dc,l6="__reactListeners$"+dc,c6="__reactHandles$"+dc;function ka(t){var e=t[Oi];if(e)return e;for(var r=t.parentNode;r;){if(e=r[ls]||r[Oi]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Mx(t);t!==null;){if(r=t[Oi])return r;t=Mx(t)}return e}t=r,r=t.parentNode}return null}function _d(t){return t=t[Oi]||t[ls],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Go(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(J(33))}function pp(t){return t[Nu]||null}var W1=[],qo=-1;function wa(t){return{current:t}}function bt(t){0>qo||(t.current=W1[qo],W1[qo]=null,qo--)}function gt(t,e){qo++,W1[qo]=t.current,t.current=e}var ha={},Nr=wa(ha),Jr=wa(!1),uo=ha;function Gl(t,e){var r=t.type.contextTypes;if(!r)return ha;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function en(t){return t=t.childContextTypes,t!=null}function ch(){bt(Jr),bt(Nr)}function Lx(t,e,r){if(Nr.current!==ha)throw Error(J(168));gt(Nr,e),gt(Jr,r)}function sS(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(J(108,qT(t)||"Unknown",i));return It({},r,n)}function uh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ha,uo=Nr.current,gt(Nr,t),gt(Jr,Jr.current),!0}function Bx(t,e,r){var n=t.stateNode;if(!n)throw Error(J(169));r?(t=sS(t,e,uo),n.__reactInternalMemoizedMergedChildContext=t,bt(Jr),bt(Nr),gt(Nr,t)):bt(Jr),gt(Jr,r)}var qi=null,mp=!1,_0=!1;function aS(t){qi===null?qi=[t]:qi.push(t)}function u6(t){mp=!0,aS(t)}function _a(){if(!_0&&qi!==null){_0=!0;var t=0,e=ct;try{var r=qi;for(ct=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}qi=null,mp=!1}catch(i){throw qi!==null&&(qi=qi.slice(t+1)),OC(Jg,_a),i}finally{ct=e,_0=!1}}return null}var Xo=[],Ko=0,dh=null,fh=0,Cn=[],Sn=0,fo=null,ns=1,is="";function Ta(t,e){Xo[Ko++]=fh,Xo[Ko++]=dh,dh=t,fh=e}function oS(t,e,r){Cn[Sn++]=ns,Cn[Sn++]=is,Cn[Sn++]=fo,fo=t;var n=ns;t=is;var i=32-ui(n)-1;n&=~(1<<i),r+=1;var s=32-ui(e)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,ns=1<<32-ui(e)+i|r<<i|n,is=s+t}else ns=1<<s|r<<i|n,is=t}function lv(t){t.return!==null&&(Ta(t,1),oS(t,1,0))}function cv(t){for(;t===dh;)dh=Xo[--Ko],Xo[Ko]=null,fh=Xo[--Ko],Xo[Ko]=null;for(;t===fo;)fo=Cn[--Sn],Cn[Sn]=null,is=Cn[--Sn],Cn[Sn]=null,ns=Cn[--Sn],Cn[Sn]=null}var fn=null,cn=null,St=!1,ei=null;function lS(t,e){var r=En(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Ux(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,fn=t,cn=Qs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,fn=t,cn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=fo!==null?{id:ns,overflow:is}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=En(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,fn=t,cn=null,!0):!1;default:return!1}}function G1(t){return(t.mode&1)!==0&&(t.flags&128)===0}function q1(t){if(St){var e=cn;if(e){var r=e;if(!Ux(t,e)){if(G1(t))throw Error(J(418));e=Qs(r.nextSibling);var n=fn;e&&Ux(t,e)?lS(n,r):(t.flags=t.flags&-4097|2,St=!1,fn=t)}}else{if(G1(t))throw Error(J(418));t.flags=t.flags&-4097|2,St=!1,fn=t}}}function $x(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;fn=t}function Xd(t){if(t!==fn)return!1;if(!St)return $x(t),St=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!V1(t.type,t.memoizedProps)),e&&(e=cn)){if(G1(t))throw cS(),Error(J(418));for(;e;)lS(t,e),e=Qs(e.nextSibling)}if($x(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(J(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){cn=Qs(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}cn=null}}else cn=fn?Qs(t.stateNode.nextSibling):null;return!0}function cS(){for(var t=cn;t;)t=Qs(t.nextSibling)}function ql(){cn=fn=null,St=!1}function uv(t){ei===null?ei=[t]:ei.push(t)}var d6=ms.ReactCurrentBatchConfig;function Tc(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(J(309));var n=r.stateNode}if(!n)throw Error(J(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(J(284));if(!r._owner)throw Error(J(290,t))}return t}function Kd(t,e){throw t=Object.prototype.toString.call(e),Error(J(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Vx(t){var e=t._init;return e(t._payload)}function uS(t){function e(y,v){if(t){var _=y.deletions;_===null?(y.deletions=[v],y.flags|=16):_.push(v)}}function r(y,v){if(!t)return null;for(;v!==null;)e(y,v),v=v.sibling;return null}function n(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function i(y,v){return y=ra(y,v),y.index=0,y.sibling=null,y}function s(y,v,_){return y.index=_,t?(_=y.alternate,_!==null?(_=_.index,_<v?(y.flags|=2,v):_):(y.flags|=2,v)):(y.flags|=1048576,v)}function a(y){return t&&y.alternate===null&&(y.flags|=2),y}function o(y,v,_,w){return v===null||v.tag!==6?(v=T0(_,y.mode,w),v.return=y,v):(v=i(v,_),v.return=y,v)}function l(y,v,_,w){var S=_.type;return S===Vo?d(y,v,_.props.children,w,_.key):v!==null&&(v.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ns&&Vx(S)===v.type)?(w=i(v,_.props),w.ref=Tc(y,v,_),w.return=y,w):(w=Mf(_.type,_.key,_.props,null,y.mode,w),w.ref=Tc(y,v,_),w.return=y,w)}function c(y,v,_,w){return v===null||v.tag!==4||v.stateNode.containerInfo!==_.containerInfo||v.stateNode.implementation!==_.implementation?(v=I0(_,y.mode,w),v.return=y,v):(v=i(v,_.children||[]),v.return=y,v)}function d(y,v,_,w,S){return v===null||v.tag!==7?(v=oo(_,y.mode,w,S),v.return=y,v):(v=i(v,_),v.return=y,v)}function f(y,v,_){if(typeof v=="string"&&v!==""||typeof v=="number")return v=T0(""+v,y.mode,_),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ld:return _=Mf(v.type,v.key,v.props,null,y.mode,_),_.ref=Tc(y,null,v),_.return=y,_;case $o:return v=I0(v,y.mode,_),v.return=y,v;case Ns:var w=v._init;return f(y,w(v._payload),_)}if(Vc(v)||Cc(v))return v=oo(v,y.mode,_,null),v.return=y,v;Kd(y,v)}return null}function h(y,v,_,w){var S=v!==null?v.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return S!==null?null:o(y,v,""+_,w);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ld:return _.key===S?l(y,v,_,w):null;case $o:return _.key===S?c(y,v,_,w):null;case Ns:return S=_._init,h(y,v,S(_._payload),w)}if(Vc(_)||Cc(_))return S!==null?null:d(y,v,_,w,null);Kd(y,_)}return null}function p(y,v,_,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return y=y.get(_)||null,o(v,y,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ld:return y=y.get(w.key===null?_:w.key)||null,l(v,y,w,S);case $o:return y=y.get(w.key===null?_:w.key)||null,c(v,y,w,S);case Ns:var A=w._init;return p(y,v,_,A(w._payload),S)}if(Vc(w)||Cc(w))return y=y.get(_)||null,d(v,y,w,S,null);Kd(v,w)}return null}function g(y,v,_,w){for(var S=null,A=null,E=v,P=v=0,j=null;E!==null&&P<_.length;P++){E.index>P?(j=E,E=null):j=E.sibling;var F=h(y,E,_[P],w);if(F===null){E===null&&(E=j);break}t&&E&&F.alternate===null&&e(y,E),v=s(F,v,P),A===null?S=F:A.sibling=F,A=F,E=j}if(P===_.length)return r(y,E),St&&Ta(y,P),S;if(E===null){for(;P<_.length;P++)E=f(y,_[P],w),E!==null&&(v=s(E,v,P),A===null?S=E:A.sibling=E,A=E);return St&&Ta(y,P),S}for(E=n(y,E);P<_.length;P++)j=p(E,y,P,_[P],w),j!==null&&(t&&j.alternate!==null&&E.delete(j.key===null?P:j.key),v=s(j,v,P),A===null?S=j:A.sibling=j,A=j);return t&&E.forEach(function(H){return e(y,H)}),St&&Ta(y,P),S}function m(y,v,_,w){var S=Cc(_);if(typeof S!="function")throw Error(J(150));if(_=S.call(_),_==null)throw Error(J(151));for(var A=S=null,E=v,P=v=0,j=null,F=_.next();E!==null&&!F.done;P++,F=_.next()){E.index>P?(j=E,E=null):j=E.sibling;var H=h(y,E,F.value,w);if(H===null){E===null&&(E=j);break}t&&E&&H.alternate===null&&e(y,E),v=s(H,v,P),A===null?S=H:A.sibling=H,A=H,E=j}if(F.done)return r(y,E),St&&Ta(y,P),S;if(E===null){for(;!F.done;P++,F=_.next())F=f(y,F.value,w),F!==null&&(v=s(F,v,P),A===null?S=F:A.sibling=F,A=F);return St&&Ta(y,P),S}for(E=n(y,E);!F.done;P++,F=_.next())F=p(E,y,P,F.value,w),F!==null&&(t&&F.alternate!==null&&E.delete(F.key===null?P:F.key),v=s(F,v,P),A===null?S=F:A.sibling=F,A=F);return t&&E.forEach(function(L){return e(y,L)}),St&&Ta(y,P),S}function x(y,v,_,w){if(typeof _=="object"&&_!==null&&_.type===Vo&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Ld:e:{for(var S=_.key,A=v;A!==null;){if(A.key===S){if(S=_.type,S===Vo){if(A.tag===7){r(y,A.sibling),v=i(A,_.props.children),v.return=y,y=v;break e}}else if(A.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ns&&Vx(S)===A.type){r(y,A.sibling),v=i(A,_.props),v.ref=Tc(y,A,_),v.return=y,y=v;break e}r(y,A);break}else e(y,A);A=A.sibling}_.type===Vo?(v=oo(_.props.children,y.mode,w,_.key),v.return=y,y=v):(w=Mf(_.type,_.key,_.props,null,y.mode,w),w.ref=Tc(y,v,_),w.return=y,y=w)}return a(y);case $o:e:{for(A=_.key;v!==null;){if(v.key===A)if(v.tag===4&&v.stateNode.containerInfo===_.containerInfo&&v.stateNode.implementation===_.implementation){r(y,v.sibling),v=i(v,_.children||[]),v.return=y,y=v;break e}else{r(y,v);break}else e(y,v);v=v.sibling}v=I0(_,y.mode,w),v.return=y,y=v}return a(y);case Ns:return A=_._init,x(y,v,A(_._payload),w)}if(Vc(_))return g(y,v,_,w);if(Cc(_))return m(y,v,_,w);Kd(y,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,v!==null&&v.tag===6?(r(y,v.sibling),v=i(v,_),v.return=y,y=v):(r(y,v),v=T0(_,y.mode,w),v.return=y,y=v),a(y)):r(y,v)}return x}var Xl=uS(!0),dS=uS(!1),hh=wa(null),ph=null,Yo=null,dv=null;function fv(){dv=Yo=ph=null}function hv(t){var e=hh.current;bt(hh),t._currentValue=e}function X1(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function al(t,e){ph=t,dv=Yo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Qr=!0),t.firstContext=null)}function On(t){var e=t._currentValue;if(dv!==t)if(t={context:t,memoizedValue:e,next:null},Yo===null){if(ph===null)throw Error(J(308));Yo=t,ph.dependencies={lanes:0,firstContext:t}}else Yo=Yo.next=t;return e}var Da=null;function pv(t){Da===null?Da=[t]:Da.push(t)}function fS(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,pv(e)):(r.next=i.next,i.next=r),e.interleaved=r,cs(t,n)}function cs(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Ts=!1;function mv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ss(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Js(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Ge&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,cs(t,r)}return i=n.interleaved,i===null?(e.next=e,pv(n)):(e.next=i.next,i.next=e),n.interleaved=e,cs(t,r)}function Of(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,ev(t,r)}}function zx(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function mh(t,e,r,n){var i=t.updateQueue;Ts=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?s=c:a.next=c,a=l;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;a=0,d=c=l=null,o=s;do{var h=o.lane,p=o.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=t,m=o;switch(h=e,p=r,m.tag){case 1:if(g=m.payload,typeof g=="function"){f=g.call(p,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,h=typeof g=="function"?g.call(p,f,h):g,h==null)break e;f=It({},f,h);break e;case 2:Ts=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(c=d=p,l=f):d=d.next=p,a|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);po|=a,t.lanes=a,t.memoizedState=f}}function Hx(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(J(191,i));i.call(n)}}}var bd={},Mi=wa(bd),Tu=wa(bd),Iu=wa(bd);function ja(t){if(t===bd)throw Error(J(174));return t}function gv(t,e){switch(gt(Iu,e),gt(Tu,t),gt(Mi,bd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:T1(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=T1(e,t)}bt(Mi),gt(Mi,e)}function Kl(){bt(Mi),bt(Tu),bt(Iu)}function pS(t){ja(Iu.current);var e=ja(Mi.current),r=T1(e,t.type);e!==r&&(gt(Tu,t),gt(Mi,r))}function vv(t){Tu.current===t&&(bt(Mi),bt(Tu))}var At=wa(0);function gh(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var b0=[];function yv(){for(var t=0;t<b0.length;t++)b0[t]._workInProgressVersionPrimary=null;b0.length=0}var Rf=ms.ReactCurrentDispatcher,C0=ms.ReactCurrentBatchConfig,ho=0,Tt=null,qt=null,ar=null,vh=!1,lu=!1,Pu=0,f6=0;function xr(){throw Error(J(321))}function xv(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!fi(t[r],e[r]))return!1;return!0}function wv(t,e,r,n,i,s){if(ho=s,Tt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Rf.current=t===null||t.memoizedState===null?g6:v6,t=r(n,i),lu){s=0;do{if(lu=!1,Pu=0,25<=s)throw Error(J(301));s+=1,ar=qt=null,e.updateQueue=null,Rf.current=y6,t=r(n,i)}while(lu)}if(Rf.current=yh,e=qt!==null&&qt.next!==null,ho=0,ar=qt=Tt=null,vh=!1,e)throw Error(J(300));return t}function _v(){var t=Pu!==0;return Pu=0,t}function bi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ar===null?Tt.memoizedState=ar=t:ar=ar.next=t,ar}function Rn(){if(qt===null){var t=Tt.alternate;t=t!==null?t.memoizedState:null}else t=qt.next;var e=ar===null?Tt.memoizedState:ar.next;if(e!==null)ar=e,qt=t;else{if(t===null)throw Error(J(310));qt=t,t={memoizedState:qt.memoizedState,baseState:qt.baseState,baseQueue:qt.baseQueue,queue:qt.queue,next:null},ar===null?Tt.memoizedState=ar=t:ar=ar.next=t}return ar}function Ou(t,e){return typeof e=="function"?e(t):e}function S0(t){var e=Rn(),r=e.queue;if(r===null)throw Error(J(311));r.lastRenderedReducer=t;var n=qt,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var o=a=null,l=null,c=s;do{var d=c.lane;if((ho&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=f,a=n):l=l.next=f,Tt.lanes|=d,po|=d}c=c.next}while(c!==null&&c!==s);l===null?a=n:l.next=o,fi(n,e.memoizedState)||(Qr=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,Tt.lanes|=s,po|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function E0(t){var e=Rn(),r=e.queue;if(r===null)throw Error(J(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);fi(s,e.memoizedState)||(Qr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function mS(){}function gS(t,e){var r=Tt,n=Rn(),i=e(),s=!fi(n.memoizedState,i);if(s&&(n.memoizedState=i,Qr=!0),n=n.queue,bv(xS.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||ar!==null&&ar.memoizedState.tag&1){if(r.flags|=2048,Ru(9,yS.bind(null,r,n,i,e),void 0,null),cr===null)throw Error(J(349));ho&30||vS(r,e,i)}return i}function vS(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Tt.updateQueue,e===null?(e={lastEffect:null,stores:null},Tt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function yS(t,e,r,n){e.value=r,e.getSnapshot=n,wS(e)&&_S(t)}function xS(t,e,r){return r(function(){wS(e)&&_S(t)})}function wS(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!fi(t,r)}catch{return!0}}function _S(t){var e=cs(t,1);e!==null&&di(e,t,1,-1)}function Wx(t){var e=bi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ou,lastRenderedState:t},e.queue=t,t=t.dispatch=m6.bind(null,Tt,t),[e.memoizedState,t]}function Ru(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Tt.updateQueue,e===null?(e={lastEffect:null,stores:null},Tt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function bS(){return Rn().memoizedState}function kf(t,e,r,n){var i=bi();Tt.flags|=t,i.memoizedState=Ru(1|e,r,void 0,n===void 0?null:n)}function gp(t,e,r,n){var i=Rn();n=n===void 0?null:n;var s=void 0;if(qt!==null){var a=qt.memoizedState;if(s=a.destroy,n!==null&&xv(n,a.deps)){i.memoizedState=Ru(e,r,s,n);return}}Tt.flags|=t,i.memoizedState=Ru(1|e,r,s,n)}function Gx(t,e){return kf(8390656,8,t,e)}function bv(t,e){return gp(2048,8,t,e)}function CS(t,e){return gp(4,2,t,e)}function SS(t,e){return gp(4,4,t,e)}function ES(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function AS(t,e,r){return r=r!=null?r.concat([t]):null,gp(4,4,ES.bind(null,e,t),r)}function Cv(){}function NS(t,e){var r=Rn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&xv(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function TS(t,e){var r=Rn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&xv(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function IS(t,e,r){return ho&21?(fi(r,e)||(r=DC(),Tt.lanes|=r,po|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Qr=!0),t.memoizedState=r)}function h6(t,e){var r=ct;ct=r!==0&&4>r?r:4,t(!0);var n=C0.transition;C0.transition={};try{t(!1),e()}finally{ct=r,C0.transition=n}}function PS(){return Rn().memoizedState}function p6(t,e,r){var n=ta(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},OS(t))RS(e,r);else if(r=fS(t,e,r,n),r!==null){var i=Ur();di(r,t,n,i),kS(r,e,n)}}function m6(t,e,r){var n=ta(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(OS(t))RS(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,r);if(i.hasEagerState=!0,i.eagerState=o,fi(o,a)){var l=e.interleaved;l===null?(i.next=i,pv(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=fS(t,e,i,n),r!==null&&(i=Ur(),di(r,t,n,i),kS(r,e,n))}}function OS(t){var e=t.alternate;return t===Tt||e!==null&&e===Tt}function RS(t,e){lu=vh=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function kS(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,ev(t,r)}}var yh={readContext:On,useCallback:xr,useContext:xr,useEffect:xr,useImperativeHandle:xr,useInsertionEffect:xr,useLayoutEffect:xr,useMemo:xr,useReducer:xr,useRef:xr,useState:xr,useDebugValue:xr,useDeferredValue:xr,useTransition:xr,useMutableSource:xr,useSyncExternalStore:xr,useId:xr,unstable_isNewReconciler:!1},g6={readContext:On,useCallback:function(t,e){return bi().memoizedState=[t,e===void 0?null:e],t},useContext:On,useEffect:Gx,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,kf(4194308,4,ES.bind(null,e,t),r)},useLayoutEffect:function(t,e){return kf(4194308,4,t,e)},useInsertionEffect:function(t,e){return kf(4,2,t,e)},useMemo:function(t,e){var r=bi();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=bi();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=p6.bind(null,Tt,t),[n.memoizedState,t]},useRef:function(t){var e=bi();return t={current:t},e.memoizedState=t},useState:Wx,useDebugValue:Cv,useDeferredValue:function(t){return bi().memoizedState=t},useTransition:function(){var t=Wx(!1),e=t[0];return t=h6.bind(null,t[1]),bi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Tt,i=bi();if(St){if(r===void 0)throw Error(J(407));r=r()}else{if(r=e(),cr===null)throw Error(J(349));ho&30||vS(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,Gx(xS.bind(null,n,s,t),[t]),n.flags|=2048,Ru(9,yS.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=bi(),e=cr.identifierPrefix;if(St){var r=is,n=ns;r=(n&~(1<<32-ui(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Pu++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=f6++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},v6={readContext:On,useCallback:NS,useContext:On,useEffect:bv,useImperativeHandle:AS,useInsertionEffect:CS,useLayoutEffect:SS,useMemo:TS,useReducer:S0,useRef:bS,useState:function(){return S0(Ou)},useDebugValue:Cv,useDeferredValue:function(t){var e=Rn();return IS(e,qt.memoizedState,t)},useTransition:function(){var t=S0(Ou)[0],e=Rn().memoizedState;return[t,e]},useMutableSource:mS,useSyncExternalStore:gS,useId:PS,unstable_isNewReconciler:!1},y6={readContext:On,useCallback:NS,useContext:On,useEffect:bv,useImperativeHandle:AS,useInsertionEffect:CS,useLayoutEffect:SS,useMemo:TS,useReducer:E0,useRef:bS,useState:function(){return E0(Ou)},useDebugValue:Cv,useDeferredValue:function(t){var e=Rn();return qt===null?e.memoizedState=t:IS(e,qt.memoizedState,t)},useTransition:function(){var t=E0(Ou)[0],e=Rn().memoizedState;return[t,e]},useMutableSource:mS,useSyncExternalStore:gS,useId:PS,unstable_isNewReconciler:!1};function Vn(t,e){if(t&&t.defaultProps){e=It({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function K1(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:It({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var vp={isMounted:function(t){return(t=t._reactInternals)?Eo(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Ur(),i=ta(t),s=ss(n,i);s.payload=e,r!=null&&(s.callback=r),e=Js(t,s,i),e!==null&&(di(e,t,i,n),Of(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Ur(),i=ta(t),s=ss(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=Js(t,s,i),e!==null&&(di(e,t,i,n),Of(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Ur(),n=ta(t),i=ss(r,n);i.tag=2,e!=null&&(i.callback=e),e=Js(t,i,n),e!==null&&(di(e,t,n,r),Of(e,t,n))}};function qx(t,e,r,n,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,a):e.prototype&&e.prototype.isPureReactComponent?!Su(r,n)||!Su(i,s):!0}function DS(t,e,r){var n=!1,i=ha,s=e.contextType;return typeof s=="object"&&s!==null?s=On(s):(i=en(e)?uo:Nr.current,n=e.contextTypes,s=(n=n!=null)?Gl(t,i):ha),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=vp,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Xx(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&vp.enqueueReplaceState(e,e.state,null)}function Y1(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},mv(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=On(s):(s=en(e)?uo:Nr.current,i.context=Gl(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(K1(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&vp.enqueueReplaceState(i,i.state,null),mh(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Yl(t,e){try{var r="",n=e;do r+=GT(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function A0(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Z1(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var x6=typeof WeakMap=="function"?WeakMap:Map;function jS(t,e,r){r=ss(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){wh||(wh=!0,om=n),Z1(t,e)},r}function FS(t,e,r){r=ss(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){Z1(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){Z1(t,e),typeof n!="function"&&(ea===null?ea=new Set([this]):ea.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function Kx(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new x6;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=k6.bind(null,t,e,r),e.then(t,t))}function Yx(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Zx(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=ss(-1,1),e.tag=2,Js(r,e,1))),r.lanes|=1),t)}var w6=ms.ReactCurrentOwner,Qr=!1;function Lr(t,e,r,n){e.child=t===null?dS(e,null,r,n):Xl(e,t.child,r,n)}function Qx(t,e,r,n,i){r=r.render;var s=e.ref;return al(e,i),n=wv(t,e,r,n,s,i),r=_v(),t!==null&&!Qr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,us(t,e,i)):(St&&r&&lv(e),e.flags|=1,Lr(t,e,n,i),e.child)}function Jx(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!Ov(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,MS(t,e,s,n,i)):(t=Mf(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:Su,r(a,n)&&t.ref===e.ref)return us(t,e,i)}return e.flags|=1,t=ra(s,n),t.ref=e.ref,t.return=e,e.child=t}function MS(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(Su(s,n)&&t.ref===e.ref)if(Qr=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(Qr=!0);else return e.lanes=t.lanes,us(t,e,i)}return Q1(t,e,r,n,i)}function LS(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},gt(Qo,sn),sn|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,gt(Qo,sn),sn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,gt(Qo,sn),sn|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,gt(Qo,sn),sn|=n;return Lr(t,e,i,r),e.child}function BS(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Q1(t,e,r,n,i){var s=en(r)?uo:Nr.current;return s=Gl(e,s),al(e,i),r=wv(t,e,r,n,s,i),n=_v(),t!==null&&!Qr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,us(t,e,i)):(St&&n&&lv(e),e.flags|=1,Lr(t,e,r,i),e.child)}function ew(t,e,r,n,i){if(en(r)){var s=!0;uh(e)}else s=!1;if(al(e,i),e.stateNode===null)Df(t,e),DS(e,r,n),Y1(e,r,n,i),n=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,c=r.contextType;typeof c=="object"&&c!==null?c=On(c):(c=en(r)?uo:Nr.current,c=Gl(e,c));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||l!==c)&&Xx(e,a,n,c),Ts=!1;var h=e.memoizedState;a.state=h,mh(e,n,a,i),l=e.memoizedState,o!==n||h!==l||Jr.current||Ts?(typeof d=="function"&&(K1(e,r,d,n),l=e.memoizedState),(o=Ts||qx(e,r,o,n,h,l,c))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),a.props=n,a.state=l,a.context=c,n=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,hS(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:Vn(e.type,o),a.props=c,f=e.pendingProps,h=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=On(l):(l=en(r)?uo:Nr.current,l=Gl(e,l));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==f||h!==l)&&Xx(e,a,n,l),Ts=!1,h=e.memoizedState,a.state=h,mh(e,n,a,i);var g=e.memoizedState;o!==f||h!==g||Jr.current||Ts?(typeof p=="function"&&(K1(e,r,p,n),g=e.memoizedState),(c=Ts||qx(e,r,c,n,h,g,l)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,g,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,g,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=g),a.props=n,a.state=g,a.context=l,n=c):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return J1(t,e,r,n,s,i)}function J1(t,e,r,n,i,s){BS(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return i&&Bx(e,r,!1),us(t,e,s);n=e.stateNode,w6.current=e;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=Xl(e,t.child,null,s),e.child=Xl(e,null,o,s)):Lr(t,e,o,s),e.memoizedState=n.state,i&&Bx(e,r,!0),e.child}function US(t){var e=t.stateNode;e.pendingContext?Lx(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Lx(t,e.context,!1),gv(t,e.containerInfo)}function tw(t,e,r,n,i){return ql(),uv(i),e.flags|=256,Lr(t,e,r,n),e.child}var em={dehydrated:null,treeContext:null,retryLane:0};function tm(t){return{baseLanes:t,cachePool:null,transitions:null}}function $S(t,e,r){var n=e.pendingProps,i=At.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),gt(At,i&1),t===null)return q1(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,s?(n=e.mode,s=e.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=wp(a,n,0,null),t=oo(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=tm(r),e.memoizedState=em,t):Sv(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return _6(t,e,a,n,o,i,r);if(s){s=n.fallback,a=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=ra(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=ra(o,s):(s=oo(s,a,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,a=t.child.memoizedState,a=a===null?tm(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~r,e.memoizedState=em,n}return s=t.child,t=s.sibling,n=ra(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Sv(t,e){return e=wp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Yd(t,e,r,n){return n!==null&&uv(n),Xl(e,t.child,null,r),t=Sv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function _6(t,e,r,n,i,s,a){if(r)return e.flags&256?(e.flags&=-257,n=A0(Error(J(422))),Yd(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=wp({mode:"visible",children:n.children},i,0,null),s=oo(s,i,a,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&Xl(e,t.child,null,a),e.child.memoizedState=tm(a),e.memoizedState=em,s);if(!(e.mode&1))return Yd(t,e,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(J(419)),n=A0(s,n,void 0),Yd(t,e,a,n)}if(o=(a&t.childLanes)!==0,Qr||o){if(n=cr,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,cs(t,i),di(n,t,i,-1))}return Pv(),n=A0(Error(J(421))),Yd(t,e,a,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=D6.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,cn=Qs(i.nextSibling),fn=e,St=!0,ei=null,t!==null&&(Cn[Sn++]=ns,Cn[Sn++]=is,Cn[Sn++]=fo,ns=t.id,is=t.overflow,fo=e),e=Sv(e,n.children),e.flags|=4096,e)}function rw(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),X1(t.return,e,r)}function N0(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function VS(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(Lr(t,e,n.children,r),n=At.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&rw(t,r,e);else if(t.tag===19)rw(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(gt(At,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&gh(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),N0(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&gh(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}N0(e,!0,r,null,s);break;case"together":N0(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Df(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function us(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),po|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(J(153));if(e.child!==null){for(t=e.child,r=ra(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=ra(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function b6(t,e,r){switch(e.tag){case 3:US(e),ql();break;case 5:pS(e);break;case 1:en(e.type)&&uh(e);break;case 4:gv(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;gt(hh,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(gt(At,At.current&1),e.flags|=128,null):r&e.child.childLanes?$S(t,e,r):(gt(At,At.current&1),t=us(t,e,r),t!==null?t.sibling:null);gt(At,At.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return VS(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),gt(At,At.current),n)break;return null;case 22:case 23:return e.lanes=0,LS(t,e,r)}return us(t,e,r)}var zS,rm,HS,WS;zS=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};rm=function(){};HS=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,ja(Mi.current);var s=null;switch(r){case"input":i=S1(t,i),n=S1(t,n),s=[];break;case"select":i=It({},i,{value:void 0}),n=It({},n,{value:void 0}),s=[];break;case"textarea":i=N1(t,i),n=N1(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=lh)}I1(r,n);var a;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(vu.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in n){var l=n[c];if(o=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(s||(s=[]),s.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(vu.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&xt("scroll",t),s||o===l||(s=[])):(s=s||[]).push(c,l))}r&&(s=s||[]).push("style",r);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};WS=function(t,e,r,n){r!==n&&(e.flags|=4)};function Ic(t,e){if(!St)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function wr(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function C6(t,e,r){var n=e.pendingProps;switch(cv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wr(e),null;case 1:return en(e.type)&&ch(),wr(e),null;case 3:return n=e.stateNode,Kl(),bt(Jr),bt(Nr),yv(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Xd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ei!==null&&(um(ei),ei=null))),rm(t,e),wr(e),null;case 5:vv(e);var i=ja(Iu.current);if(r=e.type,t!==null&&e.stateNode!=null)HS(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(J(166));return wr(e),null}if(t=ja(Mi.current),Xd(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[Oi]=e,n[Nu]=s,t=(e.mode&1)!==0,r){case"dialog":xt("cancel",n),xt("close",n);break;case"iframe":case"object":case"embed":xt("load",n);break;case"video":case"audio":for(i=0;i<Hc.length;i++)xt(Hc[i],n);break;case"source":xt("error",n);break;case"img":case"image":case"link":xt("error",n),xt("load",n);break;case"details":xt("toggle",n);break;case"input":dx(n,s),xt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},xt("invalid",n);break;case"textarea":hx(n,s),xt("invalid",n)}I1(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&qd(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&qd(n.textContent,o,t),i=["children",""+o]):vu.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&xt("scroll",n)}switch(r){case"input":Bd(n),fx(n,s,!0);break;case"textarea":Bd(n),px(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=lh)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=xC(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[Oi]=e,t[Nu]=n,zS(t,e,!1,!1),e.stateNode=t;e:{switch(a=P1(r,n),r){case"dialog":xt("cancel",t),xt("close",t),i=n;break;case"iframe":case"object":case"embed":xt("load",t),i=n;break;case"video":case"audio":for(i=0;i<Hc.length;i++)xt(Hc[i],t);i=n;break;case"source":xt("error",t),i=n;break;case"img":case"image":case"link":xt("error",t),xt("load",t),i=n;break;case"details":xt("toggle",t),i=n;break;case"input":dx(t,n),i=S1(t,n),xt("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=It({},n,{value:void 0}),xt("invalid",t);break;case"textarea":hx(t,n),i=N1(t,n),xt("invalid",t);break;default:i=n}I1(r,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?bC(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&wC(t,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&yu(t,l):typeof l=="number"&&yu(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(vu.hasOwnProperty(s)?l!=null&&s==="onScroll"&&xt("scroll",t):l!=null&&Xg(t,s,l,a))}switch(r){case"input":Bd(t),fx(t,n,!1);break;case"textarea":Bd(t),px(t);break;case"option":n.value!=null&&t.setAttribute("value",""+fa(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?rl(t,!!n.multiple,s,!1):n.defaultValue!=null&&rl(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=lh)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return wr(e),null;case 6:if(t&&e.stateNode!=null)WS(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(J(166));if(r=ja(Iu.current),ja(Mi.current),Xd(e)){if(n=e.stateNode,r=e.memoizedProps,n[Oi]=e,(s=n.nodeValue!==r)&&(t=fn,t!==null))switch(t.tag){case 3:qd(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&qd(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Oi]=e,e.stateNode=n}return wr(e),null;case 13:if(bt(At),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(St&&cn!==null&&e.mode&1&&!(e.flags&128))cS(),ql(),e.flags|=98560,s=!1;else if(s=Xd(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(J(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(J(317));s[Oi]=e}else ql(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;wr(e),s=!1}else ei!==null&&(um(ei),ei=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||At.current&1?Jt===0&&(Jt=3):Pv())),e.updateQueue!==null&&(e.flags|=4),wr(e),null);case 4:return Kl(),rm(t,e),t===null&&Eu(e.stateNode.containerInfo),wr(e),null;case 10:return hv(e.type._context),wr(e),null;case 17:return en(e.type)&&ch(),wr(e),null;case 19:if(bt(At),s=e.memoizedState,s===null)return wr(e),null;if(n=(e.flags&128)!==0,a=s.rendering,a===null)if(n)Ic(s,!1);else{if(Jt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=gh(t),a!==null){for(e.flags|=128,Ic(s,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return gt(At,At.current&1|2),e.child}t=t.sibling}s.tail!==null&&jt()>Zl&&(e.flags|=128,n=!0,Ic(s,!1),e.lanes=4194304)}else{if(!n)if(t=gh(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Ic(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!St)return wr(e),null}else 2*jt()-s.renderingStartTime>Zl&&r!==1073741824&&(e.flags|=128,n=!0,Ic(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(r=s.last,r!==null?r.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=jt(),e.sibling=null,r=At.current,gt(At,n?r&1|2:r&1),e):(wr(e),null);case 22:case 23:return Iv(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?sn&1073741824&&(wr(e),e.subtreeFlags&6&&(e.flags|=8192)):wr(e),null;case 24:return null;case 25:return null}throw Error(J(156,e.tag))}function S6(t,e){switch(cv(e),e.tag){case 1:return en(e.type)&&ch(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Kl(),bt(Jr),bt(Nr),yv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return vv(e),null;case 13:if(bt(At),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(J(340));ql()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return bt(At),null;case 4:return Kl(),null;case 10:return hv(e.type._context),null;case 22:case 23:return Iv(),null;case 24:return null;default:return null}}var Zd=!1,Er=!1,E6=typeof WeakSet=="function"?WeakSet:Set,pe=null;function Zo(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ot(t,e,n)}else r.current=null}function nm(t,e,r){try{r()}catch(n){Ot(t,e,n)}}var nw=!1;function A6(t,e){if(U1=sh,t=YC(),ov(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,o=-1,l=-1,c=0,d=0,f=t,h=null;t:for(;;){for(var p;f!==r||i!==0&&f.nodeType!==3||(o=a+i),f!==s||n!==0&&f.nodeType!==3||(l=a+n),f.nodeType===3&&(a+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===t)break t;if(h===r&&++c===i&&(o=a),h===s&&++d===n&&(l=a),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for($1={focusedElem:t,selectionRange:r},sh=!1,pe=e;pe!==null;)if(e=pe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,pe=t;else for(;pe!==null;){e=pe;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,x=g.memoizedState,y=e.stateNode,v=y.getSnapshotBeforeUpdate(e.elementType===e.type?m:Vn(e.type,m),x);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(w){Ot(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,pe=t;break}pe=e.return}return g=nw,nw=!1,g}function cu(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&nm(e,r,s)}i=i.next}while(i!==n)}}function yp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function im(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function GS(t){var e=t.alternate;e!==null&&(t.alternate=null,GS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Oi],delete e[Nu],delete e[H1],delete e[l6],delete e[c6])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function qS(t){return t.tag===5||t.tag===3||t.tag===4}function iw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||qS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function sm(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=lh));else if(n!==4&&(t=t.child,t!==null))for(sm(t,e,r),t=t.sibling;t!==null;)sm(t,e,r),t=t.sibling}function am(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(am(t,e,r),t=t.sibling;t!==null;)am(t,e,r),t=t.sibling}var pr=null,Zn=!1;function xs(t,e,r){for(r=r.child;r!==null;)XS(t,e,r),r=r.sibling}function XS(t,e,r){if(Fi&&typeof Fi.onCommitFiberUnmount=="function")try{Fi.onCommitFiberUnmount(up,r)}catch{}switch(r.tag){case 5:Er||Zo(r,e);case 6:var n=pr,i=Zn;pr=null,xs(t,e,r),pr=n,Zn=i,pr!==null&&(Zn?(t=pr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):pr.removeChild(r.stateNode));break;case 18:pr!==null&&(Zn?(t=pr,r=r.stateNode,t.nodeType===8?w0(t.parentNode,r):t.nodeType===1&&w0(t,r),bu(t)):w0(pr,r.stateNode));break;case 4:n=pr,i=Zn,pr=r.stateNode.containerInfo,Zn=!0,xs(t,e,r),pr=n,Zn=i;break;case 0:case 11:case 14:case 15:if(!Er&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&nm(r,e,a),i=i.next}while(i!==n)}xs(t,e,r);break;case 1:if(!Er&&(Zo(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Ot(r,e,o)}xs(t,e,r);break;case 21:xs(t,e,r);break;case 22:r.mode&1?(Er=(n=Er)||r.memoizedState!==null,xs(t,e,r),Er=n):xs(t,e,r);break;default:xs(t,e,r)}}function sw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new E6),e.forEach(function(n){var i=j6.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Mn(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:pr=o.stateNode,Zn=!1;break e;case 3:pr=o.stateNode.containerInfo,Zn=!0;break e;case 4:pr=o.stateNode.containerInfo,Zn=!0;break e}o=o.return}if(pr===null)throw Error(J(160));XS(s,a,i),pr=null,Zn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Ot(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)KS(e,t),e=e.sibling}function KS(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Mn(e,t),xi(t),n&4){try{cu(3,t,t.return),yp(3,t)}catch(m){Ot(t,t.return,m)}try{cu(5,t,t.return)}catch(m){Ot(t,t.return,m)}}break;case 1:Mn(e,t),xi(t),n&512&&r!==null&&Zo(r,r.return);break;case 5:if(Mn(e,t),xi(t),n&512&&r!==null&&Zo(r,r.return),t.flags&32){var i=t.stateNode;try{yu(i,"")}catch(m){Ot(t,t.return,m)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=r!==null?r.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&vC(i,s),P1(o,a);var c=P1(o,s);for(a=0;a<l.length;a+=2){var d=l[a],f=l[a+1];d==="style"?bC(i,f):d==="dangerouslySetInnerHTML"?wC(i,f):d==="children"?yu(i,f):Xg(i,d,f,c)}switch(o){case"input":E1(i,s);break;case"textarea":yC(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?rl(i,!!s.multiple,p,!1):h!==!!s.multiple&&(s.defaultValue!=null?rl(i,!!s.multiple,s.defaultValue,!0):rl(i,!!s.multiple,s.multiple?[]:"",!1))}i[Nu]=s}catch(m){Ot(t,t.return,m)}}break;case 6:if(Mn(e,t),xi(t),n&4){if(t.stateNode===null)throw Error(J(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(m){Ot(t,t.return,m)}}break;case 3:if(Mn(e,t),xi(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{bu(e.containerInfo)}catch(m){Ot(t,t.return,m)}break;case 4:Mn(e,t),xi(t);break;case 13:Mn(e,t),xi(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Nv=jt())),n&4&&sw(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(Er=(c=Er)||d,Mn(e,t),Er=c):Mn(e,t),xi(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(pe=t,d=t.child;d!==null;){for(f=pe=d;pe!==null;){switch(h=pe,p=h.child,h.tag){case 0:case 11:case 14:case 15:cu(4,h,h.return);break;case 1:Zo(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(m){Ot(n,r,m)}}break;case 5:Zo(h,h.return);break;case 22:if(h.memoizedState!==null){ow(f);continue}}p!==null?(p.return=h,pe=p):ow(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=_C("display",a))}catch(m){Ot(t,t.return,m)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(m){Ot(t,t.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Mn(e,t),xi(t),n&4&&sw(t);break;case 21:break;default:Mn(e,t),xi(t)}}function xi(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(qS(r)){var n=r;break e}r=r.return}throw Error(J(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(yu(i,""),n.flags&=-33);var s=iw(t);am(t,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,o=iw(t);sm(t,o,a);break;default:throw Error(J(161))}}catch(l){Ot(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function N6(t,e,r){pe=t,YS(t)}function YS(t,e,r){for(var n=(t.mode&1)!==0;pe!==null;){var i=pe,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||Zd;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Er;o=Zd;var c=Er;if(Zd=a,(Er=l)&&!c)for(pe=i;pe!==null;)a=pe,l=a.child,a.tag===22&&a.memoizedState!==null?lw(i):l!==null?(l.return=a,pe=l):lw(i);for(;s!==null;)pe=s,YS(s),s=s.sibling;pe=i,Zd=o,Er=c}aw(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,pe=s):aw(t)}}function aw(t){for(;pe!==null;){var e=pe;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Er||yp(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Er)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Vn(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Hx(e,s,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Hx(e,a,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&bu(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}Er||e.flags&512&&im(e)}catch(h){Ot(e,e.return,h)}}if(e===t){pe=null;break}if(r=e.sibling,r!==null){r.return=e.return,pe=r;break}pe=e.return}}function ow(t){for(;pe!==null;){var e=pe;if(e===t){pe=null;break}var r=e.sibling;if(r!==null){r.return=e.return,pe=r;break}pe=e.return}}function lw(t){for(;pe!==null;){var e=pe;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{yp(4,e)}catch(l){Ot(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){Ot(e,i,l)}}var s=e.return;try{im(e)}catch(l){Ot(e,s,l)}break;case 5:var a=e.return;try{im(e)}catch(l){Ot(e,a,l)}}}catch(l){Ot(e,e.return,l)}if(e===t){pe=null;break}var o=e.sibling;if(o!==null){o.return=e.return,pe=o;break}pe=e.return}}var T6=Math.ceil,xh=ms.ReactCurrentDispatcher,Ev=ms.ReactCurrentOwner,In=ms.ReactCurrentBatchConfig,Ge=0,cr=null,$t=null,gr=0,sn=0,Qo=wa(0),Jt=0,ku=null,po=0,xp=0,Av=0,uu=null,Yr=null,Nv=0,Zl=1/0,Gi=null,wh=!1,om=null,ea=null,Qd=!1,Gs=null,_h=0,du=0,lm=null,jf=-1,Ff=0;function Ur(){return Ge&6?jt():jf!==-1?jf:jf=jt()}function ta(t){return t.mode&1?Ge&2&&gr!==0?gr&-gr:d6.transition!==null?(Ff===0&&(Ff=DC()),Ff):(t=ct,t!==0||(t=window.event,t=t===void 0?16:$C(t.type)),t):1}function di(t,e,r,n){if(50<du)throw du=0,lm=null,Error(J(185));xd(t,r,n),(!(Ge&2)||t!==cr)&&(t===cr&&(!(Ge&2)&&(xp|=r),Jt===4&&Rs(t,gr)),tn(t,n),r===1&&Ge===0&&!(e.mode&1)&&(Zl=jt()+500,mp&&_a()))}function tn(t,e){var r=t.callbackNode;dI(t,e);var n=ih(t,t===cr?gr:0);if(n===0)r!==null&&vx(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&vx(r),e===1)t.tag===0?u6(cw.bind(null,t)):aS(cw.bind(null,t)),a6(function(){!(Ge&6)&&_a()}),r=null;else{switch(jC(n)){case 1:r=Jg;break;case 4:r=RC;break;case 16:r=nh;break;case 536870912:r=kC;break;default:r=nh}r=iE(r,ZS.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function ZS(t,e){if(jf=-1,Ff=0,Ge&6)throw Error(J(327));var r=t.callbackNode;if(ol()&&t.callbackNode!==r)return null;var n=ih(t,t===cr?gr:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=bh(t,n);else{e=n;var i=Ge;Ge|=2;var s=JS();(cr!==t||gr!==e)&&(Gi=null,Zl=jt()+500,ao(t,e));do try{O6();break}catch(o){QS(t,o)}while(!0);fv(),xh.current=s,Ge=i,$t!==null?e=0:(cr=null,gr=0,e=Jt)}if(e!==0){if(e===2&&(i=j1(t),i!==0&&(n=i,e=cm(t,i))),e===1)throw r=ku,ao(t,0),Rs(t,n),tn(t,jt()),r;if(e===6)Rs(t,n);else{if(i=t.current.alternate,!(n&30)&&!I6(i)&&(e=bh(t,n),e===2&&(s=j1(t),s!==0&&(n=s,e=cm(t,s))),e===1))throw r=ku,ao(t,0),Rs(t,n),tn(t,jt()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(J(345));case 2:Ia(t,Yr,Gi);break;case 3:if(Rs(t,n),(n&130023424)===n&&(e=Nv+500-jt(),10<e)){if(ih(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Ur(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=z1(Ia.bind(null,t,Yr,Gi),e);break}Ia(t,Yr,Gi);break;case 4:if(Rs(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var a=31-ui(n);s=1<<a,a=e[a],a>i&&(i=a),n&=~s}if(n=i,n=jt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*T6(n/1960))-n,10<n){t.timeoutHandle=z1(Ia.bind(null,t,Yr,Gi),n);break}Ia(t,Yr,Gi);break;case 5:Ia(t,Yr,Gi);break;default:throw Error(J(329))}}}return tn(t,jt()),t.callbackNode===r?ZS.bind(null,t):null}function cm(t,e){var r=uu;return t.current.memoizedState.isDehydrated&&(ao(t,e).flags|=256),t=bh(t,e),t!==2&&(e=Yr,Yr=r,e!==null&&um(e)),t}function um(t){Yr===null?Yr=t:Yr.push.apply(Yr,t)}function I6(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!fi(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Rs(t,e){for(e&=~Av,e&=~xp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-ui(e),n=1<<r;t[r]=-1,e&=~n}}function cw(t){if(Ge&6)throw Error(J(327));ol();var e=ih(t,0);if(!(e&1))return tn(t,jt()),null;var r=bh(t,e);if(t.tag!==0&&r===2){var n=j1(t);n!==0&&(e=n,r=cm(t,n))}if(r===1)throw r=ku,ao(t,0),Rs(t,e),tn(t,jt()),r;if(r===6)throw Error(J(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ia(t,Yr,Gi),tn(t,jt()),null}function Tv(t,e){var r=Ge;Ge|=1;try{return t(e)}finally{Ge=r,Ge===0&&(Zl=jt()+500,mp&&_a())}}function mo(t){Gs!==null&&Gs.tag===0&&!(Ge&6)&&ol();var e=Ge;Ge|=1;var r=In.transition,n=ct;try{if(In.transition=null,ct=1,t)return t()}finally{ct=n,In.transition=r,Ge=e,!(Ge&6)&&_a()}}function Iv(){sn=Qo.current,bt(Qo)}function ao(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,s6(r)),$t!==null)for(r=$t.return;r!==null;){var n=r;switch(cv(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ch();break;case 3:Kl(),bt(Jr),bt(Nr),yv();break;case 5:vv(n);break;case 4:Kl();break;case 13:bt(At);break;case 19:bt(At);break;case 10:hv(n.type._context);break;case 22:case 23:Iv()}r=r.return}if(cr=t,$t=t=ra(t.current,null),gr=sn=e,Jt=0,ku=null,Av=xp=po=0,Yr=uu=null,Da!==null){for(e=0;e<Da.length;e++)if(r=Da[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}r.pending=n}Da=null}return t}function QS(t,e){do{var r=$t;try{if(fv(),Rf.current=yh,vh){for(var n=Tt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}vh=!1}if(ho=0,ar=qt=Tt=null,lu=!1,Pu=0,Ev.current=null,r===null||r.return===null){Jt=1,ku=e,$t=null;break}e:{var s=t,a=r.return,o=r,l=e;if(e=gr,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Yx(a);if(p!==null){p.flags&=-257,Zx(p,a,o,s,e),p.mode&1&&Kx(s,c,e),e=p,l=c;var g=e.updateQueue;if(g===null){var m=new Set;m.add(l),e.updateQueue=m}else g.add(l);break e}else{if(!(e&1)){Kx(s,c,e),Pv();break e}l=Error(J(426))}}else if(St&&o.mode&1){var x=Yx(a);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Zx(x,a,o,s,e),uv(Yl(l,o));break e}}s=l=Yl(l,o),Jt!==4&&(Jt=2),uu===null?uu=[s]:uu.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=jS(s,l,e);zx(s,y);break e;case 1:o=l;var v=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(ea===null||!ea.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var w=FS(s,o,e);zx(s,w);break e}}s=s.return}while(s!==null)}tE(r)}catch(S){e=S,$t===r&&r!==null&&($t=r=r.return);continue}break}while(!0)}function JS(){var t=xh.current;return xh.current=yh,t===null?yh:t}function Pv(){(Jt===0||Jt===3||Jt===2)&&(Jt=4),cr===null||!(po&268435455)&&!(xp&268435455)||Rs(cr,gr)}function bh(t,e){var r=Ge;Ge|=2;var n=JS();(cr!==t||gr!==e)&&(Gi=null,ao(t,e));do try{P6();break}catch(i){QS(t,i)}while(!0);if(fv(),Ge=r,xh.current=n,$t!==null)throw Error(J(261));return cr=null,gr=0,Jt}function P6(){for(;$t!==null;)eE($t)}function O6(){for(;$t!==null&&!rI();)eE($t)}function eE(t){var e=nE(t.alternate,t,sn);t.memoizedProps=t.pendingProps,e===null?tE(t):$t=e,Ev.current=null}function tE(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=S6(r,e),r!==null){r.flags&=32767,$t=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Jt=6,$t=null;return}}else if(r=C6(r,e,sn),r!==null){$t=r;return}if(e=e.sibling,e!==null){$t=e;return}$t=e=t}while(e!==null);Jt===0&&(Jt=5)}function Ia(t,e,r){var n=ct,i=In.transition;try{In.transition=null,ct=1,R6(t,e,r,n)}finally{In.transition=i,ct=n}return null}function R6(t,e,r,n){do ol();while(Gs!==null);if(Ge&6)throw Error(J(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(J(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(fI(t,s),t===cr&&($t=cr=null,gr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Qd||(Qd=!0,iE(nh,function(){return ol(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=In.transition,In.transition=null;var a=ct;ct=1;var o=Ge;Ge|=4,Ev.current=null,A6(t,r),KS(r,t),QI($1),sh=!!U1,$1=U1=null,t.current=r,N6(r),nI(),Ge=o,ct=a,In.transition=s}else t.current=r;if(Qd&&(Qd=!1,Gs=t,_h=i),s=t.pendingLanes,s===0&&(ea=null),aI(r.stateNode),tn(t,jt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(wh)throw wh=!1,t=om,om=null,t;return _h&1&&t.tag!==0&&ol(),s=t.pendingLanes,s&1?t===lm?du++:(du=0,lm=t):du=0,_a(),null}function ol(){if(Gs!==null){var t=jC(_h),e=In.transition,r=ct;try{if(In.transition=null,ct=16>t?16:t,Gs===null)var n=!1;else{if(t=Gs,Gs=null,_h=0,Ge&6)throw Error(J(331));var i=Ge;for(Ge|=4,pe=t.current;pe!==null;){var s=pe,a=s.child;if(pe.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(pe=c;pe!==null;){var d=pe;switch(d.tag){case 0:case 11:case 15:cu(8,d,s)}var f=d.child;if(f!==null)f.return=d,pe=f;else for(;pe!==null;){d=pe;var h=d.sibling,p=d.return;if(GS(d),d===c){pe=null;break}if(h!==null){h.return=p,pe=h;break}pe=p}}}var g=s.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var x=m.sibling;m.sibling=null,m=x}while(m!==null)}}pe=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,pe=a;else e:for(;pe!==null;){if(s=pe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:cu(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,pe=y;break e}pe=s.return}}var v=t.current;for(pe=v;pe!==null;){a=pe;var _=a.child;if(a.subtreeFlags&2064&&_!==null)_.return=a,pe=_;else e:for(a=v;pe!==null;){if(o=pe,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:yp(9,o)}}catch(S){Ot(o,o.return,S)}if(o===a){pe=null;break e}var w=o.sibling;if(w!==null){w.return=o.return,pe=w;break e}pe=o.return}}if(Ge=i,_a(),Fi&&typeof Fi.onPostCommitFiberRoot=="function")try{Fi.onPostCommitFiberRoot(up,t)}catch{}n=!0}return n}finally{ct=r,In.transition=e}}return!1}function uw(t,e,r){e=Yl(r,e),e=jS(t,e,1),t=Js(t,e,1),e=Ur(),t!==null&&(xd(t,1,e),tn(t,e))}function Ot(t,e,r){if(t.tag===3)uw(t,t,r);else for(;e!==null;){if(e.tag===3){uw(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ea===null||!ea.has(n))){t=Yl(r,t),t=FS(e,t,1),e=Js(e,t,1),t=Ur(),e!==null&&(xd(e,1,t),tn(e,t));break}}e=e.return}}function k6(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Ur(),t.pingedLanes|=t.suspendedLanes&r,cr===t&&(gr&r)===r&&(Jt===4||Jt===3&&(gr&130023424)===gr&&500>jt()-Nv?ao(t,0):Av|=r),tn(t,e)}function rE(t,e){e===0&&(t.mode&1?(e=Vd,Vd<<=1,!(Vd&130023424)&&(Vd=4194304)):e=1);var r=Ur();t=cs(t,e),t!==null&&(xd(t,e,r),tn(t,r))}function D6(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),rE(t,r)}function j6(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(J(314))}n!==null&&n.delete(e),rE(t,r)}var nE;nE=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Jr.current)Qr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Qr=!1,b6(t,e,r);Qr=!!(t.flags&131072)}else Qr=!1,St&&e.flags&1048576&&oS(e,fh,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Df(t,e),t=e.pendingProps;var i=Gl(e,Nr.current);al(e,r),i=wv(null,e,n,t,i,r);var s=_v();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,en(n)?(s=!0,uh(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,mv(e),i.updater=vp,e.stateNode=i,i._reactInternals=e,Y1(e,n,t,r),e=J1(null,e,n,!0,s,r)):(e.tag=0,St&&s&&lv(e),Lr(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Df(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=M6(n),t=Vn(n,t),i){case 0:e=Q1(null,e,n,t,r);break e;case 1:e=ew(null,e,n,t,r);break e;case 11:e=Qx(null,e,n,t,r);break e;case 14:e=Jx(null,e,n,Vn(n.type,t),r);break e}throw Error(J(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Vn(n,i),Q1(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Vn(n,i),ew(t,e,n,i,r);case 3:e:{if(US(e),t===null)throw Error(J(387));n=e.pendingProps,s=e.memoizedState,i=s.element,hS(t,e),mh(e,n,null,r);var a=e.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Yl(Error(J(423)),e),e=tw(t,e,n,r,i);break e}else if(n!==i){i=Yl(Error(J(424)),e),e=tw(t,e,n,r,i);break e}else for(cn=Qs(e.stateNode.containerInfo.firstChild),fn=e,St=!0,ei=null,r=dS(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ql(),n===i){e=us(t,e,r);break e}Lr(t,e,n,r)}e=e.child}return e;case 5:return pS(e),t===null&&q1(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,V1(n,i)?a=null:s!==null&&V1(n,s)&&(e.flags|=32),BS(t,e),Lr(t,e,a,r),e.child;case 6:return t===null&&q1(e),null;case 13:return $S(t,e,r);case 4:return gv(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Xl(e,null,n,r):Lr(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Vn(n,i),Qx(t,e,n,i,r);case 7:return Lr(t,e,e.pendingProps,r),e.child;case 8:return Lr(t,e,e.pendingProps.children,r),e.child;case 12:return Lr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,gt(hh,n._currentValue),n._currentValue=a,s!==null)if(fi(s.value,a)){if(s.children===i.children&&!Jr.current){e=us(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=ss(-1,r&-r),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),X1(s.return,r,e),o.lanes|=r;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(J(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),X1(a,r,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Lr(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,al(e,r),i=On(i),n=n(i),e.flags|=1,Lr(t,e,n,r),e.child;case 14:return n=e.type,i=Vn(n,e.pendingProps),i=Vn(n.type,i),Jx(t,e,n,i,r);case 15:return MS(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Vn(n,i),Df(t,e),e.tag=1,en(n)?(t=!0,uh(e)):t=!1,al(e,r),DS(e,n,i),Y1(e,n,i,r),J1(null,e,n,!0,t,r);case 19:return VS(t,e,r);case 22:return LS(t,e,r)}throw Error(J(156,e.tag))};function iE(t,e){return OC(t,e)}function F6(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(t,e,r,n){return new F6(t,e,r,n)}function Ov(t){return t=t.prototype,!(!t||!t.isReactComponent)}function M6(t){if(typeof t=="function")return Ov(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Yg)return 11;if(t===Zg)return 14}return 2}function ra(t,e){var r=t.alternate;return r===null?(r=En(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Mf(t,e,r,n,i,s){var a=2;if(n=t,typeof t=="function")Ov(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Vo:return oo(r.children,i,s,e);case Kg:a=8,i|=8;break;case w1:return t=En(12,r,e,i|2),t.elementType=w1,t.lanes=s,t;case _1:return t=En(13,r,e,i),t.elementType=_1,t.lanes=s,t;case b1:return t=En(19,r,e,i),t.elementType=b1,t.lanes=s,t;case pC:return wp(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case fC:a=10;break e;case hC:a=9;break e;case Yg:a=11;break e;case Zg:a=14;break e;case Ns:a=16,n=null;break e}throw Error(J(130,t==null?t:typeof t,""))}return e=En(a,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function oo(t,e,r,n){return t=En(7,t,n,e),t.lanes=r,t}function wp(t,e,r,n){return t=En(22,t,n,e),t.elementType=pC,t.lanes=r,t.stateNode={isHidden:!1},t}function T0(t,e,r){return t=En(6,t,null,e),t.lanes=r,t}function I0(t,e,r){return e=En(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function L6(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=c0(0),this.expirationTimes=c0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=c0(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Rv(t,e,r,n,i,s,a,o,l){return t=new L6(t,e,r,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=En(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},mv(s),t}function B6(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$o,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function sE(t){if(!t)return ha;t=t._reactInternals;e:{if(Eo(t)!==t||t.tag!==1)throw Error(J(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(en(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(J(171))}if(t.tag===1){var r=t.type;if(en(r))return sS(t,r,e)}return e}function aE(t,e,r,n,i,s,a,o,l){return t=Rv(r,n,!0,t,i,s,a,o,l),t.context=sE(null),r=t.current,n=Ur(),i=ta(r),s=ss(n,i),s.callback=e??null,Js(r,s,i),t.current.lanes=i,xd(t,i,n),tn(t,n),t}function _p(t,e,r,n){var i=e.current,s=Ur(),a=ta(i);return r=sE(r),e.context===null?e.context=r:e.pendingContext=r,e=ss(s,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Js(i,e,a),t!==null&&(di(t,i,a,s),Of(t,i,a)),a}function Ch(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function dw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function kv(t,e){dw(t,e),(t=t.alternate)&&dw(t,e)}function U6(){return null}var oE=typeof reportError=="function"?reportError:function(t){console.error(t)};function Dv(t){this._internalRoot=t}bp.prototype.render=Dv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(J(409));_p(t,e,null,null)};bp.prototype.unmount=Dv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;mo(function(){_p(null,t,null,null)}),e[ls]=null}};function bp(t){this._internalRoot=t}bp.prototype.unstable_scheduleHydration=function(t){if(t){var e=LC();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Os.length&&e!==0&&e<Os[r].priority;r++);Os.splice(r,0,t),r===0&&UC(t)}};function jv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Cp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function fw(){}function $6(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var c=Ch(a);s.call(c)}}var a=aE(e,n,t,0,null,!1,!1,"",fw);return t._reactRootContainer=a,t[ls]=a.current,Eu(t.nodeType===8?t.parentNode:t),mo(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var c=Ch(l);o.call(c)}}var l=Rv(t,0,!1,null,null,!1,!1,"",fw);return t._reactRootContainer=l,t[ls]=l.current,Eu(t.nodeType===8?t.parentNode:t),mo(function(){_p(e,l,r,n)}),l}function Sp(t,e,r,n,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=Ch(a);o.call(l)}}_p(e,a,t,i)}else a=$6(r,e,t,i,n);return Ch(a)}FC=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=zc(e.pendingLanes);r!==0&&(ev(e,r|1),tn(e,jt()),!(Ge&6)&&(Zl=jt()+500,_a()))}break;case 13:mo(function(){var n=cs(t,1);if(n!==null){var i=Ur();di(n,t,1,i)}}),kv(t,1)}};tv=function(t){if(t.tag===13){var e=cs(t,134217728);if(e!==null){var r=Ur();di(e,t,134217728,r)}kv(t,134217728)}};MC=function(t){if(t.tag===13){var e=ta(t),r=cs(t,e);if(r!==null){var n=Ur();di(r,t,e,n)}kv(t,e)}};LC=function(){return ct};BC=function(t,e){var r=ct;try{return ct=t,e()}finally{ct=r}};R1=function(t,e,r){switch(e){case"input":if(E1(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=pp(n);if(!i)throw Error(J(90));gC(n),E1(n,i)}}}break;case"textarea":yC(t,r);break;case"select":e=r.value,e!=null&&rl(t,!!r.multiple,e,!1)}};EC=Tv;AC=mo;var V6={usingClientEntryPoint:!1,Events:[_d,Go,pp,CC,SC,Tv]},Pc={findFiberByHostInstance:ka,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},z6={bundleType:Pc.bundleType,version:Pc.version,rendererPackageName:Pc.rendererPackageName,rendererConfig:Pc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ms.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=IC(t),t===null?null:t.stateNode},findFiberByHostInstance:Pc.findFiberByHostInstance||U6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jd.isDisabled&&Jd.supportsFiber)try{up=Jd.inject(z6),Fi=Jd}catch{}}gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V6;gn.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jv(e))throw Error(J(200));return B6(t,e,null,r)};gn.createRoot=function(t,e){if(!jv(t))throw Error(J(299));var r=!1,n="",i=oE;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Rv(t,1,!1,null,null,r,!1,n,i),t[ls]=e.current,Eu(t.nodeType===8?t.parentNode:t),new Dv(e)};gn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(J(188)):(t=Object.keys(t).join(","),Error(J(268,t)));return t=IC(e),t=t===null?null:t.stateNode,t};gn.flushSync=function(t){return mo(t)};gn.hydrate=function(t,e,r){if(!Cp(e))throw Error(J(200));return Sp(null,t,e,!0,r)};gn.hydrateRoot=function(t,e,r){if(!jv(t))throw Error(J(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",a=oE;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=aE(e,null,t,1,r??null,i,!1,s,a),t[ls]=e.current,Eu(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new bp(e)};gn.render=function(t,e,r){if(!Cp(e))throw Error(J(200));return Sp(null,t,e,!1,r)};gn.unmountComponentAtNode=function(t){if(!Cp(t))throw Error(J(40));return t._reactRootContainer?(mo(function(){Sp(null,null,t,!1,function(){t._reactRootContainer=null,t[ls]=null})}),!0):!1};gn.unstable_batchedUpdates=Tv;gn.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Cp(r))throw Error(J(200));if(t==null||t._reactInternals===void 0)throw Error(J(38));return Sp(t,e,r,!1,n)};gn.version="18.3.1-next-f1338f8080-20240426";function lE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(lE)}catch(t){console.error(t)}}lE(),lC.exports=gn;var Ao=lC.exports;const H6=ps(Ao);var cE,hw=Ao;cE=hw.createRoot,hw.hydrateRoot;function W6(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var r,n,i,s,a=[],o="",l=t.split("/");for(l[0]||l.shift();i=l.shift();)r=i[0],r==="*"?(a.push(r),o+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(n=i.indexOf("?",1),s=i.indexOf(".",1),a.push(i.substring(1,~n?n:~s?s:i.length)),o+=~n&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(o+=(~n?"?":"")+"\\"+i.substring(s))):o+="/"+i;return{keys:a,pattern:new RegExp("^"+o+(e?"(?=$|/)":"/?$"),"i")}}var uE={exports:{}},dE={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ql=b;function G6(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var q6=typeof Object.is=="function"?Object.is:G6,X6=Ql.useState,K6=Ql.useEffect,Y6=Ql.useLayoutEffect,Z6=Ql.useDebugValue;function Q6(t,e){var r=e(),n=X6({inst:{value:r,getSnapshot:e}}),i=n[0].inst,s=n[1];return Y6(function(){i.value=r,i.getSnapshot=e,P0(i)&&s({inst:i})},[t,r,e]),K6(function(){return P0(i)&&s({inst:i}),t(function(){P0(i)&&s({inst:i})})},[t]),Z6(r),r}function P0(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!q6(t,r)}catch{return!0}}function J6(t,e){return e()}var eP=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?J6:Q6;dE.useSyncExternalStore=Ql.useSyncExternalStore!==void 0?Ql.useSyncExternalStore:eP;uE.exports=dE;var tP=uE.exports;const rP=cp.useInsertionEffect,nP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",iP=nP?b.useLayoutEffect:b.useEffect,sP=rP||iP,fE=t=>{const e=b.useRef([t,(...r)=>e[0](...r)]).current;return sP(()=>{e[0]=t}),e[1]},aP="popstate",Fv="pushState",Mv="replaceState",oP="hashchange",pw=[aP,Fv,Mv,oP],lP=t=>{for(const e of pw)addEventListener(e,t);return()=>{for(const e of pw)removeEventListener(e,t)}},hE=(t,e)=>tP.useSyncExternalStore(lP,t,e),mw=()=>location.search,cP=({ssrSearch:t}={})=>hE(mw,t!=null?()=>t:mw),gw=()=>location.pathname,uP=({ssrPath:t}={})=>hE(gw,t!=null?()=>t:gw),dP=(t,{replace:e=!1,state:r=null}={})=>history[e?Mv:Fv](r,"",t),fP=(t={})=>[uP(t),dP],vw=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[vw]>"u"){for(const t of[Fv,Mv]){const e=history[t];history[t]=function(){const r=e.apply(this,arguments),n=new Event(t);return n.arguments=arguments,dispatchEvent(n),r}}Object.defineProperty(window,vw,{value:!0})}const hP=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",pE=(t="")=>t==="/"?"":t,pP=(t,e)=>t[0]==="~"?t.slice(1):pE(e)+t,mP=(t="",e)=>hP(yw(pE(t)),yw(e)),yw=t=>{try{return decodeURI(t)}catch{return t}},mE={hook:fP,searchHook:cP,parser:W6,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:t=>t},gE=b.createContext(mE),fc=()=>b.useContext(gE),vE={},yE=b.createContext(vE),xE=()=>b.useContext(yE),Ep=t=>{const[e,r]=t.hook(t);return[mP(t.base,e),fE((n,i)=>r(pP(n,t.base),i))]},Cd=()=>Ep(fc()),Lv=(t,e,r,n)=>{const{pattern:i,keys:s}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",n),a=i.exec(r)||[],[o,...l]=a;return o!==void 0?[!0,(()=>{const c=s!==!1?Object.fromEntries(s.map((f,h)=>[f,l[h]])):a.groups;let d={...l};return c&&Object.assign(d,c),d})(),...n?[o]:[]]:[!1,null]},gP=t=>Lv(fc().parser,t,Cd()[0]),vP=({children:t,...e})=>{var d,f,h;const r=fc(),n=e.hook?mE:r;let i=n;const[s,a=e.ssrSearch??""]=((d=e.ssrPath)==null?void 0:d.split("?"))??[];s&&(e.ssrSearch=a,e.ssrPath=s),e.hrefs=e.hrefs??((f=e.hook)==null?void 0:f.hrefs),e.searchHook=e.searchHook??((h=e.hook)==null?void 0:h.searchHook);let o=b.useRef({}),l=o.current,c=l;for(let p in n){const g=p==="base"?n[p]+(e[p]??""):e[p]??n[p];l===c&&g!==c[p]&&(o.current=c={...c}),c[p]=g,(g!==n[p]||g!==i[p])&&(i=c)}return b.createElement(gE.Provider,{value:i,children:t})},xw=({children:t,component:e},r)=>e?b.createElement(e,{params:r}):typeof t=="function"?t(r):t,yP=t=>{let e=b.useRef(vE);const r=e.current;return e.current=Object.keys(t).length!==Object.keys(r).length||Object.entries(t).some(([n,i])=>i!==r[n])?t:r},_r=({path:t,nest:e,match:r,...n})=>{const i=fc(),[s]=Ep(i),[a,o,l]=r??Lv(i.parser,t,s,e),c=yP({...xE(),...o});if(!a)return null;const d=l?b.createElement(vP,{base:l},xw(n,c)):xw(n,c);return b.createElement(yE.Provider,{value:c,children:d})},na=b.forwardRef((t,e)=>{const r=fc(),[n,i]=Ep(r),{to:s="",href:a=s,onClick:o,asChild:l,children:c,className:d,replace:f,state:h,...p}=t,g=fE(x=>{x.ctrlKey||x.metaKey||x.altKey||x.shiftKey||x.button!==0||(o==null||o(x),x.defaultPrevented||(x.preventDefault(),i(a,t)))}),m=r.hrefs(a[0]==="~"?a.slice(1):r.base+a,r);return l&&b.isValidElement(c)?b.cloneElement(c,{onClick:g,href:m}):b.createElement("a",{...p,onClick:g,href:m,className:d!=null&&d.call?d(n===a):d,children:c,ref:e})}),wE=t=>Array.isArray(t)?t.flatMap(e=>wE(e&&e.type===b.Fragment?e.props.children:e)):[t],xP=({children:t,location:e})=>{const r=fc(),[n]=Ep(r);for(const i of wE(t)){let s=0;if(b.isValidElement(i)&&(s=Lv(r.parser,i.props.path,e||n,i.props.nest))[0])return b.cloneElement(i,{match:s})}return null};var hc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},wP={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},ks,$g,Ub,_P=(Ub=class{constructor(){z(this,ks,wP);z(this,$g,!1)}setTimeoutProvider(t){G(this,ks,t)}setTimeout(t,e){return C(this,ks).setTimeout(t,e)}clearTimeout(t){C(this,ks).clearTimeout(t)}setInterval(t,e){return C(this,ks).setInterval(t,e)}clearInterval(t){C(this,ks).clearInterval(t)}},ks=new WeakMap,$g=new WeakMap,Ub),Fa=new _P;function bP(t){setTimeout(t,0)}var go=typeof window>"u"||"Deno"in globalThis;function Br(){}function CP(t,e){return typeof t=="function"?t(e):t}function dm(t){return typeof t=="number"&&t>=0&&t!==1/0}function _E(t,e){return Math.max(t+(e||0)-Date.now(),0)}function ia(t,e){return typeof t=="function"?t(e):t}function bn(t,e){return typeof t=="function"?t(e):t}function ww(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:s,queryKey:a,stale:o}=t;if(a){if(n){if(e.queryHash!==Bv(a,e.options))return!1}else if(!Du(e.queryKey,a))return!1}if(r!=="all"){const l=e.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||i&&i!==e.state.fetchStatus||s&&!s(e))}function _w(t,e){const{exact:r,status:n,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(r){if(vo(e.options.mutationKey)!==vo(s))return!1}else if(!Du(e.options.mutationKey,s))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function Bv(t,e){return((e==null?void 0:e.queryKeyHashFn)||vo)(t)}function vo(t){return JSON.stringify(t,(e,r)=>fm(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function Du(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>Du(t[r],e[r])):!1}var SP=Object.prototype.hasOwnProperty;function bE(t,e){if(t===e)return t;const r=bw(t)&&bw(e);if(!r&&!(fm(t)&&fm(e)))return e;const i=(r?t:Object.keys(t)).length,s=r?e:Object.keys(e),a=s.length,o=r?new Array(a):{};let l=0;for(let c=0;c<a;c++){const d=r?c:s[c],f=t[d],h=e[d];if(f===h){o[d]=f,(r?c<i:SP.call(t,d))&&l++;continue}if(f===null||h===null||typeof f!="object"||typeof h!="object"){o[d]=h;continue}const p=bE(f,h);o[d]=p,p===f&&l++}return i===a&&l===i?t:o}function Sh(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function bw(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function fm(t){if(!Cw(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!Cw(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Cw(t){return Object.prototype.toString.call(t)==="[object Object]"}function EP(t){return new Promise(e=>{Fa.setTimeout(e,t)})}function hm(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?bE(t,e):e}function AP(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function NP(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var Uv=Symbol();function CE(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Uv?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function SE(t,e){return typeof t=="function"?t(...e):!!t}var Ua,Ds,hl,$b,TP=($b=class extends hc{constructor(){super();z(this,Ua);z(this,Ds);z(this,hl);G(this,hl,e=>{if(!go&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){C(this,Ds)||this.setEventListener(C(this,hl))}onUnsubscribe(){var e;this.hasListeners()||((e=C(this,Ds))==null||e.call(this),G(this,Ds,void 0))}setEventListener(e){var r;G(this,hl,e),(r=C(this,Ds))==null||r.call(this),G(this,Ds,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){C(this,Ua)!==e&&(G(this,Ua,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof C(this,Ua)=="boolean"?C(this,Ua):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ua=new WeakMap,Ds=new WeakMap,hl=new WeakMap,$b),$v=new TP;function pm(){let t,e;const r=new Promise((i,s)=>{t=i,e=s});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},r.reject=i=>{n({status:"rejected",reason:i}),e(i)},r}var IP=bP;function PP(){let t=[],e=0,r=o=>{o()},n=o=>{o()},i=IP;const s=o=>{e?t.push(o):i(()=>{r(o)})},a=()=>{const o=t;t=[],o.length&&i(()=>{n(()=>{o.forEach(l=>{r(l)})})})};return{batch:o=>{let l;e++;try{l=o()}finally{e--,e||a()}return l},batchCalls:o=>(...l)=>{s(()=>{o(...l)})},schedule:s,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{i=o}}}var Yt=PP(),pl,js,ml,Vb,OP=(Vb=class extends hc{constructor(){super();z(this,pl,!0);z(this,js);z(this,ml);G(this,ml,e=>{if(!go&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){C(this,js)||this.setEventListener(C(this,ml))}onUnsubscribe(){var e;this.hasListeners()||((e=C(this,js))==null||e.call(this),G(this,js,void 0))}setEventListener(e){var r;G(this,ml,e),(r=C(this,js))==null||r.call(this),G(this,js,e(this.setOnline.bind(this)))}setOnline(e){C(this,pl)!==e&&(G(this,pl,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return C(this,pl)}},pl=new WeakMap,js=new WeakMap,ml=new WeakMap,Vb),Eh=new OP;function RP(t){return Math.min(1e3*2**t,3e4)}function EE(t){return(t??"online")==="online"?Eh.isOnline():!0}var mm=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function AE(t){let e=!1,r=0,n;const i=pm(),s=()=>i.status!=="pending",a=m=>{var x;if(!s()){const y=new mm(m);h(y),(x=t.onCancel)==null||x.call(t,y)}},o=()=>{e=!0},l=()=>{e=!1},c=()=>$v.isFocused()&&(t.networkMode==="always"||Eh.isOnline())&&t.canRun(),d=()=>EE(t.networkMode)&&t.canRun(),f=m=>{s()||(n==null||n(),i.resolve(m))},h=m=>{s()||(n==null||n(),i.reject(m))},p=()=>new Promise(m=>{var x;n=y=>{(s()||c())&&m(y)},(x=t.onPause)==null||x.call(t)}).then(()=>{var m;n=void 0,s()||(m=t.onContinue)==null||m.call(t)}),g=()=>{if(s())return;let m;const x=r===0?t.initialPromise:void 0;try{m=x??t.fn()}catch(y){m=Promise.reject(y)}Promise.resolve(m).then(f).catch(y=>{var A;if(s())return;const v=t.retry??(go?0:3),_=t.retryDelay??RP,w=typeof _=="function"?_(r,y):_,S=v===!0||typeof v=="number"&&r<v||typeof v=="function"&&v(r,y);if(e||!S){h(y);return}r++,(A=t.onFail)==null||A.call(t,r,y),EP(w).then(()=>c()?void 0:p()).then(()=>{e?h(y):g()})})};return{promise:i,status:()=>i.status,cancel:a,continue:()=>(n==null||n(),i),cancelRetry:o,continueRetry:l,canStart:d,start:()=>(d()?g():p().then(g),i)}}var $a,zb,NE=(zb=class{constructor(){z(this,$a)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),dm(this.gcTime)&&G(this,$a,Fa.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(go?1/0:5*60*1e3))}clearGcTimeout(){C(this,$a)&&(Fa.clearTimeout(C(this,$a)),G(this,$a,void 0))}},$a=new WeakMap,zb),Va,gl,wn,za,sr,Gu,Ha,zn,Wi,Hb,kP=(Hb=class extends NE{constructor(e){super();z(this,zn);z(this,Va);z(this,gl);z(this,wn);z(this,za);z(this,sr);z(this,Gu);z(this,Ha);G(this,Ha,!1),G(this,Gu,e.defaultOptions),this.setOptions(e.options),this.observers=[],G(this,za,e.client),G(this,wn,C(this,za).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,G(this,Va,Ew(this.options)),this.state=e.state??C(this,Va),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=C(this,sr))==null?void 0:e.promise}setOptions(e){if(this.options={...C(this,Gu),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=Ew(this.options);r.data!==void 0&&(this.setState(Sw(r.data,r.dataUpdatedAt)),G(this,Va,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&C(this,wn).remove(this)}setData(e,r){const n=hm(this.state.data,e,this.options);return Z(this,zn,Wi).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){Z(this,zn,Wi).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,i;const r=(n=C(this,sr))==null?void 0:n.promise;return(i=C(this,sr))==null||i.cancel(e),r?r.then(Br).catch(Br):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(C(this,Va))}isActive(){return this.observers.some(e=>bn(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Uv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>ia(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!_E(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=C(this,sr))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=C(this,sr))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),C(this,wn).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(C(this,sr)&&(C(this,Ha)?C(this,sr).cancel({revert:!0}):C(this,sr).cancelRetry()),this.scheduleGc()),C(this,wn).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Z(this,zn,Wi).call(this,{type:"invalidate"})}async fetch(e,r){var l,c,d,f,h,p,g,m,x,y,v,_;if(this.state.fetchStatus!=="idle"&&((l=C(this,sr))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(C(this,sr))return C(this,sr).continueRetry(),C(this,sr).promise}if(e&&this.setOptions(e),!this.options.queryFn){const w=this.observers.find(S=>S.options.queryFn);w&&this.setOptions(w.options)}const n=new AbortController,i=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(G(this,Ha,!0),n.signal)})},s=()=>{const w=CE(this.options,r),A=(()=>{const E={client:C(this,za),queryKey:this.queryKey,meta:this.meta};return i(E),E})();return G(this,Ha,!1),this.options.persister?this.options.persister(w,A,this):w(A)},o=(()=>{const w={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:C(this,za),state:this.state,fetchFn:s};return i(w),w})();(c=this.options.behavior)==null||c.onFetch(o,this),G(this,gl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&Z(this,zn,Wi).call(this,{type:"fetch",meta:(f=o.fetchOptions)==null?void 0:f.meta}),G(this,sr,AE({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,onCancel:w=>{w instanceof mm&&w.revert&&this.setState({...C(this,gl),fetchStatus:"idle"}),n.abort()},onFail:(w,S)=>{Z(this,zn,Wi).call(this,{type:"failed",failureCount:w,error:S})},onPause:()=>{Z(this,zn,Wi).call(this,{type:"pause"})},onContinue:()=>{Z(this,zn,Wi).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const w=await C(this,sr).start();if(w===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(w),(p=(h=C(this,wn).config).onSuccess)==null||p.call(h,w,this),(m=(g=C(this,wn).config).onSettled)==null||m.call(g,w,this.state.error,this),w}catch(w){if(w instanceof mm){if(w.silent)return C(this,sr).promise;if(w.revert){if(this.state.data===void 0)throw w;return this.state.data}}throw Z(this,zn,Wi).call(this,{type:"error",error:w}),(y=(x=C(this,wn).config).onError)==null||y.call(x,w,this),(_=(v=C(this,wn).config).onSettled)==null||_.call(v,this.state.data,w,this),w}finally{this.scheduleGc()}}},Va=new WeakMap,gl=new WeakMap,wn=new WeakMap,za=new WeakMap,sr=new WeakMap,Gu=new WeakMap,Ha=new WeakMap,zn=new WeakSet,Wi=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...TE(n.data,this.options),fetchMeta:e.meta??null};case"success":const i={...n,...Sw(e.data,e.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return G(this,gl,e.manual?i:void 0),i;case"error":const s=e.error;return{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),Yt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),C(this,wn).notify({query:this,type:"updated",action:e})})},Hb);function TE(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:EE(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Sw(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Ew(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Gr,ze,qu,Dr,Wa,vl,Xi,Fs,Xu,yl,xl,Ga,qa,Ms,wl,rt,Wc,gm,vm,ym,xm,wm,_m,bm,IE,Wb,DP=(Wb=class extends hc{constructor(e,r){super();z(this,rt);z(this,Gr);z(this,ze);z(this,qu);z(this,Dr);z(this,Wa);z(this,vl);z(this,Xi);z(this,Fs);z(this,Xu);z(this,yl);z(this,xl);z(this,Ga);z(this,qa);z(this,Ms);z(this,wl,new Set);this.options=r,G(this,Gr,e),G(this,Fs,null),G(this,Xi,pm()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(C(this,ze).addObserver(this),Aw(C(this,ze),this.options)?Z(this,rt,Wc).call(this):this.updateResult(),Z(this,rt,xm).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Cm(C(this,ze),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Cm(C(this,ze),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Z(this,rt,wm).call(this),Z(this,rt,_m).call(this),C(this,ze).removeObserver(this)}setOptions(e){const r=this.options,n=C(this,ze);if(this.options=C(this,Gr).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof bn(this.options.enabled,C(this,ze))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Z(this,rt,bm).call(this),C(this,ze).setOptions(this.options),r._defaulted&&!Sh(this.options,r)&&C(this,Gr).getQueryCache().notify({type:"observerOptionsUpdated",query:C(this,ze),observer:this});const i=this.hasListeners();i&&Nw(C(this,ze),n,this.options,r)&&Z(this,rt,Wc).call(this),this.updateResult(),i&&(C(this,ze)!==n||bn(this.options.enabled,C(this,ze))!==bn(r.enabled,C(this,ze))||ia(this.options.staleTime,C(this,ze))!==ia(r.staleTime,C(this,ze)))&&Z(this,rt,gm).call(this);const s=Z(this,rt,vm).call(this);i&&(C(this,ze)!==n||bn(this.options.enabled,C(this,ze))!==bn(r.enabled,C(this,ze))||s!==C(this,Ms))&&Z(this,rt,ym).call(this,s)}getOptimisticResult(e){const r=C(this,Gr).getQueryCache().build(C(this,Gr),e),n=this.createResult(r,e);return FP(this,n)&&(G(this,Dr,n),G(this,vl,this.options),G(this,Wa,C(this,ze).state)),n}getCurrentResult(){return C(this,Dr)}trackResult(e,r){return new Proxy(e,{get:(n,i)=>(this.trackProp(i),r==null||r(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&C(this,Xi).status==="pending"&&C(this,Xi).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,i))})}trackProp(e){C(this,wl).add(e)}getCurrentQuery(){return C(this,ze)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=C(this,Gr).defaultQueryOptions(e),n=C(this,Gr).getQueryCache().build(C(this,Gr),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(e){return Z(this,rt,Wc).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),C(this,Dr)))}createResult(e,r){var j;const n=C(this,ze),i=this.options,s=C(this,Dr),a=C(this,Wa),o=C(this,vl),c=e!==n?e.state:C(this,qu),{state:d}=e;let f={...d},h=!1,p;if(r._optimisticResults){const F=this.hasListeners(),H=!F&&Aw(e,r),L=F&&Nw(e,n,r,i);(H||L)&&(f={...f,...TE(d.data,e.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:g,errorUpdatedAt:m,status:x}=f;p=f.data;let y=!1;if(r.placeholderData!==void 0&&p===void 0&&x==="pending"){let F;s!=null&&s.isPlaceholderData&&r.placeholderData===(o==null?void 0:o.placeholderData)?(F=s.data,y=!0):F=typeof r.placeholderData=="function"?r.placeholderData((j=C(this,xl))==null?void 0:j.state.data,C(this,xl)):r.placeholderData,F!==void 0&&(x="success",p=hm(s==null?void 0:s.data,F,r),h=!0)}if(r.select&&p!==void 0&&!y)if(s&&p===(a==null?void 0:a.data)&&r.select===C(this,Xu))p=C(this,yl);else try{G(this,Xu,r.select),p=r.select(p),p=hm(s==null?void 0:s.data,p,r),G(this,yl,p),G(this,Fs,null)}catch(F){G(this,Fs,F)}C(this,Fs)&&(g=C(this,Fs),p=C(this,yl),m=Date.now(),x="error");const v=f.fetchStatus==="fetching",_=x==="pending",w=x==="error",S=_&&v,A=p!==void 0,P={status:x,fetchStatus:f.fetchStatus,isPending:_,isSuccess:x==="success",isError:w,isInitialLoading:S,isLoading:S,data:p,dataUpdatedAt:f.dataUpdatedAt,error:g,errorUpdatedAt:m,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>c.dataUpdateCount||f.errorUpdateCount>c.errorUpdateCount,isFetching:v,isRefetching:v&&!_,isLoadingError:w&&!A,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:w&&A,isStale:Vv(e,r),refetch:this.refetch,promise:C(this,Xi),isEnabled:bn(r.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const F=N=>{P.status==="error"?N.reject(P.error):P.data!==void 0&&N.resolve(P.data)},H=()=>{const N=G(this,Xi,P.promise=pm());F(N)},L=C(this,Xi);switch(L.status){case"pending":e.queryHash===n.queryHash&&F(L);break;case"fulfilled":(P.status==="error"||P.data!==L.value)&&H();break;case"rejected":(P.status!=="error"||P.error!==L.reason)&&H();break}}return P}updateResult(){const e=C(this,Dr),r=this.createResult(C(this,ze),this.options);if(G(this,Wa,C(this,ze).state),G(this,vl,this.options),C(this,Wa).data!==void 0&&G(this,xl,C(this,ze)),Sh(r,e))return;G(this,Dr,r);const n=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,s=typeof i=="function"?i():i;if(s==="all"||!s&&!C(this,wl).size)return!0;const a=new Set(s??C(this,wl));return this.options.throwOnError&&a.add("error"),Object.keys(C(this,Dr)).some(o=>{const l=o;return C(this,Dr)[l]!==e[l]&&a.has(l)})};Z(this,rt,IE).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Z(this,rt,xm).call(this)}},Gr=new WeakMap,ze=new WeakMap,qu=new WeakMap,Dr=new WeakMap,Wa=new WeakMap,vl=new WeakMap,Xi=new WeakMap,Fs=new WeakMap,Xu=new WeakMap,yl=new WeakMap,xl=new WeakMap,Ga=new WeakMap,qa=new WeakMap,Ms=new WeakMap,wl=new WeakMap,rt=new WeakSet,Wc=function(e){Z(this,rt,bm).call(this);let r=C(this,ze).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(Br)),r},gm=function(){Z(this,rt,wm).call(this);const e=ia(this.options.staleTime,C(this,ze));if(go||C(this,Dr).isStale||!dm(e))return;const n=_E(C(this,Dr).dataUpdatedAt,e)+1;G(this,Ga,Fa.setTimeout(()=>{C(this,Dr).isStale||this.updateResult()},n))},vm=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(C(this,ze)):this.options.refetchInterval)??!1},ym=function(e){Z(this,rt,_m).call(this),G(this,Ms,e),!(go||bn(this.options.enabled,C(this,ze))===!1||!dm(C(this,Ms))||C(this,Ms)===0)&&G(this,qa,Fa.setInterval(()=>{(this.options.refetchIntervalInBackground||$v.isFocused())&&Z(this,rt,Wc).call(this)},C(this,Ms)))},xm=function(){Z(this,rt,gm).call(this),Z(this,rt,ym).call(this,Z(this,rt,vm).call(this))},wm=function(){C(this,Ga)&&(Fa.clearTimeout(C(this,Ga)),G(this,Ga,void 0))},_m=function(){C(this,qa)&&(Fa.clearInterval(C(this,qa)),G(this,qa,void 0))},bm=function(){const e=C(this,Gr).getQueryCache().build(C(this,Gr),this.options);if(e===C(this,ze))return;const r=C(this,ze);G(this,ze,e),G(this,qu,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},IE=function(e){Yt.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(C(this,Dr))}),C(this,Gr).getQueryCache().notify({query:C(this,ze),type:"observerResultsUpdated"})})},Wb);function jP(t,e){return bn(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Aw(t,e){return jP(t,e)||t.state.data!==void 0&&Cm(t,e,e.refetchOnMount)}function Cm(t,e,r){if(bn(e.enabled,t)!==!1&&ia(e.staleTime,t)!=="static"){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&Vv(t,e)}return!1}function Nw(t,e,r,n){return(t!==e||bn(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&Vv(t,r)}function Vv(t,e){return bn(e.enabled,t)!==!1&&t.isStaleByTime(ia(e.staleTime,t))}function FP(t,e){return!Sh(t.getCurrentResult(),e)}function Tw(t){return{onFetch:(e,r)=>{var d,f,h,p,g;const n=e.options,i=(h=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,s=((p=e.state.data)==null?void 0:p.pages)||[],a=((g=e.state.data)==null?void 0:g.pageParams)||[];let o={pages:[],pageParams:[]},l=0;const c=async()=>{let m=!1;const x=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(e.signal.aborted?m=!0:e.signal.addEventListener("abort",()=>{m=!0}),e.signal)})},y=CE(e.options,e.fetchOptions),v=async(_,w,S)=>{if(m)return Promise.reject();if(w==null&&_.pages.length)return Promise.resolve(_);const E=(()=>{const H={client:e.client,queryKey:e.queryKey,pageParam:w,direction:S?"backward":"forward",meta:e.options.meta};return x(H),H})(),P=await y(E),{maxPages:j}=e.options,F=S?NP:AP;return{pages:F(_.pages,P,j),pageParams:F(_.pageParams,w,j)}};if(i&&s.length){const _=i==="backward",w=_?MP:Iw,S={pages:s,pageParams:a},A=w(n,S);o=await v(S,A,_)}else{const _=t??s.length;do{const w=l===0?a[0]??n.initialPageParam:Iw(n,o);if(l>0&&w==null)break;o=await v(o,w),l++}while(l<_)}return o};e.options.persister?e.fetchFn=()=>{var m,x;return(x=(m=e.options).persister)==null?void 0:x.call(m,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=c}}}function Iw(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function MP(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var Ku,Si,jr,Xa,Ei,Ss,Gb,LP=(Gb=class extends NE{constructor(e){super();z(this,Ei);z(this,Ku);z(this,Si);z(this,jr);z(this,Xa);G(this,Ku,e.client),this.mutationId=e.mutationId,G(this,jr,e.mutationCache),G(this,Si,[]),this.state=e.state||PE(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){C(this,Si).includes(e)||(C(this,Si).push(e),this.clearGcTimeout(),C(this,jr).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){G(this,Si,C(this,Si).filter(r=>r!==e)),this.scheduleGc(),C(this,jr).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){C(this,Si).length||(this.state.status==="pending"?this.scheduleGc():C(this,jr).remove(this))}continue(){var e;return((e=C(this,Xa))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var a,o,l,c,d,f,h,p,g,m,x,y,v,_,w,S,A,E,P,j;const r=()=>{Z(this,Ei,Ss).call(this,{type:"continue"})},n={client:C(this,Ku),meta:this.options.meta,mutationKey:this.options.mutationKey};G(this,Xa,AE({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(F,H)=>{Z(this,Ei,Ss).call(this,{type:"failed",failureCount:F,error:H})},onPause:()=>{Z(this,Ei,Ss).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>C(this,jr).canRun(this)}));const i=this.state.status==="pending",s=!C(this,Xa).canStart();try{if(i)r();else{Z(this,Ei,Ss).call(this,{type:"pending",variables:e,isPaused:s}),await((o=(a=C(this,jr).config).onMutate)==null?void 0:o.call(a,e,this,n));const H=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,e,n));H!==this.state.context&&Z(this,Ei,Ss).call(this,{type:"pending",context:H,variables:e,isPaused:s})}const F=await C(this,Xa).start();return await((f=(d=C(this,jr).config).onSuccess)==null?void 0:f.call(d,F,e,this.state.context,this,n)),await((p=(h=this.options).onSuccess)==null?void 0:p.call(h,F,e,this.state.context,n)),await((m=(g=C(this,jr).config).onSettled)==null?void 0:m.call(g,F,null,this.state.variables,this.state.context,this,n)),await((y=(x=this.options).onSettled)==null?void 0:y.call(x,F,null,e,this.state.context,n)),Z(this,Ei,Ss).call(this,{type:"success",data:F}),F}catch(F){try{throw await((_=(v=C(this,jr).config).onError)==null?void 0:_.call(v,F,e,this.state.context,this,n)),await((S=(w=this.options).onError)==null?void 0:S.call(w,F,e,this.state.context,n)),await((E=(A=C(this,jr).config).onSettled)==null?void 0:E.call(A,void 0,F,this.state.variables,this.state.context,this,n)),await((j=(P=this.options).onSettled)==null?void 0:j.call(P,void 0,F,e,this.state.context,n)),F}finally{Z(this,Ei,Ss).call(this,{type:"error",error:F})}}finally{C(this,jr).runNext(this)}}},Ku=new WeakMap,Si=new WeakMap,jr=new WeakMap,Xa=new WeakMap,Ei=new WeakSet,Ss=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Yt.batch(()=>{C(this,Si).forEach(n=>{n.onMutationUpdate(e)}),C(this,jr).notify({mutation:this,type:"updated",action:e})})},Gb);function PE(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ki,Hn,Yu,qb,BP=(qb=class extends hc{constructor(e={}){super();z(this,Ki);z(this,Hn);z(this,Yu);this.config=e,G(this,Ki,new Set),G(this,Hn,new Map),G(this,Yu,0)}build(e,r,n){const i=new LP({client:e,mutationCache:this,mutationId:++jd(this,Yu)._,options:e.defaultMutationOptions(r),state:n});return this.add(i),i}add(e){C(this,Ki).add(e);const r=ef(e);if(typeof r=="string"){const n=C(this,Hn).get(r);n?n.push(e):C(this,Hn).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(C(this,Ki).delete(e)){const r=ef(e);if(typeof r=="string"){const n=C(this,Hn).get(r);if(n)if(n.length>1){const i=n.indexOf(e);i!==-1&&n.splice(i,1)}else n[0]===e&&C(this,Hn).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=ef(e);if(typeof r=="string"){const n=C(this,Hn).get(r),i=n==null?void 0:n.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var n;const r=ef(e);if(typeof r=="string"){const i=(n=C(this,Hn).get(r))==null?void 0:n.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Yt.batch(()=>{C(this,Ki).forEach(e=>{this.notify({type:"removed",mutation:e})}),C(this,Ki).clear(),C(this,Hn).clear()})}getAll(){return Array.from(C(this,Ki))}find(e){const r={exact:!0,...e};return this.getAll().find(n=>_w(r,n))}findAll(e={}){return this.getAll().filter(r=>_w(e,r))}notify(e){Yt.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return Yt.batch(()=>Promise.all(e.map(r=>r.continue().catch(Br))))}},Ki=new WeakMap,Hn=new WeakMap,Yu=new WeakMap,qb);function ef(t){var e;return(e=t.options.scope)==null?void 0:e.id}var Yi,Ls,qr,Zi,as,Lf,Sm,Xb,UP=(Xb=class extends hc{constructor(r,n){super();z(this,as);z(this,Yi);z(this,Ls);z(this,qr);z(this,Zi);G(this,Yi,r),this.setOptions(n),this.bindMethods(),Z(this,as,Lf).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var i;const n=this.options;this.options=C(this,Yi).defaultMutationOptions(r),Sh(this.options,n)||C(this,Yi).getMutationCache().notify({type:"observerOptionsUpdated",mutation:C(this,qr),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&vo(n.mutationKey)!==vo(this.options.mutationKey)?this.reset():((i=C(this,qr))==null?void 0:i.state.status)==="pending"&&C(this,qr).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=C(this,qr))==null||r.removeObserver(this)}onMutationUpdate(r){Z(this,as,Lf).call(this),Z(this,as,Sm).call(this,r)}getCurrentResult(){return C(this,Ls)}reset(){var r;(r=C(this,qr))==null||r.removeObserver(this),G(this,qr,void 0),Z(this,as,Lf).call(this),Z(this,as,Sm).call(this)}mutate(r,n){var i;return G(this,Zi,n),(i=C(this,qr))==null||i.removeObserver(this),G(this,qr,C(this,Yi).getMutationCache().build(C(this,Yi),this.options)),C(this,qr).addObserver(this),C(this,qr).execute(r)}},Yi=new WeakMap,Ls=new WeakMap,qr=new WeakMap,Zi=new WeakMap,as=new WeakSet,Lf=function(){var n;const r=((n=C(this,qr))==null?void 0:n.state)??PE();G(this,Ls,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Sm=function(r){Yt.batch(()=>{var n,i,s,a,o,l,c,d;if(C(this,Zi)&&this.hasListeners()){const f=C(this,Ls).variables,h=C(this,Ls).context,p={client:C(this,Yi),meta:this.options.meta,mutationKey:this.options.mutationKey};(r==null?void 0:r.type)==="success"?((i=(n=C(this,Zi)).onSuccess)==null||i.call(n,r.data,f,h,p),(a=(s=C(this,Zi)).onSettled)==null||a.call(s,r.data,null,f,h,p)):(r==null?void 0:r.type)==="error"&&((l=(o=C(this,Zi)).onError)==null||l.call(o,r.error,f,h,p),(d=(c=C(this,Zi)).onSettled)==null||d.call(c,void 0,r.error,f,h,p))}this.listeners.forEach(f=>{f(C(this,Ls))})})},Xb),Ai,Kb,$P=(Kb=class extends hc{constructor(e={}){super();z(this,Ai);this.config=e,G(this,Ai,new Map)}build(e,r,n){const i=r.queryKey,s=r.queryHash??Bv(i,r);let a=this.get(s);return a||(a=new kP({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(a)),a}add(e){C(this,Ai).has(e.queryHash)||(C(this,Ai).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=C(this,Ai).get(e.queryHash);r&&(e.destroy(),r===e&&C(this,Ai).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Yt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return C(this,Ai).get(e)}getAll(){return[...C(this,Ai).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>ww(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>ww(e,n)):r}notify(e){Yt.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){Yt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Yt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ai=new WeakMap,Kb),Pt,Bs,Us,_l,bl,$s,Cl,Sl,Yb,VP=(Yb=class{constructor(t={}){z(this,Pt);z(this,Bs);z(this,Us);z(this,_l);z(this,bl);z(this,$s);z(this,Cl);z(this,Sl);G(this,Pt,t.queryCache||new $P),G(this,Bs,t.mutationCache||new BP),G(this,Us,t.defaultOptions||{}),G(this,_l,new Map),G(this,bl,new Map),G(this,$s,0)}mount(){jd(this,$s)._++,C(this,$s)===1&&(G(this,Cl,$v.subscribe(async t=>{t&&(await this.resumePausedMutations(),C(this,Pt).onFocus())})),G(this,Sl,Eh.subscribe(async t=>{t&&(await this.resumePausedMutations(),C(this,Pt).onOnline())})))}unmount(){var t,e;jd(this,$s)._--,C(this,$s)===0&&((t=C(this,Cl))==null||t.call(this),G(this,Cl,void 0),(e=C(this,Sl))==null||e.call(this),G(this,Sl,void 0))}isFetching(t){return C(this,Pt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return C(this,Bs).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=C(this,Pt).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=C(this,Pt).build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(ia(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return C(this,Pt).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),i=C(this,Pt).get(n.queryHash),s=i==null?void 0:i.state.data,a=CP(e,s);if(a!==void 0)return C(this,Pt).build(this,n).setData(a,{...r,manual:!0})}setQueriesData(t,e,r){return Yt.batch(()=>C(this,Pt).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=C(this,Pt).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=C(this,Pt);Yt.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=C(this,Pt);return Yt.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=Yt.batch(()=>C(this,Pt).findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(Br).catch(Br)}invalidateQueries(t,e={}){return Yt.batch(()=>(C(this,Pt).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=Yt.batch(()=>C(this,Pt).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,r);return r.throwOnError||(s=s.catch(Br)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(Br)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=C(this,Pt).build(this,e);return r.isStaleByTime(ia(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Br).catch(Br)}fetchInfiniteQuery(t){return t.behavior=Tw(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Br).catch(Br)}ensureInfiniteQueryData(t){return t.behavior=Tw(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Eh.isOnline()?C(this,Bs).resumePausedMutations():Promise.resolve()}getQueryCache(){return C(this,Pt)}getMutationCache(){return C(this,Bs)}getDefaultOptions(){return C(this,Us)}setDefaultOptions(t){G(this,Us,t)}setQueryDefaults(t,e){C(this,_l).set(vo(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...C(this,_l).values()],r={};return e.forEach(n=>{Du(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){C(this,bl).set(vo(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...C(this,bl).values()],r={};return e.forEach(n=>{Du(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...C(this,Us).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Bv(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Uv&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...C(this,Us).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){C(this,Pt).clear(),C(this,Bs).clear()}},Pt=new WeakMap,Bs=new WeakMap,Us=new WeakMap,_l=new WeakMap,bl=new WeakMap,$s=new WeakMap,Cl=new WeakMap,Sl=new WeakMap,Yb),OE=b.createContext(void 0),RE=t=>{const e=b.useContext(OE);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},zP=({client:t,children:e})=>(b.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),u.jsx(OE.Provider,{value:t,children:e})),kE=b.createContext(!1),HP=()=>b.useContext(kE);kE.Provider;function WP(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var GP=b.createContext(WP()),qP=()=>b.useContext(GP),XP=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},KP=t=>{b.useEffect(()=>{t.clearReset()},[t])},YP=({result:t,errorResetBoundary:e,throwOnError:r,query:n,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(i&&t.data===void 0||SE(r,[t.error,n])),ZP=t=>{if(t.suspense){const r=i=>i==="static"?i:Math.max(i??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...i)=>r(n(...i)):r(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},QP=(t,e)=>t.isLoading&&t.isFetching&&!e,JP=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,Pw=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function e5(t,e,r){var f,h,p,g,m;const n=HP(),i=qP(),s=RE(),a=s.defaultQueryOptions(t);(h=(f=s.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||h.call(f,a),a._optimisticResults=n?"isRestoring":"optimistic",ZP(a),XP(a,i),KP(i);const o=!s.getQueryCache().get(a.queryHash),[l]=b.useState(()=>new e(s,a)),c=l.getOptimisticResult(a),d=!n&&t.subscribed!==!1;if(b.useSyncExternalStore(b.useCallback(x=>{const y=d?l.subscribe(Yt.batchCalls(x)):Br;return l.updateResult(),y},[l,d]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),b.useEffect(()=>{l.setOptions(a)},[a,l]),JP(a,c))throw Pw(a,l,i);if(YP({result:c,errorResetBoundary:i,throwOnError:a.throwOnError,query:s.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw c.error;if((g=(p=s.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||g.call(p,a,c),a.experimental_prefetchInRender&&!go&&QP(c,n)){const x=o?Pw(a,l,i):(m=s.getQueryCache().get(a.queryHash))==null?void 0:m.promise;x==null||x.catch(Br).finally(()=>{l.updateResult()})}return a.notifyOnChangeProps?c:l.trackResult(c)}function $r(t,e){return e5(t,DP)}function Ut(t,e){const r=RE(),[n]=b.useState(()=>new UP(r,t));b.useEffect(()=>{n.setOptions(t)},[n,t]);const i=b.useSyncExternalStore(b.useCallback(a=>n.subscribe(Yt.batchCalls(a)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),s=b.useCallback((a,o)=>{n.mutate(a,o).catch(Br)},[n]);if(i.error&&SE(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}async function DE(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}async function kt(t,e,r){const n=await fetch(e,{method:t,headers:r?{"Content-Type":"application/json"}:{},body:r?JSON.stringify(r):void 0,credentials:"include"});return await DE(n),n}const t5=({on401:t})=>async({queryKey:e})=>{const[r,n]=e;let i=r;if(n&&typeof n=="object"){const a=new URLSearchParams;for(const[l,c]of Object.entries(n))c!=null&&c!==""&&a.append(l,String(c));const o=a.toString();o&&(i+=`?${o}`)}const s=await fetch(i,{credentials:"include"});return await DE(s),await s.json()},Xe=new VP({defaultOptions:{queries:{queryFn:t5({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),r5=1,n5=1e6;let O0=0;function i5(){return O0=(O0+1)%Number.MAX_SAFE_INTEGER,O0.toString()}const R0=new Map,Ow=t=>{if(R0.has(t))return;const e=setTimeout(()=>{R0.delete(t),fu({type:"REMOVE_TOAST",toastId:t})},n5);R0.set(t,e)},s5=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,r5)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?Ow(r):t.toasts.forEach(n=>{Ow(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},Bf=[];let Uf={toasts:[]};function fu(t){Uf=s5(Uf,t),Bf.forEach(e=>{e(Uf)})}function a5({...t}){const e=i5(),r=i=>fu({type:"UPDATE_TOAST",toast:{...i,id:e}}),n=()=>fu({type:"DISMISS_TOAST",toastId:e});return fu({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||n()}}}),{id:e,dismiss:n,update:r}}function Dn(){const[t,e]=b.useState(Uf);return b.useEffect(()=>(Bf.push(e),()=>{const r=Bf.indexOf(e);r>-1&&Bf.splice(r,1)}),[t]),{...t,toast:a5,dismiss:r=>fu({type:"DISMISS_TOAST",toastId:r})}}function Ie(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t==null||t(i),r===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function Rw(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function pc(...t){return e=>{let r=!1;const n=t.map(i=>{const s=Rw(i,e);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let i=0;i<n.length;i++){const s=n[i];typeof s=="function"?s():Rw(t[i],null)}}}}function ut(...t){return b.useCallback(pc(...t),t)}function o5(t,e){const r=b.createContext(e),n=s=>{const{children:a,...o}=s,l=b.useMemo(()=>o,Object.values(o));return u.jsx(r.Provider,{value:l,children:a})};n.displayName=t+"Provider";function i(s){const a=b.useContext(r);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[n,i]}function ba(t,e=[]){let r=[];function n(s,a){const o=b.createContext(a),l=r.length;r=[...r,a];const c=f=>{var y;const{scope:h,children:p,...g}=f,m=((y=h==null?void 0:h[t])==null?void 0:y[l])||o,x=b.useMemo(()=>g,Object.values(g));return u.jsx(m.Provider,{value:x,children:p})};c.displayName=s+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[t])==null?void 0:m[l])||o,g=b.useContext(p);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[c,d]}const i=()=>{const s=r.map(a=>b.createContext(a));return function(o){const l=(o==null?void 0:o[t])||s;return b.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return i.scopeName=t,[n,l5(i,...e)]}function l5(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=n.reduce((o,{useScope:l,scopeName:c})=>{const f=l(s)[`__scope${c}`];return{...o,...f}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return r.scopeName=e.scopeName,r}function kw(t){const e=c5(t),r=b.forwardRef((n,i)=>{const{children:s,...a}=n,o=b.Children.toArray(s),l=o.find(d5);if(l){const c=l.props.children,d=o.map(f=>f===l?b.Children.count(c)>1?b.Children.only(null):b.isValidElement(c)?c.props.children:null:f);return u.jsx(e,{...a,ref:i,children:b.isValidElement(c)?b.cloneElement(c,void 0,d):null})}return u.jsx(e,{...a,ref:i,children:s})});return r.displayName=`${t}.Slot`,r}function c5(t){const e=b.forwardRef((r,n)=>{const{children:i,...s}=r;if(b.isValidElement(i)){const a=h5(i),o=f5(s,i.props);return i.type!==b.Fragment&&(o.ref=n?pc(n,a):a),b.cloneElement(i,o)}return b.Children.count(i)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var u5=Symbol("radix.slottable");function d5(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===u5}function f5(t,e){const r={...e};for(const n in e){const i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...o)=>{const l=s(...o);return i(...o),l}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function h5(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function jE(t){const e=t+"CollectionProvider",[r,n]=ba(e),[i,s]=r(e,{collectionRef:{current:null},itemMap:new Map}),a=m=>{const{scope:x,children:y}=m,v=Ne.useRef(null),_=Ne.useRef(new Map).current;return u.jsx(i,{scope:x,itemMap:_,collectionRef:v,children:y})};a.displayName=e;const o=t+"CollectionSlot",l=kw(o),c=Ne.forwardRef((m,x)=>{const{scope:y,children:v}=m,_=s(o,y),w=ut(x,_.collectionRef);return u.jsx(l,{ref:w,children:v})});c.displayName=o;const d=t+"CollectionItemSlot",f="data-radix-collection-item",h=kw(d),p=Ne.forwardRef((m,x)=>{const{scope:y,children:v,..._}=m,w=Ne.useRef(null),S=ut(x,w),A=s(d,y);return Ne.useEffect(()=>(A.itemMap.set(w,{ref:w,..._}),()=>void A.itemMap.delete(w))),u.jsx(h,{[f]:"",ref:S,children:v})});p.displayName=d;function g(m){const x=s(t+"CollectionConsumer",m);return Ne.useCallback(()=>{const v=x.collectionRef.current;if(!v)return[];const _=Array.from(v.querySelectorAll(`[${f}]`));return Array.from(x.itemMap.values()).sort((A,E)=>_.indexOf(A.ref.current)-_.indexOf(E.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:a,Slot:c,ItemSlot:p},g,n]}function p5(t){const e=m5(t),r=b.forwardRef((n,i)=>{const{children:s,...a}=n,o=b.Children.toArray(s),l=o.find(v5);if(l){const c=l.props.children,d=o.map(f=>f===l?b.Children.count(c)>1?b.Children.only(null):b.isValidElement(c)?c.props.children:null:f);return u.jsx(e,{...a,ref:i,children:b.isValidElement(c)?b.cloneElement(c,void 0,d):null})}return u.jsx(e,{...a,ref:i,children:s})});return r.displayName=`${t}.Slot`,r}function m5(t){const e=b.forwardRef((r,n)=>{const{children:i,...s}=r;if(b.isValidElement(i)){const a=x5(i),o=y5(s,i.props);return i.type!==b.Fragment&&(o.ref=n?pc(n,a):a),b.cloneElement(i,o)}return b.Children.count(i)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var g5=Symbol("radix.slottable");function v5(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===g5}function y5(t,e){const r={...e};for(const n in e){const i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...o)=>{const l=s(...o);return i(...o),l}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function x5(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var w5=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ve=w5.reduce((t,e)=>{const r=p5(`Primitive.${e}`),n=b.forwardRef((i,s)=>{const{asChild:a,...o}=i,l=a?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(l,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function FE(t,e){t&&Ao.flushSync(()=>t.dispatchEvent(e))}function hi(t){const e=b.useRef(t);return b.useEffect(()=>{e.current=t}),b.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function _5(t,e=globalThis==null?void 0:globalThis.document){const r=hi(t);b.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var b5="DismissableLayer",Em="dismissableLayer.update",C5="dismissableLayer.pointerDownOutside",S5="dismissableLayer.focusOutside",Dw,ME=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Sd=b.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:a,onDismiss:o,...l}=t,c=b.useContext(ME),[d,f]=b.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=b.useState({}),g=ut(e,E=>f(E)),m=Array.from(c.layers),[x]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),y=m.indexOf(x),v=d?m.indexOf(d):-1,_=c.layersWithOutsidePointerEventsDisabled.size>0,w=v>=y,S=A5(E=>{const P=E.target,j=[...c.branches].some(F=>F.contains(P));!w||j||(i==null||i(E),a==null||a(E),E.defaultPrevented||o==null||o())},h),A=N5(E=>{const P=E.target;[...c.branches].some(F=>F.contains(P))||(s==null||s(E),a==null||a(E),E.defaultPrevented||o==null||o())},h);return _5(E=>{v===c.layers.size-1&&(n==null||n(E),!E.defaultPrevented&&o&&(E.preventDefault(),o()))},h),b.useEffect(()=>{if(d)return r&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(Dw=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),jw(),()=>{r&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Dw)}},[d,h,r,c]),b.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),jw())},[d,c]),b.useEffect(()=>{const E=()=>p({});return document.addEventListener(Em,E),()=>document.removeEventListener(Em,E)},[]),u.jsx(Ve.div,{...l,ref:g,style:{pointerEvents:_?w?"auto":"none":void 0,...t.style},onFocusCapture:Ie(t.onFocusCapture,A.onFocusCapture),onBlurCapture:Ie(t.onBlurCapture,A.onBlurCapture),onPointerDownCapture:Ie(t.onPointerDownCapture,S.onPointerDownCapture)})});Sd.displayName=b5;var E5="DismissableLayerBranch",LE=b.forwardRef((t,e)=>{const r=b.useContext(ME),n=b.useRef(null),i=ut(e,n);return b.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),u.jsx(Ve.div,{...t,ref:i})});LE.displayName=E5;function A5(t,e=globalThis==null?void 0:globalThis.document){const r=hi(t),n=b.useRef(!1),i=b.useRef(()=>{});return b.useEffect(()=>{const s=o=>{if(o.target&&!n.current){let l=function(){BE(C5,r,c,{discrete:!0})};const c={originalEvent:o};o.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);n.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function N5(t,e=globalThis==null?void 0:globalThis.document){const r=hi(t),n=b.useRef(!1);return b.useEffect(()=>{const i=s=>{s.target&&!n.current&&BE(S5,r,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function jw(){const t=new CustomEvent(Em);document.dispatchEvent(t)}function BE(t,e,r,{discrete:n}){const i=r.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?FE(i,s):i.dispatchEvent(s)}var T5=Sd,I5=LE,yr=globalThis!=null&&globalThis.document?b.useLayoutEffect:()=>{},P5="Portal",Ap=b.forwardRef((t,e)=>{var o;const{container:r,...n}=t,[i,s]=b.useState(!1);yr(()=>s(!0),[]);const a=r||i&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return a?H6.createPortal(u.jsx(Ve.div,{...n,ref:e}),a):null});Ap.displayName=P5;function O5(t,e){return b.useReducer((r,n)=>e[r][n]??r,t)}var No=t=>{const{present:e,children:r}=t,n=R5(e),i=typeof r=="function"?r({present:n.isPresent}):b.Children.only(r),s=ut(n.ref,k5(i));return typeof r=="function"||n.isPresent?b.cloneElement(i,{ref:s}):null};No.displayName="Presence";function R5(t){const[e,r]=b.useState(),n=b.useRef(null),i=b.useRef(t),s=b.useRef("none"),a=t?"mounted":"unmounted",[o,l]=O5(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const c=tf(n.current);s.current=o==="mounted"?c:"none"},[o]),yr(()=>{const c=n.current,d=i.current;if(d!==t){const h=s.current,p=tf(c);t?l("MOUNT"):p==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),yr(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,f=p=>{const m=tf(n.current).includes(CSS.escape(p.animationName));if(p.target===e&&m&&(l("ANIMATION_END"),!i.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},h=p=>{p.target===e&&(s.current=tf(n.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:b.useCallback(c=>{n.current=c?getComputedStyle(c):null,r(c)},[])}}function tf(t){return(t==null?void 0:t.animationName)||"none"}function k5(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var D5=cp[" useInsertionEffect ".trim().toString()]||yr;function ju({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[i,s,a]=j5({defaultProp:e,onChange:r}),o=t!==void 0,l=o?t:i;{const d=b.useRef(t!==void 0);b.useEffect(()=>{const f=d.current;f!==o&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=o},[o,n])}const c=b.useCallback(d=>{var f;if(o){const h=F5(d)?d(t):d;h!==t&&((f=a.current)==null||f.call(a,h))}else s(d)},[o,t,s,a]);return[l,c]}function j5({defaultProp:t,onChange:e}){const[r,n]=b.useState(t),i=b.useRef(r),s=b.useRef(e);return D5(()=>{s.current=e},[e]),b.useEffect(()=>{var a;i.current!==r&&((a=s.current)==null||a.call(s,r),i.current=r)},[r,i]),[r,n,s]}function F5(t){return typeof t=="function"}var UE=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),M5="VisuallyHidden",Np=b.forwardRef((t,e)=>u.jsx(Ve.span,{...t,ref:e,style:{...UE,...t.style}}));Np.displayName=M5;var L5=Np,zv="ToastProvider",[Hv,B5,U5]=jE("Toast"),[$E]=ba("Toast",[U5]),[$5,Tp]=$E(zv),VE=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:a}=t,[o,l]=b.useState(null),[c,d]=b.useState(0),f=b.useRef(!1),h=b.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${zv}\`. Expected non-empty \`string\`.`),u.jsx(Hv.Provider,{scope:e,children:u.jsx($5,{scope:e,label:r,duration:n,swipeDirection:i,swipeThreshold:s,toastCount:c,viewport:o,onViewportChange:l,onToastAdd:b.useCallback(()=>d(p=>p+1),[]),onToastRemove:b.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:a})})};VE.displayName=zv;var zE="ToastViewport",V5=["F8"],Am="toast.viewportPause",Nm="toast.viewportResume",HE=b.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=V5,label:i="Notifications ({hotkey})",...s}=t,a=Tp(zE,r),o=B5(r),l=b.useRef(null),c=b.useRef(null),d=b.useRef(null),f=b.useRef(null),h=ut(e,f,a.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=a.toastCount>0;b.useEffect(()=>{const x=y=>{var _;n.length!==0&&n.every(w=>y[w]||y.code===w)&&((_=f.current)==null||_.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[n]),b.useEffect(()=>{const x=l.current,y=f.current;if(g&&x&&y){const v=()=>{if(!a.isClosePausedRef.current){const A=new CustomEvent(Am);y.dispatchEvent(A),a.isClosePausedRef.current=!0}},_=()=>{if(a.isClosePausedRef.current){const A=new CustomEvent(Nm);y.dispatchEvent(A),a.isClosePausedRef.current=!1}},w=A=>{!x.contains(A.relatedTarget)&&_()},S=()=>{x.contains(document.activeElement)||_()};return x.addEventListener("focusin",v),x.addEventListener("focusout",w),x.addEventListener("pointermove",v),x.addEventListener("pointerleave",S),window.addEventListener("blur",v),window.addEventListener("focus",_),()=>{x.removeEventListener("focusin",v),x.removeEventListener("focusout",w),x.removeEventListener("pointermove",v),x.removeEventListener("pointerleave",S),window.removeEventListener("blur",v),window.removeEventListener("focus",_)}}},[g,a.isClosePausedRef]);const m=b.useCallback(({tabbingDirection:x})=>{const v=o().map(_=>{const w=_.ref.current,S=[w,...tO(w)];return x==="forwards"?S:S.reverse()});return(x==="forwards"?v.reverse():v).flat()},[o]);return b.useEffect(()=>{const x=f.current;if(x){const y=v=>{var S,A,E;const _=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!_){const P=document.activeElement,j=v.shiftKey;if(v.target===x&&j){(S=c.current)==null||S.focus();return}const L=m({tabbingDirection:j?"backwards":"forwards"}),N=L.findIndex(O=>O===P);k0(L.slice(N+1))?v.preventDefault():j?(A=c.current)==null||A.focus():(E=d.current)==null||E.focus()}};return x.addEventListener("keydown",y),()=>x.removeEventListener("keydown",y)}},[o,m]),u.jsxs(I5,{ref:l,role:"region","aria-label":i.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&u.jsx(Tm,{ref:c,onFocusFromOutsideViewport:()=>{const x=m({tabbingDirection:"forwards"});k0(x)}}),u.jsx(Hv.Slot,{scope:r,children:u.jsx(Ve.ol,{tabIndex:-1,...s,ref:h})}),g&&u.jsx(Tm,{ref:d,onFocusFromOutsideViewport:()=>{const x=m({tabbingDirection:"backwards"});k0(x)}})]})});HE.displayName=zE;var WE="ToastFocusProxy",Tm=b.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...i}=t,s=Tp(WE,r);return u.jsx(Np,{tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:a=>{var c;const o=a.relatedTarget;!((c=s.viewport)!=null&&c.contains(o))&&n()}})});Tm.displayName=WE;var Ed="Toast",z5="toast.swipeStart",H5="toast.swipeMove",W5="toast.swipeCancel",G5="toast.swipeEnd",GE=b.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:i,onOpenChange:s,...a}=t,[o,l]=ju({prop:n,defaultProp:i??!0,onChange:s,caller:Ed});return u.jsx(No,{present:r||o,children:u.jsx(K5,{open:o,...a,ref:e,onClose:()=>l(!1),onPause:hi(t.onPause),onResume:hi(t.onResume),onSwipeStart:Ie(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ie(t.onSwipeMove,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Ie(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ie(t.onSwipeEnd,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});GE.displayName=Ed;var[q5,X5]=$E(Ed,{onClose(){}}),K5=b.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:i,open:s,onClose:a,onEscapeKeyDown:o,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:p,...g}=t,m=Tp(Ed,r),[x,y]=b.useState(null),v=ut(e,O=>y(O)),_=b.useRef(null),w=b.useRef(null),S=i||m.duration,A=b.useRef(0),E=b.useRef(S),P=b.useRef(0),{onToastAdd:j,onToastRemove:F}=m,H=hi(()=>{var q;(x==null?void 0:x.contains(document.activeElement))&&((q=m.viewport)==null||q.focus()),a()}),L=b.useCallback(O=>{!O||O===1/0||(window.clearTimeout(P.current),A.current=new Date().getTime(),P.current=window.setTimeout(H,O))},[H]);b.useEffect(()=>{const O=m.viewport;if(O){const q=()=>{L(E.current),c==null||c()},Q=()=>{const X=new Date().getTime()-A.current;E.current=E.current-X,window.clearTimeout(P.current),l==null||l()};return O.addEventListener(Am,Q),O.addEventListener(Nm,q),()=>{O.removeEventListener(Am,Q),O.removeEventListener(Nm,q)}}},[m.viewport,S,l,c,L]),b.useEffect(()=>{s&&!m.isClosePausedRef.current&&L(S)},[s,S,m.isClosePausedRef,L]),b.useEffect(()=>(j(),()=>F()),[j,F]);const N=b.useMemo(()=>x?JE(x):null,[x]);return m.viewport?u.jsxs(u.Fragment,{children:[N&&u.jsx(Y5,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite",children:N}),u.jsx(q5,{scope:r,onClose:H,children:Ao.createPortal(u.jsx(Hv.ItemSlot,{scope:r,children:u.jsx(T5,{asChild:!0,onEscapeKeyDown:Ie(o,()=>{m.isFocusedToastEscapeKeyDownRef.current||H(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:u.jsx(Ve.li,{tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":m.swipeDirection,...g,ref:v,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Ie(t.onKeyDown,O=>{O.key==="Escape"&&(o==null||o(O.nativeEvent),O.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,H()))}),onPointerDown:Ie(t.onPointerDown,O=>{O.button===0&&(_.current={x:O.clientX,y:O.clientY})}),onPointerMove:Ie(t.onPointerMove,O=>{if(!_.current)return;const q=O.clientX-_.current.x,Q=O.clientY-_.current.y,X=!!w.current,D=["left","right"].includes(m.swipeDirection),k=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,M=D?k(0,q):0,$=D?0:k(0,Q),ee=O.pointerType==="touch"?10:2,se={x:M,y:$},he={originalEvent:O,delta:se};X?(w.current=se,rf(H5,f,he,{discrete:!1})):Fw(se,m.swipeDirection,ee)?(w.current=se,rf(z5,d,he,{discrete:!1}),O.target.setPointerCapture(O.pointerId)):(Math.abs(q)>ee||Math.abs(Q)>ee)&&(_.current=null)}),onPointerUp:Ie(t.onPointerUp,O=>{const q=w.current,Q=O.target;if(Q.hasPointerCapture(O.pointerId)&&Q.releasePointerCapture(O.pointerId),w.current=null,_.current=null,q){const X=O.currentTarget,D={originalEvent:O,delta:q};Fw(q,m.swipeDirection,m.swipeThreshold)?rf(G5,p,D,{discrete:!0}):rf(W5,h,D,{discrete:!0}),X.addEventListener("click",k=>k.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),Y5=t=>{const{__scopeToast:e,children:r,...n}=t,i=Tp(Ed,e),[s,a]=b.useState(!1),[o,l]=b.useState(!1);return J5(()=>a(!0)),b.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),o?null:u.jsx(Ap,{asChild:!0,children:u.jsx(Np,{...n,children:s&&u.jsxs(u.Fragment,{children:[i.label," ",r]})})})},Z5="ToastTitle",qE=b.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return u.jsx(Ve.div,{...n,ref:e})});qE.displayName=Z5;var Q5="ToastDescription",XE=b.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return u.jsx(Ve.div,{...n,ref:e})});XE.displayName=Q5;var KE="ToastAction",YE=b.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?u.jsx(QE,{altText:r,asChild:!0,children:u.jsx(Wv,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${KE}\`. Expected non-empty \`string\`.`),null)});YE.displayName=KE;var ZE="ToastClose",Wv=b.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,i=X5(ZE,r);return u.jsx(QE,{asChild:!0,children:u.jsx(Ve.button,{type:"button",...n,ref:e,onClick:Ie(t.onClick,i.onClose)})})});Wv.displayName=ZE;var QE=b.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...i}=t;return u.jsx(Ve.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:e})});function JE(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),eO(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",s=n.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const a=n.dataset.radixToastAnnounceAlt;a&&e.push(a)}else e.push(...JE(n))}}),e}function rf(t,e,r,{discrete:n}){const i=r.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?FE(i,s):i.dispatchEvent(s)}var Fw=(t,e,r=0)=>{const n=Math.abs(t.x),i=Math.abs(t.y),s=n>i;return e==="left"||e==="right"?s&&n>r:!s&&i>r};function J5(t=()=>{}){const e=hi(t);yr(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function eO(t){return t.nodeType===t.ELEMENT_NODE}function tO(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function k0(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var rO=VE,e3=HE,t3=GE,r3=qE,n3=XE,i3=YE,s3=Wv;function a3(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=a3(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function o3(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=a3(t))&&(n&&(n+=" "),n+=e);return n}const Mw=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Lw=o3,Ad=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return Lw(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:s}=e,a=Object.keys(i).map(c=>{const d=r==null?void 0:r[c],f=s==null?void 0:s[c];if(d===null)return null;const h=Mw(d)||Mw(f);return i[c][h]}),o=r&&Object.entries(r).reduce((c,d)=>{let[f,h]=d;return h===void 0||(c[f]=h),c},{}),l=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((c,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(g=>{let[m,x]=g;return Array.isArray(x)?x.includes({...s,...o}[m]):{...s,...o}[m]===x})?[...c,f,h]:c},[]);return Lw(t,a,l,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nO=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l3=(...t)=>t.filter((e,r,n)=>!!e&&n.indexOf(e)===r).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var iO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sO=b.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:a,...o},l)=>b.createElement("svg",{ref:l,...iO,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:l3("lucide",i),...o},[...a.map(([c,d])=>b.createElement(c,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nd=(t,e)=>{const r=b.forwardRef(({className:n,...i},s)=>b.createElement(sO,{ref:s,iconNode:e,className:l3(`lucide-${nO(t)}`,n),...i}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c3=Nd("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u3=Nd("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aO=Nd("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oO=Nd("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d3=Nd("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Gv="-",lO=t=>{const e=uO(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:a=>{const o=a.split(Gv);return o[0]===""&&o.length!==1&&o.shift(),f3(o,e)||cO(a)},getConflictingClassGroupIds:(a,o)=>{const l=r[a]||[];return o&&n[a]?[...l,...n[a]]:l}}},f3=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),i=n?f3(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(Gv);return(a=e.validators.find(({validator:o})=>o(s)))==null?void 0:a.classGroupId},Bw=/^\[(.+)\]$/,cO=t=>{if(Bw.test(t)){const e=Bw.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},uO=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return fO(Object.entries(t.classGroups),r).forEach(([s,a])=>{Im(a,n,s,e)}),n},Im=(t,e,r,n)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:Uw(e,i);s.classGroupId=r;return}if(typeof i=="function"){if(dO(i)){Im(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([s,a])=>{Im(a,Uw(e,s),r,n)})})},Uw=(t,e)=>{let r=t;return e.split(Gv).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},dO=t=>t.isThemeGetter,fO=(t,e)=>e?t.map(([r,n])=>{const i=n.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([a,o])=>[e+a,o])):s);return[r,i]}):t,hO=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const i=(s,a)=>{r.set(s,a),e++,e>t&&(e=0,n=r,r=new Map)};return{get(s){let a=r.get(s);if(a!==void 0)return a;if((a=n.get(s))!==void 0)return i(s,a),a},set(s,a){r.has(s)?r.set(s,a):i(s,a)}}},h3="!",pO=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,i=e[0],s=e.length,a=o=>{const l=[];let c=0,d=0,f;for(let x=0;x<o.length;x++){let y=o[x];if(c===0){if(y===i&&(n||o.slice(x,x+s)===e)){l.push(o.slice(d,x)),d=x+s;continue}if(y==="/"){f=x;continue}}y==="["?c++:y==="]"&&c--}const h=l.length===0?o:o.substring(d),p=h.startsWith(h3),g=p?h.substring(1):h,m=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:m}};return r?o=>r({className:o,parseClassName:a}):a},mO=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},gO=t=>({cache:hO(t.cacheSize),parseClassName:pO(t),...lO(t)}),vO=/\s+/,yO=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=e,s=[],a=t.trim().split(vO);let o="";for(let l=a.length-1;l>=0;l-=1){const c=a[l],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=r(c);let g=!!p,m=n(g?h.substring(0,p):h);if(!m){if(!g){o=c+(o.length>0?" "+o:o);continue}if(m=n(h),!m){o=c+(o.length>0?" "+o:o);continue}g=!1}const x=mO(d).join(":"),y=f?x+h3:x,v=y+m;if(s.includes(v))continue;s.push(v);const _=i(m,g);for(let w=0;w<_.length;++w){const S=_[w];s.push(y+S)}o=c+(o.length>0?" "+o:o)}return o};function xO(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=p3(e))&&(n&&(n+=" "),n+=r);return n}const p3=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=p3(t[n]))&&(r&&(r+=" "),r+=e);return r};function wO(t,...e){let r,n,i,s=a;function a(l){const c=e.reduce((d,f)=>f(d),t());return r=gO(c),n=r.cache.get,i=r.cache.set,s=o,o(l)}function o(l){const c=n(l);if(c)return c;const d=yO(l,r);return i(l,d),d}return function(){return s(xO.apply(null,arguments))}}const yt=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},m3=/^\[(?:([a-z-]+):)?(.+)\]$/i,_O=/^\d+\/\d+$/,bO=new Set(["px","full","screen"]),CO=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,SO=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,EO=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,AO=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,NO=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,zi=t=>ll(t)||bO.has(t)||_O.test(t),ws=t=>mc(t,"length",jO),ll=t=>!!t&&!Number.isNaN(Number(t)),D0=t=>mc(t,"number",ll),Oc=t=>!!t&&Number.isInteger(Number(t)),TO=t=>t.endsWith("%")&&ll(t.slice(0,-1)),De=t=>m3.test(t),_s=t=>CO.test(t),IO=new Set(["length","size","percentage"]),PO=t=>mc(t,IO,g3),OO=t=>mc(t,"position",g3),RO=new Set(["image","url"]),kO=t=>mc(t,RO,MO),DO=t=>mc(t,"",FO),Rc=()=>!0,mc=(t,e,r)=>{const n=m3.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},jO=t=>SO.test(t)&&!EO.test(t),g3=()=>!1,FO=t=>AO.test(t),MO=t=>NO.test(t),LO=()=>{const t=yt("colors"),e=yt("spacing"),r=yt("blur"),n=yt("brightness"),i=yt("borderColor"),s=yt("borderRadius"),a=yt("borderSpacing"),o=yt("borderWidth"),l=yt("contrast"),c=yt("grayscale"),d=yt("hueRotate"),f=yt("invert"),h=yt("gap"),p=yt("gradientColorStops"),g=yt("gradientColorStopPositions"),m=yt("inset"),x=yt("margin"),y=yt("opacity"),v=yt("padding"),_=yt("saturate"),w=yt("scale"),S=yt("sepia"),A=yt("skew"),E=yt("space"),P=yt("translate"),j=()=>["auto","contain","none"],F=()=>["auto","hidden","clip","visible","scroll"],H=()=>["auto",De,e],L=()=>[De,e],N=()=>["",zi,ws],O=()=>["auto",ll,De],q=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Q=()=>["solid","dashed","dotted","double","none"],X=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],D=()=>["start","end","center","between","around","evenly","stretch"],k=()=>["","0",De],M=()=>["auto","avoid","all","avoid-page","page","left","right","column"],$=()=>[ll,De];return{cacheSize:500,separator:":",theme:{colors:[Rc],spacing:[zi,ws],blur:["none","",_s,De],brightness:$(),borderColor:[t],borderRadius:["none","","full",_s,De],borderSpacing:L(),borderWidth:N(),contrast:$(),grayscale:k(),hueRotate:$(),invert:k(),gap:L(),gradientColorStops:[t],gradientColorStopPositions:[TO,ws],inset:H(),margin:H(),opacity:$(),padding:L(),saturate:$(),scale:$(),sepia:k(),skew:$(),space:L(),translate:L()},classGroups:{aspect:[{aspect:["auto","square","video",De]}],container:["container"],columns:[{columns:[_s]}],"break-after":[{"break-after":M()}],"break-before":[{"break-before":M()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...q(),De]}],overflow:[{overflow:F()}],"overflow-x":[{"overflow-x":F()}],"overflow-y":[{"overflow-y":F()}],overscroll:[{overscroll:j()}],"overscroll-x":[{"overscroll-x":j()}],"overscroll-y":[{"overscroll-y":j()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Oc,De]}],basis:[{basis:H()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",De]}],grow:[{grow:k()}],shrink:[{shrink:k()}],order:[{order:["first","last","none",Oc,De]}],"grid-cols":[{"grid-cols":[Rc]}],"col-start-end":[{col:["auto",{span:["full",Oc,De]},De]}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":[Rc]}],"row-start-end":[{row:["auto",{span:[Oc,De]},De]}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",De]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",De]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...D()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...D(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...D(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",De,e]}],"min-w":[{"min-w":[De,e,"min","max","fit"]}],"max-w":[{"max-w":[De,e,"none","full","min","max","fit","prose",{screen:[_s]},_s]}],h:[{h:[De,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[De,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[De,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[De,e,"auto","min","max","fit"]}],"font-size":[{text:["base",_s,ws]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",D0]}],"font-family":[{font:[Rc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",De]}],"line-clamp":[{"line-clamp":["none",ll,D0]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",zi,De]}],"list-image":[{"list-image":["none",De]}],"list-style-type":[{list:["none","disc","decimal",De]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",zi,ws]}],"underline-offset":[{"underline-offset":["auto",zi,De]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",De]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",De]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...q(),OO]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",PO]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},kO]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...Q(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:Q()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...Q()]}],"outline-offset":[{"outline-offset":[zi,De]}],"outline-w":[{outline:[zi,ws]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:N()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[zi,ws]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",_s,DO]}],"shadow-color":[{shadow:[Rc]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...X(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":X()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",_s,De]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[_]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",De]}],duration:[{duration:$()}],ease:[{ease:["linear","in","out","in-out",De]}],delay:[{delay:$()}],animate:[{animate:["none","spin","ping","pulse","bounce",De]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[Oc,De]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[A]}],"skew-y":[{"skew-y":[A]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",De]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",De]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",De]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[zi,ws,D0]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},BO=wO(LO);function Ee(...t){return BO(o3(t))}const UO=rO,v3=b.forwardRef(({className:t,...e},r)=>u.jsx(e3,{ref:r,className:Ee("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));v3.displayName=e3.displayName;const $O=Ad("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),y3=b.forwardRef(({className:t,variant:e,...r},n)=>u.jsx(t3,{ref:n,className:Ee($O({variant:e}),t),...r}));y3.displayName=t3.displayName;const VO=b.forwardRef(({className:t,...e},r)=>u.jsx(i3,{ref:r,className:Ee("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));VO.displayName=i3.displayName;const x3=b.forwardRef(({className:t,...e},r)=>u.jsx(s3,{ref:r,className:Ee("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:u.jsx(d3,{className:"h-4 w-4"})}));x3.displayName=s3.displayName;const w3=b.forwardRef(({className:t,...e},r)=>u.jsx(r3,{ref:r,className:Ee("text-sm font-semibold",t),...e}));w3.displayName=r3.displayName;const _3=b.forwardRef(({className:t,...e},r)=>u.jsx(n3,{ref:r,className:Ee("text-sm opacity-90",t),...e}));_3.displayName=n3.displayName;function zO(){const{toasts:t}=Dn();return u.jsxs(UO,{children:[t.map(function({id:e,title:r,description:n,action:i,...s}){return u.jsxs(y3,{...s,children:[u.jsxs("div",{className:"grid gap-1",children:[r&&u.jsx(w3,{children:r}),n&&u.jsx(_3,{children:n})]}),i,u.jsx(x3,{})]},e)}),u.jsx(v3,{})]})}var HO=cp[" useId ".trim().toString()]||(()=>{}),WO=0;function cl(t){const[e,r]=b.useState(HO());return yr(()=>{r(n=>n??String(WO++))},[t]),e?`radix-${e}`:""}const GO=["top","right","bottom","left"],pa=Math.min,on=Math.max,Ah=Math.round,nf=Math.floor,Li=t=>({x:t,y:t}),qO={left:"right",right:"left",bottom:"top",top:"bottom"},XO={start:"end",end:"start"};function Pm(t,e,r){return on(t,pa(e,r))}function ds(t,e){return typeof t=="function"?t(e):t}function fs(t){return t.split("-")[0]}function gc(t){return t.split("-")[1]}function qv(t){return t==="x"?"y":"x"}function Xv(t){return t==="y"?"height":"width"}const KO=new Set(["top","bottom"]);function ki(t){return KO.has(fs(t))?"y":"x"}function Kv(t){return qv(ki(t))}function YO(t,e,r){r===void 0&&(r=!1);const n=gc(t),i=Kv(t),s=Xv(i);let a=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(a=Nh(a)),[a,Nh(a)]}function ZO(t){const e=Nh(t);return[Om(t),e,Om(e)]}function Om(t){return t.replace(/start|end/g,e=>XO[e])}const $w=["left","right"],Vw=["right","left"],QO=["top","bottom"],JO=["bottom","top"];function eR(t,e,r){switch(t){case"top":case"bottom":return r?e?Vw:$w:e?$w:Vw;case"left":case"right":return e?QO:JO;default:return[]}}function tR(t,e,r,n){const i=gc(t);let s=eR(fs(t),r==="start",n);return i&&(s=s.map(a=>a+"-"+i),e&&(s=s.concat(s.map(Om)))),s}function Nh(t){return t.replace(/left|right|bottom|top/g,e=>qO[e])}function rR(t){return{top:0,right:0,bottom:0,left:0,...t}}function b3(t){return typeof t!="number"?rR(t):{top:t,right:t,bottom:t,left:t}}function Th(t){const{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}function zw(t,e,r){let{reference:n,floating:i}=t;const s=ki(e),a=Kv(e),o=Xv(a),l=fs(e),c=s==="y",d=n.x+n.width/2-i.width/2,f=n.y+n.height/2-i.height/2,h=n[o]/2-i[o]/2;let p;switch(l){case"top":p={x:d,y:n.y-i.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-i.width,y:f};break;default:p={x:n.x,y:n.y}}switch(gc(e)){case"start":p[a]-=h*(r&&c?-1:1);break;case"end":p[a]+=h*(r&&c?-1:1);break}return p}const nR=async(t,e,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:s=[],platform:a}=r,o=s.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(e));let c=await a.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:f}=zw(c,n,l),h=n,p={},g=0;for(let m=0;m<o.length;m++){const{name:x,fn:y}=o[m],{x:v,y:_,data:w,reset:S}=await y({x:d,y:f,initialPlacement:n,placement:h,strategy:i,middlewareData:p,rects:c,platform:a,elements:{reference:t,floating:e}});d=v??d,f=_??f,p={...p,[x]:{...p[x],...w}},S&&g<=50&&(g++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(c=S.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:i}):S.rects),{x:d,y:f}=zw(c,h,l)),m=-1)}return{x:d,y:f,placement:h,strategy:i,middlewareData:p}};async function Fu(t,e){var r;e===void 0&&(e={});const{x:n,y:i,platform:s,rects:a,elements:o,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=ds(e,t),g=b3(p),x=o[h?f==="floating"?"reference":"floating":f],y=Th(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(x)))==null||r?x:x.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(o.floating)),boundary:c,rootBoundary:d,strategy:l})),v=f==="floating"?{x:n,y:i,width:a.floating.width,height:a.floating.height}:a.reference,_=await(s.getOffsetParent==null?void 0:s.getOffsetParent(o.floating)),w=await(s.isElement==null?void 0:s.isElement(_))?await(s.getScale==null?void 0:s.getScale(_))||{x:1,y:1}:{x:1,y:1},S=Th(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:v,offsetParent:_,strategy:l}):v);return{top:(y.top-S.top+g.top)/w.y,bottom:(S.bottom-y.bottom+g.bottom)/w.y,left:(y.left-S.left+g.left)/w.x,right:(S.right-y.right+g.right)/w.x}}const iR=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:i,rects:s,platform:a,elements:o,middlewareData:l}=e,{element:c,padding:d=0}=ds(t,e)||{};if(c==null)return{};const f=b3(d),h={x:r,y:n},p=Kv(i),g=Xv(p),m=await a.getDimensions(c),x=p==="y",y=x?"top":"left",v=x?"bottom":"right",_=x?"clientHeight":"clientWidth",w=s.reference[g]+s.reference[p]-h[p]-s.floating[g],S=h[p]-s.reference[p],A=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c));let E=A?A[_]:0;(!E||!await(a.isElement==null?void 0:a.isElement(A)))&&(E=o.floating[_]||s.floating[g]);const P=w/2-S/2,j=E/2-m[g]/2-1,F=pa(f[y],j),H=pa(f[v],j),L=F,N=E-m[g]-H,O=E/2-m[g]/2+P,q=Pm(L,O,N),Q=!l.arrow&&gc(i)!=null&&O!==q&&s.reference[g]/2-(O<L?F:H)-m[g]/2<0,X=Q?O<L?O-L:O-N:0;return{[p]:h[p]+X,data:{[p]:q,centerOffset:O-q-X,...Q&&{alignmentOffset:X}},reset:Q}}}),sR=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:i,middlewareData:s,rects:a,initialPlacement:o,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,...x}=ds(t,e);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const y=fs(i),v=ki(o),_=fs(o)===o,w=await(l.isRTL==null?void 0:l.isRTL(c.floating)),S=h||(_||!m?[Nh(o)]:ZO(o)),A=g!=="none";!h&&A&&S.push(...tR(o,m,g,w));const E=[o,...S],P=await Fu(e,x),j=[];let F=((n=s.flip)==null?void 0:n.overflows)||[];if(d&&j.push(P[y]),f){const O=YO(i,a,w);j.push(P[O[0]],P[O[1]])}if(F=[...F,{placement:i,overflows:j}],!j.every(O=>O<=0)){var H,L;const O=(((H=s.flip)==null?void 0:H.index)||0)+1,q=E[O];if(q&&(!(f==="alignment"?v!==ki(q):!1)||F.every(D=>ki(D.placement)===v?D.overflows[0]>0:!0)))return{data:{index:O,overflows:F},reset:{placement:q}};let Q=(L=F.filter(X=>X.overflows[0]<=0).sort((X,D)=>X.overflows[1]-D.overflows[1])[0])==null?void 0:L.placement;if(!Q)switch(p){case"bestFit":{var N;const X=(N=F.filter(D=>{if(A){const k=ki(D.placement);return k===v||k==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(k=>k>0).reduce((k,M)=>k+M,0)]).sort((D,k)=>D[1]-k[1])[0])==null?void 0:N[0];X&&(Q=X);break}case"initialPlacement":Q=o;break}if(i!==Q)return{reset:{placement:Q}}}return{}}}};function Hw(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Ww(t){return GO.some(e=>t[e]>=0)}const aR=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...i}=ds(t,e);switch(n){case"referenceHidden":{const s=await Fu(e,{...i,elementContext:"reference"}),a=Hw(s,r.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:Ww(a)}}}case"escaped":{const s=await Fu(e,{...i,altBoundary:!0}),a=Hw(s,r.floating);return{data:{escapedOffsets:a,escaped:Ww(a)}}}default:return{}}}}},C3=new Set(["left","top"]);async function oR(t,e){const{placement:r,platform:n,elements:i}=t,s=await(n.isRTL==null?void 0:n.isRTL(i.floating)),a=fs(r),o=gc(r),l=ki(r)==="y",c=C3.has(a)?-1:1,d=s&&l?-1:1,f=ds(e,t);let{mainAxis:h,crossAxis:p,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return o&&typeof g=="number"&&(p=o==="end"?g*-1:g),l?{x:p*d,y:h*c}:{x:h*c,y:p*d}}const lR=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:i,y:s,placement:a,middlewareData:o}=e,l=await oR(e,t);return a===((r=o.offset)==null?void 0:r.placement)&&(n=o.arrow)!=null&&n.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:a}}}}},cR=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:i}=e,{mainAxis:s=!0,crossAxis:a=!1,limiter:o={fn:x=>{let{x:y,y:v}=x;return{x:y,y:v}}},...l}=ds(t,e),c={x:r,y:n},d=await Fu(e,l),f=ki(fs(i)),h=qv(f);let p=c[h],g=c[f];if(s){const x=h==="y"?"top":"left",y=h==="y"?"bottom":"right",v=p+d[x],_=p-d[y];p=Pm(v,p,_)}if(a){const x=f==="y"?"top":"left",y=f==="y"?"bottom":"right",v=g+d[x],_=g-d[y];g=Pm(v,g,_)}const m=o.fn({...e,[h]:p,[f]:g});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[h]:s,[f]:a}}}}}},uR=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:i,rects:s,middlewareData:a}=e,{offset:o=0,mainAxis:l=!0,crossAxis:c=!0}=ds(t,e),d={x:r,y:n},f=ki(i),h=qv(f);let p=d[h],g=d[f];const m=ds(o,e),x=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const _=h==="y"?"height":"width",w=s.reference[h]-s.floating[_]+x.mainAxis,S=s.reference[h]+s.reference[_]-x.mainAxis;p<w?p=w:p>S&&(p=S)}if(c){var y,v;const _=h==="y"?"width":"height",w=C3.has(fs(i)),S=s.reference[f]-s.floating[_]+(w&&((y=a.offset)==null?void 0:y[f])||0)+(w?0:x.crossAxis),A=s.reference[f]+s.reference[_]+(w?0:((v=a.offset)==null?void 0:v[f])||0)-(w?x.crossAxis:0);g<S?g=S:g>A&&(g=A)}return{[h]:p,[f]:g}}}},dR=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:i,rects:s,platform:a,elements:o}=e,{apply:l=()=>{},...c}=ds(t,e),d=await Fu(e,c),f=fs(i),h=gc(i),p=ki(i)==="y",{width:g,height:m}=s.floating;let x,y;f==="top"||f==="bottom"?(x=f,y=h===(await(a.isRTL==null?void 0:a.isRTL(o.floating))?"start":"end")?"left":"right"):(y=f,x=h==="end"?"top":"bottom");const v=m-d.top-d.bottom,_=g-d.left-d.right,w=pa(m-d[x],v),S=pa(g-d[y],_),A=!e.middlewareData.shift;let E=w,P=S;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(P=_),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(E=v),A&&!h){const F=on(d.left,0),H=on(d.right,0),L=on(d.top,0),N=on(d.bottom,0);p?P=g-2*(F!==0||H!==0?F+H:on(d.left,d.right)):E=m-2*(L!==0||N!==0?L+N:on(d.top,d.bottom))}await l({...e,availableWidth:P,availableHeight:E});const j=await a.getDimensions(o.floating);return g!==j.width||m!==j.height?{reset:{rects:!0}}:{}}}};function Ip(){return typeof window<"u"}function vc(t){return S3(t)?(t.nodeName||"").toLowerCase():"#document"}function hn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Vi(t){var e;return(e=(S3(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function S3(t){return Ip()?t instanceof Node||t instanceof hn(t).Node:!1}function pi(t){return Ip()?t instanceof Element||t instanceof hn(t).Element:!1}function Ui(t){return Ip()?t instanceof HTMLElement||t instanceof hn(t).HTMLElement:!1}function Gw(t){return!Ip()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof hn(t).ShadowRoot}const fR=new Set(["inline","contents"]);function Td(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=mi(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!fR.has(i)}const hR=new Set(["table","td","th"]);function pR(t){return hR.has(vc(t))}const mR=[":popover-open",":modal"];function Pp(t){return mR.some(e=>{try{return t.matches(e)}catch{return!1}})}const gR=["transform","translate","scale","rotate","perspective"],vR=["transform","translate","scale","rotate","perspective","filter"],yR=["paint","layout","strict","content"];function Yv(t){const e=Zv(),r=pi(t)?mi(t):t;return gR.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||vR.some(n=>(r.willChange||"").includes(n))||yR.some(n=>(r.contain||"").includes(n))}function xR(t){let e=ma(t);for(;Ui(e)&&!Jl(e);){if(Yv(e))return e;if(Pp(e))return null;e=ma(e)}return null}function Zv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const wR=new Set(["html","body","#document"]);function Jl(t){return wR.has(vc(t))}function mi(t){return hn(t).getComputedStyle(t)}function Op(t){return pi(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ma(t){if(vc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Gw(t)&&t.host||Vi(t);return Gw(e)?e.host:e}function E3(t){const e=ma(t);return Jl(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ui(e)&&Td(e)?e:E3(e)}function Mu(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=E3(t),s=i===((n=t.ownerDocument)==null?void 0:n.body),a=hn(i);if(s){const o=Rm(a);return e.concat(a,a.visualViewport||[],Td(i)?i:[],o&&r?Mu(o):[])}return e.concat(i,Mu(i,[],r))}function Rm(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function A3(t){const e=mi(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=Ui(t),s=i?t.offsetWidth:r,a=i?t.offsetHeight:n,o=Ah(r)!==s||Ah(n)!==a;return o&&(r=s,n=a),{width:r,height:n,$:o}}function Qv(t){return pi(t)?t:t.contextElement}function ul(t){const e=Qv(t);if(!Ui(e))return Li(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:s}=A3(e);let a=(s?Ah(r.width):r.width)/n,o=(s?Ah(r.height):r.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const _R=Li(0);function N3(t){const e=hn(t);return!Zv()||!e.visualViewport?_R:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function bR(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==hn(t)?!1:e}function yo(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),s=Qv(t);let a=Li(1);e&&(n?pi(n)&&(a=ul(n)):a=ul(t));const o=bR(s,r,n)?N3(s):Li(0);let l=(i.left+o.x)/a.x,c=(i.top+o.y)/a.y,d=i.width/a.x,f=i.height/a.y;if(s){const h=hn(s),p=n&&pi(n)?hn(n):n;let g=h,m=Rm(g);for(;m&&n&&p!==g;){const x=ul(m),y=m.getBoundingClientRect(),v=mi(m),_=y.left+(m.clientLeft+parseFloat(v.paddingLeft))*x.x,w=y.top+(m.clientTop+parseFloat(v.paddingTop))*x.y;l*=x.x,c*=x.y,d*=x.x,f*=x.y,l+=_,c+=w,g=hn(m),m=Rm(g)}}return Th({width:d,height:f,x:l,y:c})}function Rp(t,e){const r=Op(t).scrollLeft;return e?e.left+r:yo(Vi(t)).left+r}function T3(t,e){const r=t.getBoundingClientRect(),n=r.left+e.scrollLeft-Rp(t,r),i=r.top+e.scrollTop;return{x:n,y:i}}function CR(t){let{elements:e,rect:r,offsetParent:n,strategy:i}=t;const s=i==="fixed",a=Vi(n),o=e?Pp(e.floating):!1;if(n===a||o&&s)return r;let l={scrollLeft:0,scrollTop:0},c=Li(1);const d=Li(0),f=Ui(n);if((f||!f&&!s)&&((vc(n)!=="body"||Td(a))&&(l=Op(n)),Ui(n))){const p=yo(n);c=ul(n),d.x=p.x+n.clientLeft,d.y=p.y+n.clientTop}const h=a&&!f&&!s?T3(a,l):Li(0);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-l.scrollLeft*c.x+d.x+h.x,y:r.y*c.y-l.scrollTop*c.y+d.y+h.y}}function SR(t){return Array.from(t.getClientRects())}function ER(t){const e=Vi(t),r=Op(t),n=t.ownerDocument.body,i=on(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),s=on(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let a=-r.scrollLeft+Rp(t);const o=-r.scrollTop;return mi(n).direction==="rtl"&&(a+=on(e.clientWidth,n.clientWidth)-i),{width:i,height:s,x:a,y:o}}const qw=25;function AR(t,e){const r=hn(t),n=Vi(t),i=r.visualViewport;let s=n.clientWidth,a=n.clientHeight,o=0,l=0;if(i){s=i.width,a=i.height;const d=Zv();(!d||d&&e==="fixed")&&(o=i.offsetLeft,l=i.offsetTop)}const c=Rp(n);if(c<=0){const d=n.ownerDocument,f=d.body,h=getComputedStyle(f),p=d.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,g=Math.abs(n.clientWidth-f.clientWidth-p);g<=qw&&(s-=g)}else c<=qw&&(s+=c);return{width:s,height:a,x:o,y:l}}const NR=new Set(["absolute","fixed"]);function TR(t,e){const r=yo(t,!0,e==="fixed"),n=r.top+t.clientTop,i=r.left+t.clientLeft,s=Ui(t)?ul(t):Li(1),a=t.clientWidth*s.x,o=t.clientHeight*s.y,l=i*s.x,c=n*s.y;return{width:a,height:o,x:l,y:c}}function Xw(t,e,r){let n;if(e==="viewport")n=AR(t,r);else if(e==="document")n=ER(Vi(t));else if(pi(e))n=TR(e,r);else{const i=N3(t);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Th(n)}function I3(t,e){const r=ma(t);return r===e||!pi(r)||Jl(r)?!1:mi(r).position==="fixed"||I3(r,e)}function IR(t,e){const r=e.get(t);if(r)return r;let n=Mu(t,[],!1).filter(o=>pi(o)&&vc(o)!=="body"),i=null;const s=mi(t).position==="fixed";let a=s?ma(t):t;for(;pi(a)&&!Jl(a);){const o=mi(a),l=Yv(a);!l&&o.position==="fixed"&&(i=null),(s?!l&&!i:!l&&o.position==="static"&&!!i&&NR.has(i.position)||Td(a)&&!l&&I3(t,a))?n=n.filter(d=>d!==a):i=o,a=ma(a)}return e.set(t,n),n}function PR(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t;const a=[...r==="clippingAncestors"?Pp(e)?[]:IR(e,this._c):[].concat(r),n],o=a[0],l=a.reduce((c,d)=>{const f=Xw(e,d,i);return c.top=on(f.top,c.top),c.right=pa(f.right,c.right),c.bottom=pa(f.bottom,c.bottom),c.left=on(f.left,c.left),c},Xw(e,o,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function OR(t){const{width:e,height:r}=A3(t);return{width:e,height:r}}function RR(t,e,r){const n=Ui(e),i=Vi(e),s=r==="fixed",a=yo(t,!0,s,e);let o={scrollLeft:0,scrollTop:0};const l=Li(0);function c(){l.x=Rp(i)}if(n||!n&&!s)if((vc(e)!=="body"||Td(i))&&(o=Op(e)),n){const p=yo(e,!0,s,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else i&&c();s&&!n&&i&&c();const d=i&&!n&&!s?T3(i,o):Li(0),f=a.left+o.scrollLeft-l.x-d.x,h=a.top+o.scrollTop-l.y-d.y;return{x:f,y:h,width:a.width,height:a.height}}function j0(t){return mi(t).position==="static"}function Kw(t,e){if(!Ui(t)||mi(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return Vi(t)===r&&(r=r.ownerDocument.body),r}function P3(t,e){const r=hn(t);if(Pp(t))return r;if(!Ui(t)){let i=ma(t);for(;i&&!Jl(i);){if(pi(i)&&!j0(i))return i;i=ma(i)}return r}let n=Kw(t,e);for(;n&&pR(n)&&j0(n);)n=Kw(n,e);return n&&Jl(n)&&j0(n)&&!Yv(n)?r:n||xR(t)||r}const kR=async function(t){const e=this.getOffsetParent||P3,r=this.getDimensions,n=await r(t.floating);return{reference:RR(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function DR(t){return mi(t).direction==="rtl"}const jR={convertOffsetParentRelativeRectToViewportRelativeRect:CR,getDocumentElement:Vi,getClippingRect:PR,getOffsetParent:P3,getElementRects:kR,getClientRects:SR,getDimensions:OR,getScale:ul,isElement:pi,isRTL:DR};function O3(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function FR(t,e){let r=null,n;const i=Vi(t);function s(){var o;clearTimeout(n),(o=r)==null||o.disconnect(),r=null}function a(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),s();const c=t.getBoundingClientRect(),{left:d,top:f,width:h,height:p}=c;if(o||e(),!h||!p)return;const g=nf(f),m=nf(i.clientWidth-(d+h)),x=nf(i.clientHeight-(f+p)),y=nf(d),_={rootMargin:-g+"px "+-m+"px "+-x+"px "+-y+"px",threshold:on(0,pa(1,l))||1};let w=!0;function S(A){const E=A[0].intersectionRatio;if(E!==l){if(!w)return a();E?a(!1,E):n=setTimeout(()=>{a(!1,1e-7)},1e3)}E===1&&!O3(c,t.getBoundingClientRect())&&a(),w=!1}try{r=new IntersectionObserver(S,{..._,root:i.ownerDocument})}catch{r=new IntersectionObserver(S,_)}r.observe(t)}return a(!0),s}function MR(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,c=Qv(t),d=i||s?[...c?Mu(c):[],...Mu(e)]:[];d.forEach(y=>{i&&y.addEventListener("scroll",r,{passive:!0}),s&&y.addEventListener("resize",r)});const f=c&&o?FR(c,r):null;let h=-1,p=null;a&&(p=new ResizeObserver(y=>{let[v]=y;v&&v.target===c&&p&&(p.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var _;(_=p)==null||_.observe(e)})),r()}),c&&!l&&p.observe(c),p.observe(e));let g,m=l?yo(t):null;l&&x();function x(){const y=yo(t);m&&!O3(m,y)&&r(),m=y,g=requestAnimationFrame(x)}return r(),()=>{var y;d.forEach(v=>{i&&v.removeEventListener("scroll",r),s&&v.removeEventListener("resize",r)}),f==null||f(),(y=p)==null||y.disconnect(),p=null,l&&cancelAnimationFrame(g)}}const LR=lR,BR=cR,UR=sR,$R=dR,VR=aR,Yw=iR,zR=uR,HR=(t,e,r)=>{const n=new Map,i={platform:jR,...r},s={...i.platform,_c:n};return nR(t,e,{...i,platform:s})};var WR=typeof document<"u",GR=function(){},$f=WR?b.useLayoutEffect:GR;function Ih(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!Ih(t[n],e[n]))return!1;return!0}if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){const s=i[n];if(!(s==="_owner"&&t.$$typeof)&&!Ih(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function R3(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Zw(t,e){const r=R3(t);return Math.round(e*r)/r}function F0(t){const e=b.useRef(t);return $f(()=>{e.current=t}),e}function qR(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:s,floating:a}={},transform:o=!0,whileElementsMounted:l,open:c}=t,[d,f]=b.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[h,p]=b.useState(n);Ih(h,n)||p(n);const[g,m]=b.useState(null),[x,y]=b.useState(null),v=b.useCallback(D=>{D!==A.current&&(A.current=D,m(D))},[]),_=b.useCallback(D=>{D!==E.current&&(E.current=D,y(D))},[]),w=s||g,S=a||x,A=b.useRef(null),E=b.useRef(null),P=b.useRef(d),j=l!=null,F=F0(l),H=F0(i),L=F0(c),N=b.useCallback(()=>{if(!A.current||!E.current)return;const D={placement:e,strategy:r,middleware:h};H.current&&(D.platform=H.current),HR(A.current,E.current,D).then(k=>{const M={...k,isPositioned:L.current!==!1};O.current&&!Ih(P.current,M)&&(P.current=M,Ao.flushSync(()=>{f(M)}))})},[h,e,r,H,L]);$f(()=>{c===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,f(D=>({...D,isPositioned:!1})))},[c]);const O=b.useRef(!1);$f(()=>(O.current=!0,()=>{O.current=!1}),[]),$f(()=>{if(w&&(A.current=w),S&&(E.current=S),w&&S){if(F.current)return F.current(w,S,N);N()}},[w,S,N,F,j]);const q=b.useMemo(()=>({reference:A,floating:E,setReference:v,setFloating:_}),[v,_]),Q=b.useMemo(()=>({reference:w,floating:S}),[w,S]),X=b.useMemo(()=>{const D={position:r,left:0,top:0};if(!Q.floating)return D;const k=Zw(Q.floating,d.x),M=Zw(Q.floating,d.y);return o?{...D,transform:"translate("+k+"px, "+M+"px)",...R3(Q.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:k,top:M}},[r,o,Q.floating,d.x,d.y]);return b.useMemo(()=>({...d,update:N,refs:q,elements:Q,floatingStyles:X}),[d,N,q,Q,X])}const XR=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:i}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?Yw({element:n.current,padding:i}).fn(r):{}:n?Yw({element:n,padding:i}).fn(r):{}}}},KR=(t,e)=>({...LR(t),options:[t,e]}),YR=(t,e)=>({...BR(t),options:[t,e]}),ZR=(t,e)=>({...zR(t),options:[t,e]}),QR=(t,e)=>({...UR(t),options:[t,e]}),JR=(t,e)=>({...$R(t),options:[t,e]}),ek=(t,e)=>({...VR(t),options:[t,e]}),tk=(t,e)=>({...XR(t),options:[t,e]});var rk="Arrow",k3=b.forwardRef((t,e)=>{const{children:r,width:n=10,height:i=5,...s}=t;return u.jsx(Ve.svg,{...s,ref:e,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});k3.displayName=rk;var nk=k3;function D3(t){const[e,r]=b.useState(void 0);return yr(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let a,o;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;a=c.inlineSize,o=c.blockSize}else a=t.offsetWidth,o=t.offsetHeight;r({width:a,height:o})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var Jv="Popper",[j3,kp]=ba(Jv),[ik,F3]=j3(Jv),M3=t=>{const{__scopePopper:e,children:r}=t,[n,i]=b.useState(null);return u.jsx(ik,{scope:e,anchor:n,onAnchorChange:i,children:r})};M3.displayName=Jv;var L3="PopperAnchor",B3=b.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...i}=t,s=F3(L3,r),a=b.useRef(null),o=ut(e,a),l=b.useRef(null);return b.useEffect(()=>{const c=l.current;l.current=(n==null?void 0:n.current)||a.current,c!==l.current&&s.onAnchorChange(l.current)}),n?null:u.jsx(Ve.div,{...i,ref:o})});B3.displayName=L3;var ey="PopperContent",[sk,ak]=j3(ey),U3=b.forwardRef((t,e)=>{var ce,B,le,me,de,Ae;const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:s="center",alignOffset:a=0,arrowPadding:o=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:g,...m}=t,x=F3(ey,r),[y,v]=b.useState(null),_=ut(e,nt=>v(nt)),[w,S]=b.useState(null),A=D3(w),E=(A==null?void 0:A.width)??0,P=(A==null?void 0:A.height)??0,j=n+(s!=="center"?"-"+s:""),F=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},H=Array.isArray(c)?c:[c],L=H.length>0,N={padding:F,boundary:H.filter(lk),altBoundary:L},{refs:O,floatingStyles:q,placement:Q,isPositioned:X,middlewareData:D}=qR({strategy:"fixed",placement:j,whileElementsMounted:(...nt)=>MR(...nt,{animationFrame:p==="always"}),elements:{reference:x.anchor},middleware:[KR({mainAxis:i+P,alignmentAxis:a}),l&&YR({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?ZR():void 0,...N}),l&&QR({...N}),JR({...N,apply:({elements:nt,rects:Ct,availableWidth:Ir,availableHeight:Fn})=>{const{width:tr,height:vs}=Ct.reference,Hr=nt.floating.style;Hr.setProperty("--radix-popper-available-width",`${Ir}px`),Hr.setProperty("--radix-popper-available-height",`${Fn}px`),Hr.setProperty("--radix-popper-anchor-width",`${tr}px`),Hr.setProperty("--radix-popper-anchor-height",`${vs}px`)}}),w&&tk({element:w,padding:o}),ck({arrowWidth:E,arrowHeight:P}),h&&ek({strategy:"referenceHidden",...N})]}),[k,M]=z3(Q),$=hi(g);yr(()=>{X&&($==null||$())},[X,$]);const ee=(ce=D.arrow)==null?void 0:ce.x,se=(B=D.arrow)==null?void 0:B.y,he=((le=D.arrow)==null?void 0:le.centerOffset)!==0,[Be,Re]=b.useState();return yr(()=>{y&&Re(window.getComputedStyle(y).zIndex)},[y]),u.jsx("div",{ref:O.setFloating,"data-radix-popper-content-wrapper":"",style:{...q,transform:X?q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Be,"--radix-popper-transform-origin":[(me=D.transformOrigin)==null?void 0:me.x,(de=D.transformOrigin)==null?void 0:de.y].join(" "),...((Ae=D.hide)==null?void 0:Ae.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:u.jsx(sk,{scope:r,placedSide:k,onArrowChange:S,arrowX:ee,arrowY:se,shouldHideArrow:he,children:u.jsx(Ve.div,{"data-side":k,"data-align":M,...m,ref:_,style:{...m.style,animation:X?void 0:"none"}})})})});U3.displayName=ey;var $3="PopperArrow",ok={top:"bottom",right:"left",bottom:"top",left:"right"},V3=b.forwardRef(function(e,r){const{__scopePopper:n,...i}=e,s=ak($3,n),a=ok[s.placedSide];return u.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:u.jsx(nk,{...i,ref:r,style:{...i.style,display:"block"}})})});V3.displayName=$3;function lk(t){return t!==null}var ck=t=>({name:"transformOrigin",options:t,fn(e){var x,y,v;const{placement:r,rects:n,middlewareData:i}=e,a=((x=i.arrow)==null?void 0:x.centerOffset)!==0,o=a?0:t.arrowWidth,l=a?0:t.arrowHeight,[c,d]=z3(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((y=i.arrow)==null?void 0:y.x)??0)+o/2,p=(((v=i.arrow)==null?void 0:v.y)??0)+l/2;let g="",m="";return c==="bottom"?(g=a?f:`${h}px`,m=`${-l}px`):c==="top"?(g=a?f:`${h}px`,m=`${n.floating.height+l}px`):c==="right"?(g=`${-l}px`,m=a?f:`${p}px`):c==="left"&&(g=`${n.floating.width+l}px`,m=a?f:`${p}px`),{data:{x:g,y:m}}}});function z3(t){const[e,r="center"]=t.split("-");return[e,r]}var uk=M3,H3=B3,W3=U3,G3=V3,dk=Symbol("radix.slottable");function fk(t){const e=({children:r})=>u.jsx(u.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=dk,e}var[Dp]=ba("Tooltip",[kp]),ty=kp(),q3="TooltipProvider",hk=700,Qw="tooltip.open",[pk,X3]=Dp(q3),K3=t=>{const{__scopeTooltip:e,delayDuration:r=hk,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:s}=t,a=b.useRef(!0),o=b.useRef(!1),l=b.useRef(0);return b.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),u.jsx(pk,{scope:e,isOpenDelayedRef:a,delayDuration:r,onOpen:b.useCallback(()=>{window.clearTimeout(l.current),a.current=!1},[]),onClose:b.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.current=!0,n)},[n]),isPointerInTransitRef:o,onPointerInTransitChange:b.useCallback(c=>{o.current=c},[]),disableHoverableContent:i,children:s})};K3.displayName=q3;var Y3="Tooltip",[AW,jp]=Dp(Y3),km="TooltipTrigger",mk=b.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=jp(km,r),s=X3(km,r),a=ty(r),o=b.useRef(null),l=ut(e,o,i.onTriggerChange),c=b.useRef(!1),d=b.useRef(!1),f=b.useCallback(()=>c.current=!1,[]);return b.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),u.jsx(H3,{asChild:!0,...a,children:u.jsx(Ve.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:l,onPointerMove:Ie(t.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:Ie(t.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:Ie(t.onPointerDown,()=>{i.open&&i.onClose(),c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Ie(t.onFocus,()=>{c.current||i.onOpen()}),onBlur:Ie(t.onBlur,i.onClose),onClick:Ie(t.onClick,i.onClose)})})});mk.displayName=km;var gk="TooltipPortal",[NW,vk]=Dp(gk,{forceMount:void 0}),ec="TooltipContent",Z3=b.forwardRef((t,e)=>{const r=vk(ec,t.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...s}=t,a=jp(ec,t.__scopeTooltip);return u.jsx(No,{present:n||a.open,children:a.disableHoverableContent?u.jsx(Q3,{side:i,...s,ref:e}):u.jsx(yk,{side:i,...s,ref:e})})}),yk=b.forwardRef((t,e)=>{const r=jp(ec,t.__scopeTooltip),n=X3(ec,t.__scopeTooltip),i=b.useRef(null),s=ut(e,i),[a,o]=b.useState(null),{trigger:l,onClose:c}=r,d=i.current,{onPointerInTransitChange:f}=n,h=b.useCallback(()=>{o(null),f(!1)},[f]),p=b.useCallback((g,m)=>{const x=g.currentTarget,y={x:g.clientX,y:g.clientY},v=Ck(y,x.getBoundingClientRect()),_=Sk(y,v),w=Ek(m.getBoundingClientRect()),S=Nk([..._,...w]);o(S),f(!0)},[f]);return b.useEffect(()=>()=>h(),[h]),b.useEffect(()=>{if(l&&d){const g=x=>p(x,d),m=x=>p(x,l);return l.addEventListener("pointerleave",g),d.addEventListener("pointerleave",m),()=>{l.removeEventListener("pointerleave",g),d.removeEventListener("pointerleave",m)}}},[l,d,p,h]),b.useEffect(()=>{if(a){const g=m=>{const x=m.target,y={x:m.clientX,y:m.clientY},v=(l==null?void 0:l.contains(x))||(d==null?void 0:d.contains(x)),_=!Ak(y,a);v?h():_&&(h(),c())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[l,d,a,c,h]),u.jsx(Q3,{...t,ref:s})}),[xk,wk]=Dp(Y3,{isInside:!1}),_k=fk("TooltipContent"),Q3=b.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:a,...o}=t,l=jp(ec,r),c=ty(r),{onClose:d}=l;return b.useEffect(()=>(document.addEventListener(Qw,d),()=>document.removeEventListener(Qw,d)),[d]),b.useEffect(()=>{if(l.trigger){const f=h=>{const p=h.target;p!=null&&p.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),u.jsx(Sd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:u.jsxs(W3,{"data-state":l.stateAttribute,...c,...o,ref:e,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(_k,{children:n}),u.jsx(xk,{scope:r,isInside:!0,children:u.jsx(L5,{id:l.contentId,role:"tooltip",children:i||n})})]})})});Z3.displayName=ec;var J3="TooltipArrow",bk=b.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=ty(r);return wk(J3,r).isInside?null:u.jsx(G3,{...i,...n,ref:e})});bk.displayName=J3;function Ck(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(r,n,i,s)){case s:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function Sk(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function Ek(t){const{top:e,right:r,bottom:n,left:i}=t;return[{x:i,y:e},{x:r,y:e},{x:r,y:n},{x:i,y:n}]}function Ak(t,e){const{x:r,y:n}=t;let i=!1;for(let s=0,a=e.length-1;s<e.length;a=s++){const o=e[s],l=e[a],c=o.x,d=o.y,f=l.x,h=l.y;d>n!=h>n&&r<(f-c)*(n-d)/(h-d)+c&&(i=!i)}return i}function Nk(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),Tk(e)}function Tk(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const i=t[n];for(;e.length>=2;){const s=e[e.length-1],a=e[e.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))e.pop();else break}e.push(i)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const i=t[n];for(;r.length>=2;){const s=r[r.length-1],a=r[r.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))r.pop();else break}r.push(i)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var Ik=K3,eA=Z3;const Pk=Ik,Ok=b.forwardRef(({className:t,sideOffset:e=4,...r},n)=>u.jsx(eA,{ref:n,sideOffset:e,className:Ee("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...r}));Ok.displayName=eA.displayName;function yc(){const{data:t,isLoading:e}=$r({queryKey:["/api/auth/user"],retry:!1});return{user:t,isLoading:e,isAuthenticated:!!t}}var Id=t=>t.type==="checkbox",Ma=t=>t instanceof Date,Kr=t=>t==null;const tA=t=>typeof t=="object";var zt=t=>!Kr(t)&&!Array.isArray(t)&&tA(t)&&!Ma(t),rA=t=>zt(t)&&t.target?Id(t.target)?t.target.checked:t.target.value:t,Rk=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,nA=(t,e)=>t.has(Rk(e)),kk=t=>{const e=t.constructor&&t.constructor.prototype;return zt(e)&&e.hasOwnProperty("isPrototypeOf")},ry=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Ht(t){let e;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(ry&&(t instanceof Blob||n))&&(r||zt(t)))if(e=r?[]:Object.create(Object.getPrototypeOf(t)),!r&&!kk(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=Ht(t[i]));else return t;return e}var Fp=t=>/^\w*$/.test(t),Rt=t=>t===void 0,ny=t=>Array.isArray(t)?t.filter(Boolean):[],iy=t=>ny(t.replace(/["|']|\]/g,"").split(/\.|\[/)),oe=(t,e,r)=>{if(!e||!zt(t))return r;const n=(Fp(e)?[e]:iy(e)).reduce((i,s)=>Kr(i)?i:i[s],t);return Rt(n)||n===t?Rt(t[e])?r:t[e]:n},an=t=>typeof t=="boolean",at=(t,e,r)=>{let n=-1;const i=Fp(e)?[e]:iy(e),s=i.length,a=s-1;for(;++n<s;){const o=i[n];let l=r;if(n!==a){const c=t[o];l=zt(c)||Array.isArray(c)?c:isNaN(+i[n+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;t[o]=l,t=t[o]}};const Ph={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ri={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Hi={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},sy=Ne.createContext(null);sy.displayName="HookFormContext";const Mp=()=>Ne.useContext(sy),Dk=t=>{const{children:e,...r}=t;return Ne.createElement(sy.Provider,{value:r},e)};var iA=(t,e,r,n=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const a=s;return e._proxyFormState[a]!==ri.all&&(e._proxyFormState[a]=!n||ri.all),r&&(r[a]=!0),t[a]}});return i};const ay=typeof window<"u"?Ne.useLayoutEffect:Ne.useEffect;function jk(t){const e=Mp(),{control:r=e.control,disabled:n,name:i,exact:s}=t||{},[a,o]=Ne.useState(r._formState),l=Ne.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return ay(()=>r._subscribe({name:i,formState:l.current,exact:s,callback:c=>{!n&&o({...r._formState,...c})}}),[i,n,s]),Ne.useEffect(()=>{l.current.isValid&&r._setValid(!0)},[r]),Ne.useMemo(()=>iA(a,r,l.current,!1),[a,r])}var ln=t=>typeof t=="string",Dm=(t,e,r,n,i)=>ln(t)?(n&&e.watch.add(t),oe(r,t,i)):Array.isArray(t)?t.map(s=>(n&&e.watch.add(s),oe(r,s))):(n&&(e.watchAll=!0),r),jm=t=>Kr(t)||!tA(t);function ni(t,e,r=new WeakSet){if(jm(t)||jm(e))return Object.is(t,e);if(Ma(t)&&Ma(e))return t.getTime()===e.getTime();const n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;if(r.has(t)||r.has(e))return!0;r.add(t),r.add(e);for(const s of n){const a=t[s];if(!i.includes(s))return!1;if(s!=="ref"){const o=e[s];if(Ma(a)&&Ma(o)||zt(a)&&zt(o)||Array.isArray(a)&&Array.isArray(o)?!ni(a,o,r):!Object.is(a,o))return!1}}return!0}function Fk(t){const e=Mp(),{control:r=e.control,name:n,defaultValue:i,disabled:s,exact:a,compute:o}=t||{},l=Ne.useRef(i),c=Ne.useRef(o),d=Ne.useRef(void 0),f=Ne.useRef(r),h=Ne.useRef(n);c.current=o;const[p,g]=Ne.useState(()=>{const w=r._getWatch(n,l.current);return c.current?c.current(w):w}),m=Ne.useCallback(w=>{const S=Dm(n,r._names,w||r._formValues,!1,l.current);return c.current?c.current(S):S},[r._formValues,r._names,n]),x=Ne.useCallback(w=>{if(!s){const S=Dm(n,r._names,w||r._formValues,!1,l.current);if(c.current){const A=c.current(S);ni(A,d.current)||(g(A),d.current=A)}else g(S)}},[r._formValues,r._names,s,n]);ay(()=>((f.current!==r||!ni(h.current,n))&&(f.current=r,h.current=n,x()),r._subscribe({name:n,formState:{values:!0},exact:a,callback:w=>{x(w.values)}})),[r,a,n,x]),Ne.useEffect(()=>r._removeUnmounted());const y=f.current!==r,v=h.current,_=Ne.useMemo(()=>{if(s)return null;const w=!y&&!ni(v,n);return y||w?m():null},[s,y,n,v,m]);return _!==null?_:p}function Mk(t){const e=Mp(),{name:r,disabled:n,control:i=e.control,shouldUnregister:s,defaultValue:a,exact:o=!0}=t,l=nA(i._names.array,r),c=Ne.useMemo(()=>oe(i._formValues,r,oe(i._defaultValues,r,a)),[i,r,a]),d=Fk({control:i,name:r,defaultValue:c,exact:o}),f=jk({control:i,name:r,exact:o}),h=Ne.useRef(t),p=Ne.useRef(void 0),g=Ne.useRef(i.register(r,{...t.rules,value:d,...an(t.disabled)?{disabled:t.disabled}:{}}));h.current=t;const m=Ne.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!oe(f.errors,r)},isDirty:{enumerable:!0,get:()=>!!oe(f.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!oe(f.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!oe(f.validatingFields,r)},error:{enumerable:!0,get:()=>oe(f.errors,r)}}),[f,r]),x=Ne.useCallback(w=>g.current.onChange({target:{value:rA(w),name:r},type:Ph.CHANGE}),[r]),y=Ne.useCallback(()=>g.current.onBlur({target:{value:oe(i._formValues,r),name:r},type:Ph.BLUR}),[r,i._formValues]),v=Ne.useCallback(w=>{const S=oe(i._fields,r);S&&w&&(S._f.ref={focus:()=>w.focus&&w.focus(),select:()=>w.select&&w.select(),setCustomValidity:A=>w.setCustomValidity(A),reportValidity:()=>w.reportValidity()})},[i._fields,r]),_=Ne.useMemo(()=>({name:r,value:d,...an(n)||f.disabled?{disabled:f.disabled||n}:{},onChange:x,onBlur:y,ref:v}),[r,n,f.disabled,x,y,v,d]);return Ne.useEffect(()=>{const w=i._options.shouldUnregister||s,S=p.current;S&&S!==r&&!l&&i.unregister(S),i.register(r,{...h.current.rules,...an(h.current.disabled)?{disabled:h.current.disabled}:{}});const A=(E,P)=>{const j=oe(i._fields,E);j&&j._f&&(j._f.mount=P)};if(A(r,!0),w){const E=Ht(oe(i._options.defaultValues,r,h.current.defaultValue));at(i._defaultValues,r,E),Rt(oe(i._formValues,r))&&at(i._formValues,r,E)}return!l&&i.register(r),p.current=r,()=>{(l?w&&!i._state.action:w)?i.unregister(r):A(r,!1)}},[r,i,l,s]),Ne.useEffect(()=>{i._setDisabledField({disabled:n,name:r})},[n,r,i]),Ne.useMemo(()=>({field:_,formState:f,fieldState:m}),[_,f,m])}const Lk=t=>t.render(Mk(t));var sA=(t,e,r,n,i)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:i||!0}}:{},hu=t=>Array.isArray(t)?t:[t],Jw=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}};function aA(t,e){const r={};for(const n in t)if(t.hasOwnProperty(n)){const i=t[n],s=e[n];if(i&&zt(i)&&s){const a=aA(i,s);zt(a)&&(r[n]=a)}else t[n]&&(r[n]=s)}return r}var Mr=t=>zt(t)&&!Object.keys(t).length,oy=t=>t.type==="file",ii=t=>typeof t=="function",Oh=t=>{if(!ry)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},oA=t=>t.type==="select-multiple",ly=t=>t.type==="radio",Bk=t=>ly(t)||Id(t),M0=t=>Oh(t)&&t.isConnected;function Uk(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=Rt(t)?n++:t[e[n++]];return t}function $k(t){for(const e in t)if(t.hasOwnProperty(e)&&!Rt(t[e]))return!1;return!0}function Mt(t,e){const r=Array.isArray(e)?e:Fp(e)?[e]:iy(e),n=r.length===1?t:Uk(t,r),i=r.length-1,s=r[i];return n&&delete n[s],i!==0&&(zt(n)&&Mr(n)||Array.isArray(n)&&$k(n))&&Mt(t,r.slice(0,-1)),t}var Vk=t=>{for(const e in t)if(ii(t[e]))return!0;return!1};function lA(t){return Array.isArray(t)||zt(t)&&!Vk(t)}function Fm(t,e={}){for(const r in t){const n=t[r];lA(n)?(e[r]=Array.isArray(n)?[]:{},Fm(n,e[r])):Rt(n)||(e[r]=!0)}return e}function Bo(t,e,r){r||(r=Fm(e));for(const n in t){const i=t[n];if(lA(i))Rt(e)||jm(r[n])?r[n]=Fm(i,Array.isArray(i)?[]:{}):Bo(i,Kr(e)?{}:e[n],r[n]);else{const s=e[n];r[n]=!ni(i,s)}}return r}const e2={value:!1,isValid:!1},t2={value:!0,isValid:!0};var cA=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Rt(t[0].attributes.value)?Rt(t[0].value)||t[0].value===""?t2:{value:t[0].value,isValid:!0}:t2:e2}return e2},uA=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>Rt(t)?t:e?t===""?NaN:t&&+t:r&&ln(t)?new Date(t):n?n(t):t;const r2={isValid:!1,value:null};var dA=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,r2):r2;function n2(t){const e=t.ref;return oy(e)?e.files:ly(e)?dA(t.refs).value:oA(e)?[...e.selectedOptions].map(({value:r})=>r):Id(e)?cA(t.refs).value:uA(Rt(e.value)?t.ref.value:e.value,t)}var zk=(t,e,r,n)=>{const i={};for(const s of t){const a=oe(e,s);a&&at(i,s,a._f)}return{criteriaMode:r,names:[...t],fields:i,shouldUseNativeValidation:n}},Rh=t=>t instanceof RegExp,kc=t=>Rt(t)?t:Rh(t)?t.source:zt(t)?Rh(t.value)?t.value.source:t.value:t,i2=t=>({isOnSubmit:!t||t===ri.onSubmit,isOnBlur:t===ri.onBlur,isOnChange:t===ri.onChange,isOnAll:t===ri.all,isOnTouch:t===ri.onTouched});const s2="AsyncFunction";var Hk=t=>!!t&&!!t.validate&&!!(ii(t.validate)&&t.validate.constructor.name===s2||zt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===s2)),Wk=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),a2=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const pu=(t,e,r,n)=>{for(const i of r||Object.keys(t)){const s=oe(t,i);if(s){const{_f:a,...o}=s;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],i)&&!n)return!0;if(a.ref&&e(a.ref,a.name)&&!n)return!0;if(pu(o,e))break}else if(zt(o)&&pu(o,e))break}}};function o2(t,e,r){const n=oe(t,r);if(n||Fp(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const s=i.join("."),a=oe(e,s),o=oe(t,s);if(a&&!Array.isArray(a)&&r!==s)return{name:r};if(o&&o.type)return{name:s,error:o};if(o&&o.root&&o.root.type)return{name:`${s}.root`,error:o.root};i.pop()}return{name:r}}var Gk=(t,e,r,n)=>{r(t);const{name:i,...s}=t;return Mr(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(a=>e[a]===(!n||ri.all))},qk=(t,e,r)=>!t||!e||t===e||hu(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),Xk=(t,e,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(e||t):(r?n.isOnBlur:i.isOnBlur)?!t:(r?n.isOnChange:i.isOnChange)?t:!0,Kk=(t,e)=>!ny(oe(t,e)).length&&Mt(t,e),Yk=(t,e,r)=>{const n=hu(oe(t,r));return at(n,"root",e[r]),at(t,r,n),t};function l2(t,e,r="validate"){if(ln(t)||Array.isArray(t)&&t.every(ln)||an(t)&&!t)return{type:r,message:ln(t)?t:"",ref:e}}var Ro=t=>zt(t)&&!Rh(t)?t:{value:t,message:""},c2=async(t,e,r,n,i,s)=>{const{ref:a,refs:o,required:l,maxLength:c,minLength:d,min:f,max:h,pattern:p,validate:g,name:m,valueAsNumber:x,mount:y}=t._f,v=oe(r,m);if(!y||e.has(m))return{};const _=o?o[0]:a,w=L=>{i&&_.reportValidity&&(_.setCustomValidity(an(L)?"":L||""),_.reportValidity())},S={},A=ly(a),E=Id(a),P=A||E,j=(x||oy(a))&&Rt(a.value)&&Rt(v)||Oh(a)&&a.value===""||v===""||Array.isArray(v)&&!v.length,F=sA.bind(null,m,n,S),H=(L,N,O,q=Hi.maxLength,Q=Hi.minLength)=>{const X=L?N:O;S[m]={type:L?q:Q,message:X,ref:a,...F(L?q:Q,X)}};if(s?!Array.isArray(v)||!v.length:l&&(!P&&(j||Kr(v))||an(v)&&!v||E&&!cA(o).isValid||A&&!dA(o).isValid)){const{value:L,message:N}=ln(l)?{value:!!l,message:l}:Ro(l);if(L&&(S[m]={type:Hi.required,message:N,ref:_,...F(Hi.required,N)},!n))return w(N),S}if(!j&&(!Kr(f)||!Kr(h))){let L,N;const O=Ro(h),q=Ro(f);if(!Kr(v)&&!isNaN(v)){const Q=a.valueAsNumber||v&&+v;Kr(O.value)||(L=Q>O.value),Kr(q.value)||(N=Q<q.value)}else{const Q=a.valueAsDate||new Date(v),X=M=>new Date(new Date().toDateString()+" "+M),D=a.type=="time",k=a.type=="week";ln(O.value)&&v&&(L=D?X(v)>X(O.value):k?v>O.value:Q>new Date(O.value)),ln(q.value)&&v&&(N=D?X(v)<X(q.value):k?v<q.value:Q<new Date(q.value))}if((L||N)&&(H(!!L,O.message,q.message,Hi.max,Hi.min),!n))return w(S[m].message),S}if((c||d)&&!j&&(ln(v)||s&&Array.isArray(v))){const L=Ro(c),N=Ro(d),O=!Kr(L.value)&&v.length>+L.value,q=!Kr(N.value)&&v.length<+N.value;if((O||q)&&(H(O,L.message,N.message),!n))return w(S[m].message),S}if(p&&!j&&ln(v)){const{value:L,message:N}=Ro(p);if(Rh(L)&&!v.match(L)&&(S[m]={type:Hi.pattern,message:N,ref:a,...F(Hi.pattern,N)},!n))return w(N),S}if(g){if(ii(g)){const L=await g(v,r),N=l2(L,_);if(N&&(S[m]={...N,...F(Hi.validate,N.message)},!n))return w(N.message),S}else if(zt(g)){let L={};for(const N in g){if(!Mr(L)&&!n)break;const O=l2(await g[N](v,r),_,N);O&&(L={...O,...F(N,O.message)},w(O.message),n&&(S[m]=L))}if(!Mr(L)&&(S[m]={ref:_,...L},!n))return S}}return w(!0),S};const Zk={mode:ri.onSubmit,reValidateMode:ri.onChange,shouldFocusError:!0};function Qk(t={}){let e={...Zk,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:ii(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},i=zt(e.defaultValues)||zt(e.values)?Ht(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:Ht(i),a={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:Jw(),state:Jw()},p=e.criteriaMode===ri.all,g=R=>V=>{clearTimeout(c),c=setTimeout(R,V)},m=async R=>{if(!e.disabled&&(d.isValid||f.isValid||R)){const V=e.resolver?Mr((await E()).errors):await j(n,!0);V!==r.isValid&&h.state.next({isValid:V})}},x=(R,V)=>{!e.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((R||Array.from(o.mount)).forEach(Y=>{Y&&(V?at(r.validatingFields,Y,V):Mt(r.validatingFields,Y))}),h.state.next({validatingFields:r.validatingFields,isValidating:!Mr(r.validatingFields)}))},y=(R,V=[],Y,fe,ae=!0,re=!0)=>{if(fe&&Y&&!e.disabled){if(a.action=!0,re&&Array.isArray(oe(n,R))){const _e=Y(oe(n,R),fe.argA,fe.argB);ae&&at(n,R,_e)}if(re&&Array.isArray(oe(r.errors,R))){const _e=Y(oe(r.errors,R),fe.argA,fe.argB);ae&&at(r.errors,R,_e),Kk(r.errors,R)}if((d.touchedFields||f.touchedFields)&&re&&Array.isArray(oe(r.touchedFields,R))){const _e=Y(oe(r.touchedFields,R),fe.argA,fe.argB);ae&&at(r.touchedFields,R,_e)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=Bo(i,s)),h.state.next({name:R,isDirty:H(R,V),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else at(s,R,V)},v=(R,V)=>{at(r.errors,R,V),h.state.next({errors:r.errors})},_=R=>{r.errors=R,h.state.next({errors:r.errors,isValid:!1})},w=(R,V,Y,fe)=>{const ae=oe(n,R);if(ae){const re=oe(s,R,Rt(Y)?oe(i,R):Y);Rt(re)||fe&&fe.defaultChecked||V?at(s,R,V?re:n2(ae._f)):O(R,re),a.mount&&!a.action&&m()}},S=(R,V,Y,fe,ae)=>{let re=!1,_e=!1;const it={name:R};if(!e.disabled){if(!Y||fe){(d.isDirty||f.isDirty)&&(_e=r.isDirty,r.isDirty=it.isDirty=H(),re=_e!==it.isDirty);const mt=ni(oe(i,R),V);_e=!!oe(r.dirtyFields,R),mt?Mt(r.dirtyFields,R):at(r.dirtyFields,R,!0),it.dirtyFields=r.dirtyFields,re=re||(d.dirtyFields||f.dirtyFields)&&_e!==!mt}if(Y){const mt=oe(r.touchedFields,R);mt||(at(r.touchedFields,R,Y),it.touchedFields=r.touchedFields,re=re||(d.touchedFields||f.touchedFields)&&mt!==Y)}re&&ae&&h.state.next(it)}return re?it:{}},A=(R,V,Y,fe)=>{const ae=oe(r.errors,R),re=(d.isValid||f.isValid)&&an(V)&&r.isValid!==V;if(e.delayError&&Y?(l=g(()=>v(R,Y)),l(e.delayError)):(clearTimeout(c),l=null,Y?at(r.errors,R,Y):Mt(r.errors,R)),(Y?!ni(ae,Y):ae)||!Mr(fe)||re){const _e={...fe,...re&&an(V)?{isValid:V}:{},errors:r.errors,name:R};r={...r,..._e},h.state.next(_e)}},E=async R=>{x(R,!0);const V=await e.resolver(s,e.context,zk(R||o.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return x(R),V},P=async R=>{const{errors:V}=await E(R);if(R)for(const Y of R){const fe=oe(V,Y);fe?at(r.errors,Y,fe):Mt(r.errors,Y)}else r.errors=V;return V},j=async(R,V,Y={valid:!0})=>{for(const fe in R){const ae=R[fe];if(ae){const{_f:re,..._e}=ae;if(re){const it=o.array.has(re.name),mt=ae._f&&Hk(ae._f);mt&&d.validatingFields&&x([re.name],!0);const yn=await c2(ae,o.disabled,s,p,e.shouldUseNativeValidation&&!V,it);if(mt&&d.validatingFields&&x([re.name]),yn[re.name]&&(Y.valid=!1,V))break;!V&&(oe(yn,re.name)?it?Yk(r.errors,yn,re.name):at(r.errors,re.name,yn[re.name]):Mt(r.errors,re.name))}!Mr(_e)&&await j(_e,V,Y)}}return Y.valid},F=()=>{for(const R of o.unMount){const V=oe(n,R);V&&(V._f.refs?V._f.refs.every(Y=>!M0(Y)):!M0(V._f.ref))&&ce(R)}o.unMount=new Set},H=(R,V)=>!e.disabled&&(R&&V&&at(s,R,V),!ni(M(),i)),L=(R,V,Y)=>Dm(R,o,{...a.mount?s:Rt(V)?i:ln(R)?{[R]:V}:V},Y,V),N=R=>ny(oe(a.mount?s:i,R,e.shouldUnregister?oe(i,R,[]):[])),O=(R,V,Y={})=>{const fe=oe(n,R);let ae=V;if(fe){const re=fe._f;re&&(!re.disabled&&at(s,R,uA(V,re)),ae=Oh(re.ref)&&Kr(V)?"":V,oA(re.ref)?[...re.ref.options].forEach(_e=>_e.selected=ae.includes(_e.value)):re.refs?Id(re.ref)?re.refs.forEach(_e=>{(!_e.defaultChecked||!_e.disabled)&&(Array.isArray(ae)?_e.checked=!!ae.find(it=>it===_e.value):_e.checked=ae===_e.value||!!ae)}):re.refs.forEach(_e=>_e.checked=_e.value===ae):oy(re.ref)?re.ref.value="":(re.ref.value=ae,re.ref.type||h.state.next({name:R,values:Ht(s)})))}(Y.shouldDirty||Y.shouldTouch)&&S(R,ae,Y.shouldTouch,Y.shouldDirty,!0),Y.shouldValidate&&k(R)},q=(R,V,Y)=>{for(const fe in V){if(!V.hasOwnProperty(fe))return;const ae=V[fe],re=R+"."+fe,_e=oe(n,re);(o.array.has(R)||zt(ae)||_e&&!_e._f)&&!Ma(ae)?q(re,ae,Y):O(re,ae,Y)}},Q=(R,V,Y={})=>{const fe=oe(n,R),ae=o.array.has(R),re=Ht(V);at(s,R,re),ae?(h.array.next({name:R,values:Ht(s)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&Y.shouldDirty&&h.state.next({name:R,dirtyFields:Bo(i,s),isDirty:H(R,re)})):fe&&!fe._f&&!Kr(re)?q(R,re,Y):O(R,re,Y),a2(R,o)&&h.state.next({...r,name:R}),h.state.next({name:a.mount?R:void 0,values:Ht(s)})},X=async R=>{a.mount=!0;const V=R.target;let Y=V.name,fe=!0;const ae=oe(n,Y),re=mt=>{fe=Number.isNaN(mt)||Ma(mt)&&isNaN(mt.getTime())||ni(mt,oe(s,Y,mt))},_e=i2(e.mode),it=i2(e.reValidateMode);if(ae){let mt,yn;const Dd=V.type?n2(ae._f):rA(R),ys=R.type===Ph.BLUR||R.type===Ph.FOCUS_OUT,hT=!Wk(ae._f)&&!e.resolver&&!oe(r.errors,Y)&&!ae._f.deps||Xk(ys,oe(r.touchedFields,Y),r.isSubmitted,it,_e),t0=a2(Y,o,ys);at(s,Y,Dd),ys?(!V||!V.readOnly)&&(ae._f.onBlur&&ae._f.onBlur(R),l&&l(0)):ae._f.onChange&&ae._f.onChange(R);const r0=S(Y,Dd,ys),pT=!Mr(r0)||t0;if(!ys&&h.state.next({name:Y,type:R.type,values:Ht(s)}),hT)return(d.isValid||f.isValid)&&(e.mode==="onBlur"?ys&&m():ys||m()),pT&&h.state.next({name:Y,...t0?{}:r0});if(!ys&&t0&&h.state.next({...r}),e.resolver){const{errors:rx}=await E([Y]);if(re(Dd),fe){const mT=o2(r.errors,n,Y),nx=o2(rx,n,mT.name||Y);mt=nx.error,Y=nx.name,yn=Mr(rx)}}else x([Y],!0),mt=(await c2(ae,o.disabled,s,p,e.shouldUseNativeValidation))[Y],x([Y]),re(Dd),fe&&(mt?yn=!1:(d.isValid||f.isValid)&&(yn=await j(n,!0)));fe&&(ae._f.deps&&(!Array.isArray(ae._f.deps)||ae._f.deps.length>0)&&k(ae._f.deps),A(Y,yn,mt,r0))}},D=(R,V)=>{if(oe(r.errors,V)&&R.focus)return R.focus(),1},k=async(R,V={})=>{let Y,fe;const ae=hu(R);if(e.resolver){const re=await P(Rt(R)?R:ae);Y=Mr(re),fe=R?!ae.some(_e=>oe(re,_e)):Y}else R?(fe=(await Promise.all(ae.map(async re=>{const _e=oe(n,re);return await j(_e&&_e._f?{[re]:_e}:_e)}))).every(Boolean),!(!fe&&!r.isValid)&&m()):fe=Y=await j(n);return h.state.next({...!ln(R)||(d.isValid||f.isValid)&&Y!==r.isValid?{}:{name:R},...e.resolver||!R?{isValid:Y}:{},errors:r.errors}),V.shouldFocus&&!fe&&pu(n,D,R?ae:o.mount),fe},M=(R,V)=>{let Y={...a.mount?s:i};return V&&(Y=aA(V.dirtyFields?r.dirtyFields:r.touchedFields,Y)),Rt(R)?Y:ln(R)?oe(Y,R):R.map(fe=>oe(Y,fe))},$=(R,V)=>({invalid:!!oe((V||r).errors,R),isDirty:!!oe((V||r).dirtyFields,R),error:oe((V||r).errors,R),isValidating:!!oe(r.validatingFields,R),isTouched:!!oe((V||r).touchedFields,R)}),ee=R=>{R&&hu(R).forEach(V=>Mt(r.errors,V)),h.state.next({errors:R?r.errors:{}})},se=(R,V,Y)=>{const fe=(oe(n,R,{_f:{}})._f||{}).ref,ae=oe(r.errors,R)||{},{ref:re,message:_e,type:it,...mt}=ae;at(r.errors,R,{...mt,...V,ref:fe}),h.state.next({name:R,errors:r.errors,isValid:!1}),Y&&Y.shouldFocus&&fe&&fe.focus&&fe.focus()},he=(R,V)=>ii(R)?h.state.subscribe({next:Y=>"values"in Y&&R(L(void 0,V),Y)}):L(R,V,!0),Be=R=>h.state.subscribe({next:V=>{qk(R.name,V.name,R.exact)&&Gk(V,R.formState||d,tr,R.reRenderRoot)&&R.callback({values:{...s},...r,...V,defaultValues:i})}}).unsubscribe,Re=R=>(a.mount=!0,f={...f,...R.formState},Be({...R,formState:f})),ce=(R,V={})=>{for(const Y of R?hu(R):o.mount)o.mount.delete(Y),o.array.delete(Y),V.keepValue||(Mt(n,Y),Mt(s,Y)),!V.keepError&&Mt(r.errors,Y),!V.keepDirty&&Mt(r.dirtyFields,Y),!V.keepTouched&&Mt(r.touchedFields,Y),!V.keepIsValidating&&Mt(r.validatingFields,Y),!e.shouldUnregister&&!V.keepDefaultValue&&Mt(i,Y);h.state.next({values:Ht(s)}),h.state.next({...r,...V.keepDirty?{isDirty:H()}:{}}),!V.keepIsValid&&m()},B=({disabled:R,name:V})=>{(an(R)&&a.mount||R||o.disabled.has(V))&&(R?o.disabled.add(V):o.disabled.delete(V))},le=(R,V={})=>{let Y=oe(n,R);const fe=an(V.disabled)||an(e.disabled);return at(n,R,{...Y||{},_f:{...Y&&Y._f?Y._f:{ref:{name:R}},name:R,mount:!0,...V}}),o.mount.add(R),Y?B({disabled:an(V.disabled)?V.disabled:e.disabled,name:R}):w(R,!0,V.value),{...fe?{disabled:V.disabled||e.disabled}:{},...e.progressive?{required:!!V.required,min:kc(V.min),max:kc(V.max),minLength:kc(V.minLength),maxLength:kc(V.maxLength),pattern:kc(V.pattern)}:{},name:R,onChange:X,onBlur:X,ref:ae=>{if(ae){le(R,V),Y=oe(n,R);const re=Rt(ae.value)&&ae.querySelectorAll&&ae.querySelectorAll("input,select,textarea")[0]||ae,_e=Bk(re),it=Y._f.refs||[];if(_e?it.find(mt=>mt===re):re===Y._f.ref)return;at(n,R,{_f:{...Y._f,..._e?{refs:[...it.filter(M0),re,...Array.isArray(oe(i,R))?[{}]:[]],ref:{type:re.type,name:R}}:{ref:re}}}),w(R,!1,void 0,re)}else Y=oe(n,R,{}),Y._f&&(Y._f.mount=!1),(e.shouldUnregister||V.shouldUnregister)&&!(nA(o.array,R)&&a.action)&&o.unMount.add(R)}}},me=()=>e.shouldFocusError&&pu(n,D,o.mount),de=R=>{an(R)&&(h.state.next({disabled:R}),pu(n,(V,Y)=>{const fe=oe(n,Y);fe&&(V.disabled=fe._f.disabled||R,Array.isArray(fe._f.refs)&&fe._f.refs.forEach(ae=>{ae.disabled=fe._f.disabled||R}))},0,!1))},Ae=(R,V)=>async Y=>{let fe;Y&&(Y.preventDefault&&Y.preventDefault(),Y.persist&&Y.persist());let ae=Ht(s);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:re,values:_e}=await E();r.errors=re,ae=Ht(_e)}else await j(n);if(o.disabled.size)for(const re of o.disabled)Mt(ae,re);if(Mt(r.errors,"root"),Mr(r.errors)){h.state.next({errors:{}});try{await R(ae,Y)}catch(re){fe=re}}else V&&await V({...r.errors},Y),me(),setTimeout(me);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Mr(r.errors)&&!fe,submitCount:r.submitCount+1,errors:r.errors}),fe)throw fe},nt=(R,V={})=>{oe(n,R)&&(Rt(V.defaultValue)?Q(R,Ht(oe(i,R))):(Q(R,V.defaultValue),at(i,R,Ht(V.defaultValue))),V.keepTouched||Mt(r.touchedFields,R),V.keepDirty||(Mt(r.dirtyFields,R),r.isDirty=V.defaultValue?H(R,Ht(oe(i,R))):H()),V.keepError||(Mt(r.errors,R),d.isValid&&m()),h.state.next({...r}))},Ct=(R,V={})=>{const Y=R?Ht(R):i,fe=Ht(Y),ae=Mr(R),re=ae?i:fe;if(V.keepDefaultValues||(i=Y),!V.keepValues){if(V.keepDirtyValues){const _e=new Set([...o.mount,...Object.keys(Bo(i,s))]);for(const it of Array.from(_e))oe(r.dirtyFields,it)?at(re,it,oe(s,it)):Q(it,oe(re,it))}else{if(ry&&Rt(R))for(const _e of o.mount){const it=oe(n,_e);if(it&&it._f){const mt=Array.isArray(it._f.refs)?it._f.refs[0]:it._f.ref;if(Oh(mt)){const yn=mt.closest("form");if(yn){yn.reset();break}}}}if(V.keepFieldsRef)for(const _e of o.mount)Q(_e,oe(re,_e));else n={}}s=e.shouldUnregister?V.keepDefaultValues?Ht(i):{}:Ht(re),h.array.next({values:{...re}}),h.state.next({values:{...re}})}o={mount:V.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!d.isValid||!!V.keepIsValid||!!V.keepDirtyValues||!e.shouldUnregister&&!Mr(re),a.watch=!!e.shouldUnregister,h.state.next({submitCount:V.keepSubmitCount?r.submitCount:0,isDirty:ae?!1:V.keepDirty?r.isDirty:!!(V.keepDefaultValues&&!ni(R,i)),isSubmitted:V.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:ae?{}:V.keepDirtyValues?V.keepDefaultValues&&s?Bo(i,s):r.dirtyFields:V.keepDefaultValues&&R?Bo(i,R):V.keepDirty?r.dirtyFields:{},touchedFields:V.keepTouched?r.touchedFields:{},errors:V.keepErrors?r.errors:{},isSubmitSuccessful:V.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},Ir=(R,V)=>Ct(ii(R)?R(s):R,V),Fn=(R,V={})=>{const Y=oe(n,R),fe=Y&&Y._f;if(fe){const ae=fe.refs?fe.refs[0]:fe.ref;ae.focus&&(ae.focus(),V.shouldSelect&&ii(ae.select)&&ae.select())}},tr=R=>{r={...r,...R}},Hr={control:{register:le,unregister:ce,getFieldState:$,handleSubmit:Ae,setError:se,_subscribe:Be,_runSchema:E,_focusError:me,_getWatch:L,_getDirty:H,_setValid:m,_setFieldArray:y,_setDisabledField:B,_setErrors:_,_getFieldArray:N,_reset:Ct,_resetDefaultValues:()=>ii(e.defaultValues)&&e.defaultValues().then(R=>{Ir(R,e.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:F,_disableForm:de,_subjects:h,_proxyFormState:d,get _fields(){return n},get _formValues(){return s},get _state(){return a},set _state(R){a=R},get _defaultValues(){return i},get _names(){return o},set _names(R){o=R},get _formState(){return r},get _options(){return e},set _options(R){e={...e,...R}}},subscribe:Re,trigger:k,register:le,handleSubmit:Ae,watch:he,setValue:Q,getValues:M,reset:Ir,resetField:nt,clearErrors:ee,unregister:ce,setError:se,setFocus:Fn,getFieldState:$};return{...Hr,formControl:Hr}}function To(t={}){const e=Ne.useRef(void 0),r=Ne.useRef(void 0),[n,i]=Ne.useState({isDirty:!1,isValidating:!1,isLoading:ii(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:ii(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:n},t.defaultValues&&!ii(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:a,...o}=Qk(t);e.current={...o,formState:n}}const s=e.current.control;return s._options=t,ay(()=>{const a=s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0});return i(o=>({...o,isReady:!0})),s._formState.isReady=!0,a},[s]),Ne.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),Ne.useEffect(()=>{t.mode&&(s._options.mode=t.mode),t.reValidateMode&&(s._options.reValidateMode=t.reValidateMode)},[s,t.mode,t.reValidateMode]),Ne.useEffect(()=>{t.errors&&(s._setErrors(t.errors),s._focusError())},[s,t.errors]),Ne.useEffect(()=>{t.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,t.shouldUnregister]),Ne.useEffect(()=>{if(s._proxyFormState.isDirty){const a=s._getDirty();a!==n.isDirty&&s._subjects.state.next({isDirty:a})}},[s,n.isDirty]),Ne.useEffect(()=>{var a;t.values&&!ni(t.values,r.current)?(s._reset(t.values,{keepFieldsRef:!0,...s._options.resetOptions}),!((a=s._options.resetOptions)===null||a===void 0)&&a.keepIsValid||s._setValid(),r.current=t.values,i(o=>({...o}))):s._resetDefaultValues()},[s,t.values]),Ne.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),e.current.formState=iA(n,s),e.current}const u2=(t,e,r)=>{if(t&&"reportValidity"in t){const n=oe(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},fA=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?u2(n.ref,r,t):n.refs&&n.refs.forEach(i=>u2(i,r,t))}},Jk=(t,e)=>{e.shouldUseNativeValidation&&fA(t,e);const r={};for(const n in t){const i=oe(e.fields,n),s=Object.assign(t[n]||{},{ref:i&&i.ref});if(eD(e.names||Object.keys(t),n)){const a=Object.assign({},oe(r,n));at(a,"root",s),at(r,n,a)}else at(r,n,s)}return r},eD=(t,e)=>t.some(r=>r.startsWith(e+"."));var tD=function(t,e){for(var r={};t.length;){var n=t[0],i=n.code,s=n.message,a=n.path.join(".");if(!r[a])if("unionErrors"in n){var o=n.unionErrors[0].errors[0];r[a]={message:o.message,type:o.code}}else r[a]={message:s,type:i};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return t.push(f)})}),e){var l=r[a].types,c=l&&l[n.code];r[a]=sA(a,e,r,i,c?[].concat(c,n.message):n.message)}t.shift()}return r},Io=function(t,e,r){return r===void 0&&(r={}),function(n,i,s){try{return Promise.resolve(function(a,o){try{var l=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(c){return s.shouldUseNativeValidation&&fA({},s),{errors:{},values:r.raw?n:c}})}catch(c){return o(c)}return l&&l.then?l.then(void 0,o):l}(0,function(a){if(function(o){return Array.isArray(o==null?void 0:o.errors)}(a))return{values:{},errors:Jk(tD(a.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw a}))}catch(a){return Promise.reject(a)}}},Ye;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function r(i){throw new Error}t.assertNever=r,t.arrayToEnum=i=>{const s={};for(const a of i)s[a]=a;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(o=>typeof i[i[o]]!="number"),a={};for(const o of s)a[o]=i[o];return t.objectValues(a)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const a in i)Object.prototype.hasOwnProperty.call(i,a)&&s.push(a);return s},t.find=(i,s)=>{for(const a of i)if(s(a))return a},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function n(i,s=" | "){return i.map(a=>typeof a=="string"?`'${a}'`:a).join(s)}t.joinValues=n,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(Ye||(Ye={}));var d2;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(d2||(d2={}));const ge=Ye.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Is=t=>{switch(typeof t){case"undefined":return ge.undefined;case"string":return ge.string;case"number":return Number.isNaN(t)?ge.nan:ge.number;case"boolean":return ge.boolean;case"function":return ge.function;case"bigint":return ge.bigint;case"symbol":return ge.symbol;case"object":return Array.isArray(t)?ge.array:t===null?ge.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ge.promise:typeof Map<"u"&&t instanceof Map?ge.map:typeof Set<"u"&&t instanceof Set?ge.set:typeof Date<"u"&&t instanceof Date?ge.date:ge.object;default:return ge.unknown}},te=Ye.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class hs extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(s){return s.message},n={_errors:[]},i=s=>{for(const a of s.issues)if(a.code==="invalid_union")a.unionErrors.map(i);else if(a.code==="invalid_return_type")i(a.returnTypeError);else if(a.code==="invalid_arguments")i(a.argumentsError);else if(a.path.length===0)n._errors.push(r(a));else{let o=n,l=0;for(;l<a.path.length;){const c=a.path[l];l===a.path.length-1?(o[c]=o[c]||{_errors:[]},o[c]._errors.push(r(a))):o[c]=o[c]||{_errors:[]},o=o[c],l++}}};return i(this),n}static assert(e){if(!(e instanceof hs))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ye.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const i of this.issues)if(i.path.length>0){const s=i.path[0];r[s]=r[s]||[],r[s].push(e(i))}else n.push(e(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}hs.create=t=>new hs(t);const Mm=(t,e)=>{let r;switch(t.code){case te.invalid_type:t.received===ge.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case te.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,Ye.jsonStringifyReplacer)}`;break;case te.unrecognized_keys:r=`Unrecognized key(s) in object: ${Ye.joinValues(t.keys,", ")}`;break;case te.invalid_union:r="Invalid input";break;case te.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Ye.joinValues(t.options)}`;break;case te.invalid_enum_value:r=`Invalid enum value. Expected ${Ye.joinValues(t.options)}, received '${t.received}'`;break;case te.invalid_arguments:r="Invalid function arguments";break;case te.invalid_return_type:r="Invalid function return type";break;case te.invalid_date:r="Invalid date";break;case te.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:Ye.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case te.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case te.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case te.custom:r="Invalid input";break;case te.invalid_intersection_types:r="Intersection results could not be merged";break;case te.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case te.not_finite:r="Number must be finite";break;default:r=e.defaultError,Ye.assertNever(t)}return{message:r}};let rD=Mm;function nD(){return rD}const iD=t=>{const{data:e,path:r,errorMaps:n,issueData:i}=t,s=[...r,...i.path||[]],a={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let o="";const l=n.filter(c=>!!c).slice().reverse();for(const c of l)o=c(a,{data:e,defaultError:o}).message;return{...i,path:s,message:o}};function ue(t,e){const r=nD(),n=iD({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===Mm?void 0:Mm].filter(i=>!!i)});t.common.issues.push(n)}class mn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const i of r){if(i.status==="aborted")return Pe;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const i of r){const s=await i.key,a=await i.value;n.push({key:s,value:a})}return mn.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const i of r){const{key:s,value:a}=i;if(s.status==="aborted"||a.status==="aborted")return Pe;s.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof a.value<"u"||i.alwaysSet)&&(n[s.value]=a.value)}return{status:e.value,value:n}}}const Pe=Object.freeze({status:"aborted"}),Gc=t=>({status:"dirty",value:t}),jn=t=>({status:"valid",value:t}),f2=t=>t.status==="aborted",h2=t=>t.status==="dirty",tc=t=>t.status==="valid",kh=t=>typeof Promise<"u"&&t instanceof Promise;var ye;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ye||(ye={}));class ga{constructor(e,r,n,i){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const p2=(t,e)=>{if(tc(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new hs(t.common.issues);return this._error=r,this._error}}};function Le(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:i}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(a,o)=>{const{message:l}=t;return a.code==="invalid_enum_value"?{message:l??o.defaultError}:typeof o.data>"u"?{message:l??n??o.defaultError}:a.code!=="invalid_type"?{message:o.defaultError}:{message:l??r??o.defaultError}},description:i}}class qe{get description(){return this._def.description}_getType(e){return Is(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:Is(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new mn,ctx:{common:e.parent.common,data:e.data,parsedType:Is(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(kh(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Is(e)},i=this._parseSync({data:e,path:n.path,parent:n});return p2(n,i)}"~validate"(e){var n,i;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Is(e)};if(!this["~standard"].async)try{const s=this._parseSync({data:e,path:[],parent:r});return tc(s)?{value:s.value}:{issues:r.common.issues}}catch(s){(i=(n=s==null?void 0:s.message)==null?void 0:n.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(s=>tc(s)?{value:s.value}:{issues:r.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Is(e)},i=this._parse({data:e,path:n.path,parent:n}),s=await(kh(i)?i:Promise.resolve(i));return p2(n,s)}refine(e,r){const n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,s)=>{const a=e(i),o=()=>s.addIssue({code:te.custom,...n(i)});return typeof Promise<"u"&&a instanceof Promise?a.then(l=>l?!0:(o(),!1)):a?!0:(o(),!1)})}refinement(e,r){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(e){return new ic({schema:this,typeName:Oe.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return sa.create(this,this._def)}nullable(){return sc.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Bi.create(this)}promise(){return Mh.create(this,this._def)}or(e){return jh.create([this,e],this._def)}and(e){return Fh.create(this,e,this._def)}transform(e){return new ic({...Le(this._def),schema:this,typeName:Oe.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new Um({...Le(this._def),innerType:this,defaultValue:r,typeName:Oe.ZodDefault})}brand(){return new ND({typeName:Oe.ZodBranded,type:this,...Le(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new $m({...Le(this._def),innerType:this,catchValue:r,typeName:Oe.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return cy.create(this,e)}readonly(){return Vm.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const sD=/^c[^\s-]{8,}$/i,aD=/^[0-9a-z]+$/,oD=/^[0-9A-HJKMNP-TV-Z]{26}$/i,lD=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,cD=/^[a-z0-9_-]{21}$/i,uD=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,dD=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,fD=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,hD="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let L0;const pD=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,mD=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,gD=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,vD=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,yD=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,xD=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,hA="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",wD=new RegExp(`^${hA}$`);function pA(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function _D(t){return new RegExp(`^${pA(t)}$`)}function bD(t){let e=`${hA}T${pA(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function CD(t,e){return!!((e==="v4"||!e)&&pD.test(t)||(e==="v6"||!e)&&gD.test(t))}function SD(t,e){if(!uD.test(t))return!1;try{const[r]=t.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function ED(t,e){return!!((e==="v4"||!e)&&mD.test(t)||(e==="v6"||!e)&&vD.test(t))}class qs extends qe{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ge.string){const s=this._getOrReturnCtx(e);return ue(s,{code:te.invalid_type,expected:ge.string,received:s.parsedType}),Pe}const n=new mn;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),ue(i,{code:te.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),ue(i,{code:te.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){const a=e.data.length>s.value,o=e.data.length<s.value;(a||o)&&(i=this._getOrReturnCtx(e,i),a?ue(i,{code:te.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):o&&ue(i,{code:te.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")fD.test(e.data)||(i=this._getOrReturnCtx(e,i),ue(i,{validation:"email",code:te.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")L0||(L0=new RegExp(hD,"u")),L0.test(e.data)||(i=this._getOrReturnCtx(e,i),ue(i,{validation:"emoji",code:te.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")lD.test(e.data)||(i=this._getOrReturnCtx(e,i),ue(i,{validation:"uuid",code:te.invalid_string,message:s.message}),n.dirty());else if(s.kind==="nanoid")cD.test(e.data)||(i=this._getOrReturnCtx(e,i),ue(i,{validation:"nanoid",code:te.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")sD.test(e.data)||(i=this._getOrReturnCtx(e,i),ue(i,{validation:"cuid",code:te.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")aD.test(e.data)||(i=this._getOrReturnCtx(e,i),ue(i,{validation:"cuid2",code:te.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")oD.test(e.data)||(i=this._getOrReturnCtx(e,i),ue(i,{validation:"ulid",code:te.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),ue(i,{validation:"url",code:te.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),ue(i,{validation:"regex",code:te.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),ue(i,{code:te.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),ue(i,{code:te.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),ue(i,{code:te.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?bD(s).test(e.data)||(i=this._getOrReturnCtx(e,i),ue(i,{code:te.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="date"?wD.test(e.data)||(i=this._getOrReturnCtx(e,i),ue(i,{code:te.invalid_string,validation:"date",message:s.message}),n.dirty()):s.kind==="time"?_D(s).test(e.data)||(i=this._getOrReturnCtx(e,i),ue(i,{code:te.invalid_string,validation:"time",message:s.message}),n.dirty()):s.kind==="duration"?dD.test(e.data)||(i=this._getOrReturnCtx(e,i),ue(i,{validation:"duration",code:te.invalid_string,message:s.message}),n.dirty()):s.kind==="ip"?CD(e.data,s.version)||(i=this._getOrReturnCtx(e,i),ue(i,{validation:"ip",code:te.invalid_string,message:s.message}),n.dirty()):s.kind==="jwt"?SD(e.data,s.alg)||(i=this._getOrReturnCtx(e,i),ue(i,{validation:"jwt",code:te.invalid_string,message:s.message}),n.dirty()):s.kind==="cidr"?ED(e.data,s.version)||(i=this._getOrReturnCtx(e,i),ue(i,{validation:"cidr",code:te.invalid_string,message:s.message}),n.dirty()):s.kind==="base64"?yD.test(e.data)||(i=this._getOrReturnCtx(e,i),ue(i,{validation:"base64",code:te.invalid_string,message:s.message}),n.dirty()):s.kind==="base64url"?xD.test(e.data)||(i=this._getOrReturnCtx(e,i),ue(i,{validation:"base64url",code:te.invalid_string,message:s.message}),n.dirty()):Ye.assertNever(s);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(i=>e.test(i),{validation:r,code:te.invalid_string,...ye.errToObj(n)})}_addCheck(e){return new qs({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ye.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ye.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ye.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ye.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ye.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ye.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ye.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ye.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ye.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...ye.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...ye.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ye.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...ye.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...ye.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...ye.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...ye.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...ye.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...ye.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...ye.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...ye.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...ye.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...ye.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...ye.errToObj(r)})}nonempty(e){return this.min(1,ye.errToObj(e))}trim(){return new qs({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new qs({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new qs({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}qs.create=t=>new qs({checks:[],typeName:Oe.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...Le(t)});function AD(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=r>n?r:n,s=Number.parseInt(t.toFixed(i).replace(".","")),a=Number.parseInt(e.toFixed(i).replace(".",""));return s%a/10**i}class rc extends qe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ge.number){const s=this._getOrReturnCtx(e);return ue(s,{code:te.invalid_type,expected:ge.number,received:s.parsedType}),Pe}let n;const i=new mn;for(const s of this._def.checks)s.kind==="int"?Ye.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),ue(n,{code:te.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),ue(n,{code:te.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),ue(n,{code:te.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?AD(e.data,s.value)!==0&&(n=this._getOrReturnCtx(e,n),ue(n,{code:te.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),ue(n,{code:te.not_finite,message:s.message}),i.dirty()):Ye.assertNever(s);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,ye.toString(r))}gt(e,r){return this.setLimit("min",e,!1,ye.toString(r))}lte(e,r){return this.setLimit("max",e,!0,ye.toString(r))}lt(e,r){return this.setLimit("max",e,!1,ye.toString(r))}setLimit(e,r,n,i){return new rc({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:ye.toString(i)}]})}_addCheck(e){return new rc({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ye.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ye.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ye.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ye.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ye.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:ye.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:ye.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ye.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ye.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Ye.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}rc.create=t=>new rc({checks:[],typeName:Oe.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Le(t)});class Lu extends qe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==ge.bigint)return this._getInvalidInput(e);let n;const i=new mn;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),ue(n,{code:te.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),ue(n,{code:te.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),ue(n,{code:te.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):Ye.assertNever(s);return{status:i.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return ue(r,{code:te.invalid_type,expected:ge.bigint,received:r.parsedType}),Pe}gte(e,r){return this.setLimit("min",e,!0,ye.toString(r))}gt(e,r){return this.setLimit("min",e,!1,ye.toString(r))}lte(e,r){return this.setLimit("max",e,!0,ye.toString(r))}lt(e,r){return this.setLimit("max",e,!1,ye.toString(r))}setLimit(e,r,n,i){return new Lu({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:ye.toString(i)}]})}_addCheck(e){return new Lu({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ye.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ye.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ye.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ye.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:ye.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Lu.create=t=>new Lu({checks:[],typeName:Oe.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...Le(t)});class m2 extends qe{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ge.boolean){const n=this._getOrReturnCtx(e);return ue(n,{code:te.invalid_type,expected:ge.boolean,received:n.parsedType}),Pe}return jn(e.data)}}m2.create=t=>new m2({typeName:Oe.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Le(t)});class Dh extends qe{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ge.date){const s=this._getOrReturnCtx(e);return ue(s,{code:te.invalid_type,expected:ge.date,received:s.parsedType}),Pe}if(Number.isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return ue(s,{code:te.invalid_date}),Pe}const n=new mn;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),ue(i,{code:te.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),ue(i,{code:te.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):Ye.assertNever(s);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Dh({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:ye.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:ye.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}Dh.create=t=>new Dh({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Oe.ZodDate,...Le(t)});class g2 extends qe{_parse(e){if(this._getType(e)!==ge.symbol){const n=this._getOrReturnCtx(e);return ue(n,{code:te.invalid_type,expected:ge.symbol,received:n.parsedType}),Pe}return jn(e.data)}}g2.create=t=>new g2({typeName:Oe.ZodSymbol,...Le(t)});class v2 extends qe{_parse(e){if(this._getType(e)!==ge.undefined){const n=this._getOrReturnCtx(e);return ue(n,{code:te.invalid_type,expected:ge.undefined,received:n.parsedType}),Pe}return jn(e.data)}}v2.create=t=>new v2({typeName:Oe.ZodUndefined,...Le(t)});class y2 extends qe{_parse(e){if(this._getType(e)!==ge.null){const n=this._getOrReturnCtx(e);return ue(n,{code:te.invalid_type,expected:ge.null,received:n.parsedType}),Pe}return jn(e.data)}}y2.create=t=>new y2({typeName:Oe.ZodNull,...Le(t)});class x2 extends qe{constructor(){super(...arguments),this._any=!0}_parse(e){return jn(e.data)}}x2.create=t=>new x2({typeName:Oe.ZodAny,...Le(t)});class w2 extends qe{constructor(){super(...arguments),this._unknown=!0}_parse(e){return jn(e.data)}}w2.create=t=>new w2({typeName:Oe.ZodUnknown,...Le(t)});class va extends qe{_parse(e){const r=this._getOrReturnCtx(e);return ue(r,{code:te.invalid_type,expected:ge.never,received:r.parsedType}),Pe}}va.create=t=>new va({typeName:Oe.ZodNever,...Le(t)});class _2 extends qe{_parse(e){if(this._getType(e)!==ge.undefined){const n=this._getOrReturnCtx(e);return ue(n,{code:te.invalid_type,expected:ge.void,received:n.parsedType}),Pe}return jn(e.data)}}_2.create=t=>new _2({typeName:Oe.ZodVoid,...Le(t)});class Bi extends qe{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),i=this._def;if(r.parsedType!==ge.array)return ue(r,{code:te.invalid_type,expected:ge.array,received:r.parsedType}),Pe;if(i.exactLength!==null){const a=r.data.length>i.exactLength.value,o=r.data.length<i.exactLength.value;(a||o)&&(ue(r,{code:a?te.too_big:te.too_small,minimum:o?i.exactLength.value:void 0,maximum:a?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(ue(r,{code:te.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(ue(r,{code:te.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((a,o)=>i.type._parseAsync(new ga(r,a,r.path,o)))).then(a=>mn.mergeArray(n,a));const s=[...r.data].map((a,o)=>i.type._parseSync(new ga(r,a,r.path,o)));return mn.mergeArray(n,s)}get element(){return this._def.type}min(e,r){return new Bi({...this._def,minLength:{value:e,message:ye.toString(r)}})}max(e,r){return new Bi({...this._def,maxLength:{value:e,message:ye.toString(r)}})}length(e,r){return new Bi({...this._def,exactLength:{value:e,message:ye.toString(r)}})}nonempty(e){return this.min(1,e)}}Bi.create=(t,e)=>new Bi({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Oe.ZodArray,...Le(e)});function Uo(t){if(t instanceof Lt){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=sa.create(Uo(n))}return new Lt({...t._def,shape:()=>e})}else return t instanceof Bi?new Bi({...t._def,type:Uo(t.element)}):t instanceof sa?sa.create(Uo(t.unwrap())):t instanceof sc?sc.create(Uo(t.unwrap())):t instanceof xo?xo.create(t.items.map(e=>Uo(e))):t}class Lt extends qe{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=Ye.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==ge.object){const c=this._getOrReturnCtx(e);return ue(c,{code:te.invalid_type,expected:ge.object,received:c.parsedType}),Pe}const{status:n,ctx:i}=this._processInputParams(e),{shape:s,keys:a}=this._getCached(),o=[];if(!(this._def.catchall instanceof va&&this._def.unknownKeys==="strip"))for(const c in i.data)a.includes(c)||o.push(c);const l=[];for(const c of a){const d=s[c],f=i.data[c];l.push({key:{status:"valid",value:c},value:d._parse(new ga(i,f,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof va){const c=this._def.unknownKeys;if(c==="passthrough")for(const d of o)l.push({key:{status:"valid",value:d},value:{status:"valid",value:i.data[d]}});else if(c==="strict")o.length>0&&(ue(i,{code:te.unrecognized_keys,keys:o}),n.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const d of o){const f=i.data[d];l.push({key:{status:"valid",value:d},value:c._parse(new ga(i,f,i.path,d)),alwaysSet:d in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const c=[];for(const d of l){const f=await d.key,h=await d.value;c.push({key:f,value:h,alwaysSet:d.alwaysSet})}return c}).then(c=>mn.mergeObjectSync(n,c)):mn.mergeObjectSync(n,l)}get shape(){return this._def.shape()}strict(e){return ye.errToObj,new Lt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var s,a;const i=((a=(s=this._def).errorMap)==null?void 0:a.call(s,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:ye.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new Lt({...this._def,unknownKeys:"strip"})}passthrough(){return new Lt({...this._def,unknownKeys:"passthrough"})}extend(e){return new Lt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Lt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Oe.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new Lt({...this._def,catchall:e})}pick(e){const r={};for(const n of Ye.objectKeys(e))e[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Lt({...this._def,shape:()=>r})}omit(e){const r={};for(const n of Ye.objectKeys(this.shape))e[n]||(r[n]=this.shape[n]);return new Lt({...this._def,shape:()=>r})}deepPartial(){return Uo(this)}partial(e){const r={};for(const n of Ye.objectKeys(this.shape)){const i=this.shape[n];e&&!e[n]?r[n]=i:r[n]=i.optional()}return new Lt({...this._def,shape:()=>r})}required(e){const r={};for(const n of Ye.objectKeys(this.shape))if(e&&!e[n])r[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof sa;)s=s._def.innerType;r[n]=s}return new Lt({...this._def,shape:()=>r})}keyof(){return mA(Ye.objectKeys(this.shape))}}Lt.create=(t,e)=>new Lt({shape:()=>t,unknownKeys:"strip",catchall:va.create(),typeName:Oe.ZodObject,...Le(e)});Lt.strictCreate=(t,e)=>new Lt({shape:()=>t,unknownKeys:"strict",catchall:va.create(),typeName:Oe.ZodObject,...Le(e)});Lt.lazycreate=(t,e)=>new Lt({shape:t,unknownKeys:"strip",catchall:va.create(),typeName:Oe.ZodObject,...Le(e)});class jh extends qe{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function i(s){for(const o of s)if(o.result.status==="valid")return o.result;for(const o of s)if(o.result.status==="dirty")return r.common.issues.push(...o.ctx.common.issues),o.result;const a=s.map(o=>new hs(o.ctx.common.issues));return ue(r,{code:te.invalid_union,unionErrors:a}),Pe}if(r.common.async)return Promise.all(n.map(async s=>{const a={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:a}),ctx:a}})).then(i);{let s;const a=[];for(const l of n){const c={...r,common:{...r.common,issues:[]},parent:null},d=l._parseSync({data:r.data,path:r.path,parent:c});if(d.status==="valid")return d;d.status==="dirty"&&!s&&(s={result:d,ctx:c}),c.common.issues.length&&a.push(c.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;const o=a.map(l=>new hs(l));return ue(r,{code:te.invalid_union,unionErrors:o}),Pe}}get options(){return this._def.options}}jh.create=(t,e)=>new jh({options:t,typeName:Oe.ZodUnion,...Le(e)});function Lm(t,e){const r=Is(t),n=Is(e);if(t===e)return{valid:!0,data:t};if(r===ge.object&&n===ge.object){const i=Ye.objectKeys(e),s=Ye.objectKeys(t).filter(o=>i.indexOf(o)!==-1),a={...t,...e};for(const o of s){const l=Lm(t[o],e[o]);if(!l.valid)return{valid:!1};a[o]=l.data}return{valid:!0,data:a}}else if(r===ge.array&&n===ge.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const a=t[s],o=e[s],l=Lm(a,o);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return r===ge.date&&n===ge.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Fh extends qe{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=(s,a)=>{if(f2(s)||f2(a))return Pe;const o=Lm(s.value,a.value);return o.valid?((h2(s)||h2(a))&&r.dirty(),{status:r.value,value:o.data}):(ue(n,{code:te.invalid_intersection_types}),Pe)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,a])=>i(s,a)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Fh.create=(t,e,r)=>new Fh({left:t,right:e,typeName:Oe.ZodIntersection,...Le(r)});class xo extends qe{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==ge.array)return ue(n,{code:te.invalid_type,expected:ge.array,received:n.parsedType}),Pe;if(n.data.length<this._def.items.length)return ue(n,{code:te.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Pe;!this._def.rest&&n.data.length>this._def.items.length&&(ue(n,{code:te.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const s=[...n.data].map((a,o)=>{const l=this._def.items[o]||this._def.rest;return l?l._parse(new ga(n,a,n.path,o)):null}).filter(a=>!!a);return n.common.async?Promise.all(s).then(a=>mn.mergeArray(r,a)):mn.mergeArray(r,s)}get items(){return this._def.items}rest(e){return new xo({...this._def,rest:e})}}xo.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new xo({items:t,typeName:Oe.ZodTuple,rest:null,...Le(e)})};class b2 extends qe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==ge.map)return ue(n,{code:te.invalid_type,expected:ge.map,received:n.parsedType}),Pe;const i=this._def.keyType,s=this._def.valueType,a=[...n.data.entries()].map(([o,l],c)=>({key:i._parse(new ga(n,o,n.path,[c,"key"])),value:s._parse(new ga(n,l,n.path,[c,"value"]))}));if(n.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const l of a){const c=await l.key,d=await l.value;if(c.status==="aborted"||d.status==="aborted")return Pe;(c.status==="dirty"||d.status==="dirty")&&r.dirty(),o.set(c.value,d.value)}return{status:r.value,value:o}})}else{const o=new Map;for(const l of a){const c=l.key,d=l.value;if(c.status==="aborted"||d.status==="aborted")return Pe;(c.status==="dirty"||d.status==="dirty")&&r.dirty(),o.set(c.value,d.value)}return{status:r.value,value:o}}}}b2.create=(t,e,r)=>new b2({valueType:e,keyType:t,typeName:Oe.ZodMap,...Le(r)});class Bu extends qe{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==ge.set)return ue(n,{code:te.invalid_type,expected:ge.set,received:n.parsedType}),Pe;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(ue(n,{code:te.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(ue(n,{code:te.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const s=this._def.valueType;function a(l){const c=new Set;for(const d of l){if(d.status==="aborted")return Pe;d.status==="dirty"&&r.dirty(),c.add(d.value)}return{status:r.value,value:c}}const o=[...n.data.values()].map((l,c)=>s._parse(new ga(n,l,n.path,c)));return n.common.async?Promise.all(o).then(l=>a(l)):a(o)}min(e,r){return new Bu({...this._def,minSize:{value:e,message:ye.toString(r)}})}max(e,r){return new Bu({...this._def,maxSize:{value:e,message:ye.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}Bu.create=(t,e)=>new Bu({valueType:t,minSize:null,maxSize:null,typeName:Oe.ZodSet,...Le(e)});class C2 extends qe{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}C2.create=(t,e)=>new C2({getter:t,typeName:Oe.ZodLazy,...Le(e)});class Bm extends qe{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return ue(r,{received:r.data,code:te.invalid_literal,expected:this._def.value}),Pe}return{status:"valid",value:e.data}}get value(){return this._def.value}}Bm.create=(t,e)=>new Bm({value:t,typeName:Oe.ZodLiteral,...Le(e)});function mA(t,e){return new nc({values:t,typeName:Oe.ZodEnum,...Le(e)})}class nc extends qe{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return ue(r,{expected:Ye.joinValues(n),received:r.parsedType,code:te.invalid_type}),Pe}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return ue(r,{received:r.data,code:te.invalid_enum_value,options:n}),Pe}return jn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return nc.create(e,{...this._def,...r})}exclude(e,r=this._def){return nc.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}nc.create=mA;class S2 extends qe{_parse(e){const r=Ye.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==ge.string&&n.parsedType!==ge.number){const i=Ye.objectValues(r);return ue(n,{expected:Ye.joinValues(i),received:n.parsedType,code:te.invalid_type}),Pe}if(this._cache||(this._cache=new Set(Ye.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=Ye.objectValues(r);return ue(n,{received:n.data,code:te.invalid_enum_value,options:i}),Pe}return jn(e.data)}get enum(){return this._def.values}}S2.create=(t,e)=>new S2({values:t,typeName:Oe.ZodNativeEnum,...Le(e)});class Mh extends qe{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==ge.promise&&r.common.async===!1)return ue(r,{code:te.invalid_type,expected:ge.promise,received:r.parsedType}),Pe;const n=r.parsedType===ge.promise?r.data:Promise.resolve(r.data);return jn(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Mh.create=(t,e)=>new Mh({type:t,typeName:Oe.ZodPromise,...Le(e)});class ic extends qe{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Oe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:a=>{ue(n,a),a.fatal?r.abort():r.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const a=i.transform(n.data,s);if(n.common.async)return Promise.resolve(a).then(async o=>{if(r.value==="aborted")return Pe;const l=await this._def.schema._parseAsync({data:o,path:n.path,parent:n});return l.status==="aborted"?Pe:l.status==="dirty"||r.value==="dirty"?Gc(l.value):l});{if(r.value==="aborted")return Pe;const o=this._def.schema._parseSync({data:a,path:n.path,parent:n});return o.status==="aborted"?Pe:o.status==="dirty"||r.value==="dirty"?Gc(o.value):o}}if(i.type==="refinement"){const a=o=>{const l=i.refinement(o,s);if(n.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?Pe:(o.status==="dirty"&&r.dirty(),a(o.value),{status:r.value,value:o.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>o.status==="aborted"?Pe:(o.status==="dirty"&&r.dirty(),a(o.value).then(()=>({status:r.value,value:o.value}))))}if(i.type==="transform")if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!tc(a))return Pe;const o=i.transform(a.value,s);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:o}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>tc(a)?Promise.resolve(i.transform(a.value,s)).then(o=>({status:r.value,value:o})):Pe);Ye.assertNever(i)}}ic.create=(t,e,r)=>new ic({schema:t,typeName:Oe.ZodEffects,effect:e,...Le(r)});ic.createWithPreprocess=(t,e,r)=>new ic({schema:e,effect:{type:"preprocess",transform:t},typeName:Oe.ZodEffects,...Le(r)});class sa extends qe{_parse(e){return this._getType(e)===ge.undefined?jn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}sa.create=(t,e)=>new sa({innerType:t,typeName:Oe.ZodOptional,...Le(e)});class sc extends qe{_parse(e){return this._getType(e)===ge.null?jn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}sc.create=(t,e)=>new sc({innerType:t,typeName:Oe.ZodNullable,...Le(e)});class Um extends qe{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===ge.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Um.create=(t,e)=>new Um({innerType:t,typeName:Oe.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Le(e)});class $m extends qe{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return kh(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new hs(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new hs(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}$m.create=(t,e)=>new $m({innerType:t,typeName:Oe.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Le(e)});class E2 extends qe{_parse(e){if(this._getType(e)!==ge.nan){const n=this._getOrReturnCtx(e);return ue(n,{code:te.invalid_type,expected:ge.nan,received:n.parsedType}),Pe}return{status:"valid",value:e.data}}}E2.create=t=>new E2({typeName:Oe.ZodNaN,...Le(t)});class ND extends qe{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class cy extends qe{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Pe:s.status==="dirty"?(r.dirty(),Gc(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Pe:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,r){return new cy({in:e,out:r,typeName:Oe.ZodPipeline})}}class Vm extends qe{_parse(e){const r=this._def.innerType._parse(e),n=i=>(tc(i)&&(i.value=Object.freeze(i.value)),i);return kh(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}}Vm.create=(t,e)=>new Vm({innerType:t,typeName:Oe.ZodReadonly,...Le(e)});var Oe;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Oe||(Oe={}));const Nt=qs.create,Uu=rc.create;va.create;const gA=Bi.create,Po=Lt.create;jh.create;Fh.create;xo.create;const TD=Bm.create;nc.create;Mh.create;sa.create;sc.create;const Te=b.forwardRef(({className:t,...e},r)=>u.jsx("div",{ref:r,className:Ee("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Te.displayName="Card";const Cr=b.forwardRef(({className:t,...e},r)=>u.jsx("div",{ref:r,className:Ee("flex flex-col space-y-1.5 p-6",t),...e}));Cr.displayName="CardHeader";const Xr=b.forwardRef(({className:t,...e},r)=>u.jsx("div",{ref:r,className:Ee("text-2xl font-semibold leading-none tracking-tight",t),...e}));Xr.displayName="CardTitle";const ID=b.forwardRef(({className:t,...e},r)=>u.jsx("div",{ref:r,className:Ee("text-sm text-muted-foreground",t),...e}));ID.displayName="CardDescription";const ke=b.forwardRef(({className:t,...e},r)=>u.jsx("div",{ref:r,className:Ee("p-6 pt-0",t),...e}));ke.displayName="CardContent";const PD=b.forwardRef(({className:t,...e},r)=>u.jsx("div",{ref:r,className:Ee("flex items-center p-6 pt-0",t),...e}));PD.displayName="CardFooter";var OD=Symbol.for("react.lazy"),Lh=cp[" use ".trim().toString()];function RD(t){return typeof t=="object"&&t!==null&&"then"in t}function vA(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===OD&&"_payload"in t&&RD(t._payload)}function uy(t){const e=kD(t),r=b.forwardRef((n,i)=>{let{children:s,...a}=n;vA(s)&&typeof Lh=="function"&&(s=Lh(s._payload));const o=b.Children.toArray(s),l=o.find(jD);if(l){const c=l.props.children,d=o.map(f=>f===l?b.Children.count(c)>1?b.Children.only(null):b.isValidElement(c)?c.props.children:null:f);return u.jsx(e,{...a,ref:i,children:b.isValidElement(c)?b.cloneElement(c,void 0,d):null})}return u.jsx(e,{...a,ref:i,children:s})});return r.displayName=`${t}.Slot`,r}var yA=uy("Slot");function kD(t){const e=b.forwardRef((r,n)=>{let{children:i,...s}=r;if(vA(i)&&typeof Lh=="function"&&(i=Lh(i._payload)),b.isValidElement(i)){const a=MD(i),o=FD(s,i.props);return i.type!==b.Fragment&&(o.ref=n?pc(n,a):a),b.cloneElement(i,o)}return b.Children.count(i)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var DD=Symbol("radix.slottable");function jD(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===DD}function FD(t,e){const r={...e};for(const n in e){const i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...o)=>{const l=s(...o);return i(...o),l}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function MD(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}const dy=Ad("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ie=b.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...i},s)=>{const a=n?yA:"button";return u.jsx(a,{className:Ee(dy({variant:e,size:r,className:t})),ref:s,...i})});ie.displayName="Button";const Ue=b.forwardRef(({className:t,type:e,...r},n)=>u.jsx("input",{type:e,className:Ee("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));Ue.displayName="Input";var LD=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],BD=LD.reduce((t,e)=>{const r=uy(`Primitive.${e}`),n=b.forwardRef((i,s)=>{const{asChild:a,...o}=i,l=a?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(l,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),UD="Label",xA=b.forwardRef((t,e)=>u.jsx(BD.label,{...t,ref:e,onMouseDown:r=>{var i;r.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));xA.displayName=UD;var wA=xA;const $D=Ad("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),li=b.forwardRef(({className:t,...e},r)=>u.jsx(wA,{ref:r,className:Ee($D(),t),...e}));li.displayName=wA.displayName;const xc=Dk,_A=b.createContext({}),lt=({...t})=>u.jsx(_A.Provider,{value:{name:t.name},children:u.jsx(Lk,{...t})}),Lp=()=>{const t=b.useContext(_A),e=b.useContext(bA),{getFieldState:r,formState:n}=Mp(),i=r(t.name,n);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:s}=e;return{id:s,name:t.name,formItemId:`${s}-form-item`,formDescriptionId:`${s}-form-item-description`,formMessageId:`${s}-form-item-message`,...i}},bA=b.createContext({}),et=b.forwardRef(({className:t,...e},r)=>{const n=b.useId();return u.jsx(bA.Provider,{value:{id:n},children:u.jsx("div",{ref:r,className:Ee("space-y-2",t),...e})})});et.displayName="FormItem";const ft=b.forwardRef(({className:t,...e},r)=>{const{error:n,formItemId:i}=Lp();return u.jsx(li,{ref:r,className:Ee(n&&"text-destructive",t),htmlFor:i,...e})});ft.displayName="FormLabel";const ht=b.forwardRef(({...t},e)=>{const{error:r,formItemId:n,formDescriptionId:i,formMessageId:s}=Lp();return u.jsx(yA,{ref:e,id:n,"aria-describedby":r?`${i} ${s}`:`${i}`,"aria-invalid":!!r,...t})});ht.displayName="FormControl";const VD=b.forwardRef(({className:t,...e},r)=>{const{formDescriptionId:n}=Lp();return u.jsx("p",{ref:r,id:n,className:Ee("text-sm text-muted-foreground",t),...e})});VD.displayName="FormDescription";const pt=b.forwardRef(({className:t,children:e,...r},n)=>{const{error:i,formMessageId:s}=Lp(),a=i?String((i==null?void 0:i.message)??""):e;return a?u.jsx("p",{ref:n,id:s,className:Ee("text-sm font-medium text-destructive",t),...r,children:a}):null});pt.displayName="FormMessage";const CA="data:image/png;base64,",zD=Po({username:Nt().min(1,"Username is required"),password:Nt().min(1,"Password is required")});function A2(){const{toast:t}=Dn(),[e,r]=b.useState(!1),n=To({resolver:Io(zD),defaultValues:{username:"",password:""}}),i=async s=>{r(!0);try{const a=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s),credentials:"include"});if(a.ok)window.location.href="/";else{const o=await a.json();t({title:"Login Failed",description:o.message||"Invalid username or password",variant:"destructive"})}}catch{t({title:"Login Failed",description:"Unable to connect to server. Please try again.",variant:"destructive"})}finally{r(!1)}};return u.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",style:{backgroundColor:"#1800ad"},children:u.jsx("div",{className:"w-full max-w-md",children:u.jsxs(Te,{className:"bg-white/10 backdrop-blur-sm border-white/20 shadow-2xl",children:[u.jsxs(Cr,{className:"text-center",children:[u.jsx("div",{className:"mx-auto mb-4 w-32 h-32 flex items-center justify-center",children:u.jsx("img",{src:CA,alt:"Volume Fashion Logo",className:"w-full h-full object-contain"})}),u.jsx(Xr,{className:"text-2xl font-bold text-white",children:"Volume Fashion Collection"}),u.jsx("p",{className:"text-white/90",children:"Fashion Inventory & Invoicing System"})]}),u.jsxs(ke,{children:[u.jsx(xc,{...n,children:u.jsxs("form",{onSubmit:n.handleSubmit(i),className:"space-y-4",children:[u.jsx(lt,{control:n.control,name:"username",render:({field:s})=>u.jsxs(et,{children:[u.jsx(ft,{className:"text-white",children:"Username"}),u.jsx(ht,{children:u.jsx(Ue,{...s,placeholder:"Enter your username",disabled:e,"data-testid":"input-username",className:"bg-white/90 border-white/30 text-gray-900 placeholder:text-gray-500 focus:border-yellow-400 focus:ring-yellow-400"})}),u.jsx(pt,{className:"text-yellow-300"})]})}),u.jsx(lt,{control:n.control,name:"password",render:({field:s})=>u.jsxs(et,{children:[u.jsx(ft,{className:"text-white",children:"Password"}),u.jsx(ht,{children:u.jsx(Ue,{...s,type:"password",placeholder:"Enter your password",disabled:e,"data-testid":"input-password",className:"bg-white/90 border-white/30 text-gray-900 placeholder:text-gray-500 focus:border-yellow-400 focus:ring-yellow-400"})}),u.jsx(pt,{className:"text-yellow-300"})]})}),u.jsx(ie,{type:"submit",className:"w-full bg-yellow-400 hover:bg-yellow-500 text-gray-900 font-semibold shadow-lg",disabled:e,"data-testid":"button-login",children:e?u.jsxs(u.Fragment,{children:[u.jsx("i",{className:"fas fa-spinner fa-spin mr-2"}),"Signing In..."]}):u.jsxs(u.Fragment,{children:[u.jsx("i",{className:"fas fa-sign-in-alt mr-2"}),"Sign In"]})}),u.jsx("div",{className:"text-center mt-4",children:u.jsx("button",{type:"button",onClick:()=>window.location.href="/forgot-password",className:"text-sm text-yellow-300 hover:text-yellow-200 transition-colors","data-testid":"link-forgot-password",children:"Forgot your password?"})})]})}),u.jsx("div",{className:"mt-6 p-4 bg-white/20 backdrop-blur-sm border border-white/30 rounded-lg",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("i",{className:"fas fa-info-circle text-yellow-300 mt-0.5"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-semibold text-white mb-2",children:"Default Admin Credentials"}),u.jsxs("div",{className:"text-sm text-white/90 space-y-1",children:[u.jsxs("p",{children:[u.jsx("span",{className:"text-white/70",children:"Username:"})," ",u.jsx("span",{className:"font-mono text-yellow-300",children:"abd.rabo.940@gmail.com"})]}),u.jsxs("p",{children:[u.jsx("span",{className:"text-white/70",children:"Password:"})," ",u.jsx("span",{className:"font-mono text-yellow-300",children:"New@2025"})]})]})]})]})}),u.jsxs("div",{className:"mt-6 p-4 bg-white/20 backdrop-blur-sm border border-white/30 rounded-lg text-left",children:[u.jsx("p",{className:"text-sm font-medium text-white mb-2",children:"Volume Fashion Collection"}),u.jsxs("div",{className:"text-xs text-white/90 space-y-1",children:[u.jsx("p",{children:"Address: 4006-4008Room, 5Floor,changjiang Internation Garment Building ,No.931,Renmingbei Road , Yuexiu District,Guangzhou.China"}),u.jsxs("p",{children:["Phone: ",u.jsx("a",{href:"tel:+8613288689165",className:"text-yellow-300 hover:text-yellow-200",children:"+86 132 8868 9165"})]}),u.jsxs("p",{children:["WhatsApp:",u.jsx("a",{href:"https://wa.link/mb5xbk",target:"_blank",rel:"noopener noreferrer",className:"text-yellow-300 hover:text-yellow-200 ml-1",children:"+962796100166"}),".",u.jsx("a",{href:"https://wa.link/g3bblj",target:"_blank",rel:"noopener noreferrer",className:"text-yellow-300 hover:text-yellow-200",children:"+8613660002778"})]}),u.jsx("p",{children:u.jsxs("a",{href:"https://instagram.com/volume_fashion1",target:"_blank",style:{textDecoration:"none"},className:"inline-flex items-center text-white/90 hover:text-white",children:[u.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/a/a5/Instagram_icon.png",alt:"Instagram",width:"20",height:"20",style:{verticalAlign:"middle",marginRight:"5px"},className:"inline-block"}),u.jsx("span",{children:"@volume_fashion1"})]})})]})]})]})]})})})}const HD=Po({email:Nt().email("Please enter a valid email address")});function WD(){const{toast:t}=Dn(),[e,r]=b.useState(!1),n=To({resolver:Io(HD),defaultValues:{email:""}}),i=async s=>{r(!0);try{const a=await fetch("/api/auth/password/forgot",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s),credentials:"include"});if(a.ok)t({title:"Reset Link Sent",description:"If an account with that email exists, you will receive a password reset link.",variant:"default"}),n.reset();else{const o=await a.json();t({title:"Request Failed",description:o.message||"Failed to process request",variant:"destructive"})}}catch{t({title:"Request Failed",description:"Unable to connect to server. Please try again.",variant:"destructive"})}finally{r(!1)}};return u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-900 p-4",children:u.jsx("div",{className:"w-full max-w-md",children:u.jsxs(Te,{className:"bg-gray-800 border-gray-700",children:[u.jsxs(Cr,{className:"text-center",children:[u.jsx("div",{className:"mx-auto mb-4 w-20 h-20 flex items-center justify-center",children:u.jsx("img",{src:"/attached_assets/image_1757421254360.png",alt:"Volume Fashion Logo",className:"w-16 h-16 rounded-full object-cover"})}),u.jsx(Xr,{className:"text-2xl font-bold text-white",children:"Forgot Password"}),u.jsx("p",{className:"text-gray-300",children:"Enter your email to receive a password reset link"})]}),u.jsxs(ke,{children:[u.jsx(xc,{...n,children:u.jsxs("form",{onSubmit:n.handleSubmit(i),className:"space-y-4",children:[u.jsx(lt,{control:n.control,name:"email",render:({field:s})=>u.jsxs(et,{children:[u.jsx(ft,{className:"text-gray-200",children:"Email Address"}),u.jsx(ht,{children:u.jsx(Ue,{...s,type:"email",placeholder:"Enter your email address",disabled:e,"data-testid":"input-email",className:"bg-gray-700 border-gray-600 text-white placeholder:text-gray-400 focus:border-blue-500"})}),u.jsx(pt,{})]})}),u.jsx(ie,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white",disabled:e,"data-testid":"button-send-reset",children:e?u.jsxs(u.Fragment,{children:[u.jsx("i",{className:"fas fa-spinner fa-spin mr-2"}),"Sending..."]}):u.jsxs(u.Fragment,{children:[u.jsx("i",{className:"fas fa-paper-plane mr-2"}),"Send Reset Link"]})}),u.jsx("div",{className:"text-center mt-4",children:u.jsx("button",{type:"button",onClick:()=>window.location.href="/login",className:"text-sm text-blue-400 hover:text-blue-300 transition-colors","data-testid":"link-back-to-login",children:" Back to Login"})})]})}),u.jsxs("div",{className:"mt-6 p-4 bg-gray-700 rounded-lg text-left",children:[u.jsx("p",{className:"text-sm font-medium text-gray-200 mb-2",children:"Volume Fashion Collection"}),u.jsxs("div",{className:"text-xs text-gray-300 space-y-1",children:[u.jsx("p",{children:"Address: 4006-4008Room, 5Floor,changjiang Internation Garment Building ,No.931,Renmingbei Road , Yuexiu District,Guangzhou.China"}),u.jsxs("p",{children:["Phone: ",u.jsx("a",{href:"tel:+8613288689165",className:"text-blue-400 hover:text-blue-300",children:"+86 132 8868 9165"})]}),u.jsxs("p",{children:["WhatsApp:",u.jsx("a",{href:"https://wa.link/mb5xbk",target:"_blank",rel:"noopener noreferrer",className:"text-green-400 hover:text-green-300 ml-1",children:"+962796100166"}),".",u.jsx("a",{href:"https://wa.link/g3bblj",target:"_blank",rel:"noopener noreferrer",className:"text-green-400 hover:text-green-300",children:"+8613660002778"})]}),u.jsx("p",{children:u.jsxs("a",{href:"https://instagram.com/volume_fashion1",target:"_blank",style:{textDecoration:"none",color:"inherit"},className:"inline-flex items-center",children:[u.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/a/a5/Instagram_icon.png",alt:"Instagram",width:"20",height:"20",style:{verticalAlign:"middle",marginRight:"5px"},className:"inline-block"}),u.jsx("span",{children:"@volume_fashion1"})]})})]})]})]})]})})})}const GD=Po({newPassword:Nt().min(6,"Password must be at least 6 characters long"),confirmPassword:Nt().min(6,"Password must be at least 6 characters long")}).refine(t=>t.newPassword===t.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function qD(){const{toast:t}=Dn(),[e,r]=b.useState(!1),[n,i]=b.useState(!0),[s,a]=b.useState(!1),[o,l]=b.useState(""),c=To({resolver:Io(GD),defaultValues:{newPassword:"",confirmPassword:""}});b.useEffect(()=>{const h=new URLSearchParams(window.location.search).get("token");if(!h){t({title:"Invalid Link",description:"This password reset link is invalid or missing a token.",variant:"destructive"}),i(!1);return}l(h),(async()=>{try{const g=await fetch("/api/auth/password/validate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:h}),credentials:"include"});if(g.ok){const m=await g.json();a(m.valid),m.valid||t({title:"Invalid Token",description:"This password reset link is invalid or has expired.",variant:"destructive"})}else t({title:"Validation Failed",description:"Unable to validate the reset token.",variant:"destructive"})}catch{t({title:"Connection Error",description:"Unable to connect to server. Please try again.",variant:"destructive"})}finally{i(!1)}})()},[t]);const d=async f=>{r(!0);try{const h=await fetch("/api/auth/password/reset",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:o,newPassword:f.newPassword}),credentials:"include"});if(h.ok)t({title:"Password Reset Successful",description:"Your password has been reset successfully. You can now login with your new password.",variant:"default"}),setTimeout(()=>{window.location.href="/login"},2e3);else{const p=await h.json();t({title:"Reset Failed",description:p.message||"Failed to reset password",variant:"destructive"})}}catch{t({title:"Reset Failed",description:"Unable to connect to server. Please try again.",variant:"destructive"})}finally{r(!1)}};return n?u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-900 p-4",children:u.jsx("div",{className:"w-full max-w-md",children:u.jsx(Te,{className:"bg-gray-800 border-gray-700",children:u.jsx(ke,{className:"pt-6",children:u.jsxs("div",{className:"text-center",children:[u.jsx("i",{className:"fas fa-spinner fa-spin text-blue-400 text-2xl mb-4"}),u.jsx("p",{className:"text-white",children:"Validating reset token..."})]})})})})}):s?u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-900 p-4",children:u.jsx("div",{className:"w-full max-w-md",children:u.jsxs(Te,{className:"bg-gray-800 border-gray-700",children:[u.jsxs(Cr,{className:"text-center",children:[u.jsx("div",{className:"mx-auto mb-4 w-20 h-20 flex items-center justify-center",children:u.jsx("img",{src:"/attached_assets/image_1757421254360.png",alt:"Volume Fashion Logo",className:"w-16 h-16 rounded-full object-cover"})}),u.jsx(Xr,{className:"text-2xl font-bold text-white",children:"Reset Password"}),u.jsx("p",{className:"text-gray-300",children:"Enter your new password"})]}),u.jsxs(ke,{children:[u.jsx(xc,{...c,children:u.jsxs("form",{onSubmit:c.handleSubmit(d),className:"space-y-4",children:[u.jsx(lt,{control:c.control,name:"newPassword",render:({field:f})=>u.jsxs(et,{children:[u.jsx(ft,{className:"text-gray-200",children:"New Password"}),u.jsx(ht,{children:u.jsx(Ue,{...f,type:"password",placeholder:"Enter your new password",disabled:e,"data-testid":"input-new-password",className:"bg-gray-700 border-gray-600 text-white placeholder:text-gray-400 focus:border-blue-500"})}),u.jsx(pt,{})]})}),u.jsx(lt,{control:c.control,name:"confirmPassword",render:({field:f})=>u.jsxs(et,{children:[u.jsx(ft,{className:"text-gray-200",children:"Confirm Password"}),u.jsx(ht,{children:u.jsx(Ue,{...f,type:"password",placeholder:"Confirm your new password",disabled:e,"data-testid":"input-confirm-password",className:"bg-gray-700 border-gray-600 text-white placeholder:text-gray-400 focus:border-blue-500"})}),u.jsx(pt,{})]})}),u.jsx(ie,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white",disabled:e,"data-testid":"button-reset-password",children:e?u.jsxs(u.Fragment,{children:[u.jsx("i",{className:"fas fa-spinner fa-spin mr-2"}),"Resetting..."]}):u.jsxs(u.Fragment,{children:[u.jsx("i",{className:"fas fa-key mr-2"}),"Reset Password"]})}),u.jsx("div",{className:"text-center mt-4",children:u.jsx("button",{type:"button",onClick:()=>window.location.href="/login",className:"text-sm text-blue-400 hover:text-blue-300 transition-colors","data-testid":"link-back-to-login",children:" Back to Login"})})]})}),u.jsxs("div",{className:"mt-6 p-4 bg-gray-700 rounded-lg text-left",children:[u.jsx("p",{className:"text-sm font-medium text-gray-200 mb-2",children:"Volume Fashion Collection"}),u.jsxs("div",{className:"text-xs text-gray-300 space-y-1",children:[u.jsx("p",{children:"Address: 4006-4008Room, 5Floor,changjiang Internation Garment Building ,No.931,Renmingbei Road , Yuexiu District,Guangzhou.China"}),u.jsxs("p",{children:["Phone: ",u.jsx("a",{href:"tel:+8613288689165",className:"text-blue-400 hover:text-blue-300",children:"+86 132 8868 9165"})]}),u.jsxs("p",{children:["WhatsApp:",u.jsx("a",{href:"https://wa.link/mb5xbk",target:"_blank",rel:"noopener noreferrer",className:"text-green-400 hover:text-green-300 ml-1",children:"+962796100166"}),".",u.jsx("a",{href:"https://wa.link/g3bblj",target:"_blank",rel:"noopener noreferrer",className:"text-green-400 hover:text-green-300",children:"+8613660002778"})]}),u.jsx("p",{children:u.jsxs("a",{href:"https://instagram.com/volume_fashion1",target:"_blank",style:{textDecoration:"none",color:"inherit"},className:"inline-flex items-center",children:[u.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/a/a5/Instagram_icon.png",alt:"Instagram",width:"20",height:"20",style:{verticalAlign:"middle",marginRight:"5px"},className:"inline-block"}),u.jsx("span",{children:"@volume_fashion1"})]})})]})]})]})]})})}):u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-900 p-4",children:u.jsx("div",{className:"w-full max-w-md",children:u.jsxs(Te,{className:"bg-gray-800 border-gray-700",children:[u.jsxs(Cr,{className:"text-center",children:[u.jsx("div",{className:"mx-auto mb-4 w-20 h-20 flex items-center justify-center",children:u.jsx("img",{src:"/attached_assets/image_1757421254360.png",alt:"Volume Fashion Logo",className:"w-16 h-16 rounded-full object-cover"})}),u.jsx(Xr,{className:"text-2xl font-bold text-white",children:"Invalid Reset Link"}),u.jsx("p",{className:"text-gray-300",children:"This password reset link is invalid or has expired"})]}),u.jsx(ke,{children:u.jsxs("div",{className:"text-center space-y-4",children:[u.jsx("p",{className:"text-gray-400",children:"The reset link may have expired or already been used."}),u.jsxs(ie,{onClick:()=>window.location.href="/forgot-password",className:"w-full bg-blue-600 hover:bg-blue-700 text-white","data-testid":"button-request-new",children:[u.jsx("i",{className:"fas fa-paper-plane mr-2"}),"Request New Reset Link"]}),u.jsx("button",{type:"button",onClick:()=>window.location.href="/login",className:"text-sm text-blue-400 hover:text-blue-300 transition-colors","data-testid":"link-back-to-login",children:" Back to Login"})]})})]})})})}const XD=[{id:"dashboard",path:"/",icon:"fas fa-chart-line",label:"Dashboard",roles:["Admin","Manager","Staff","Viewer"]},{id:"products",path:"/products",icon:"fas fa-box",label:"Products",roles:["Admin","Manager","Staff","Viewer"]},{id:"add-product",path:"/add-product",icon:"fas fa-plus",label:"Add Product",roles:["Admin","Manager","Staff"]},{id:"bulk-upload",path:"/bulk-upload",icon:"fas fa-upload",label:"Bulk Upload",roles:["Admin","Manager"]},{id:"invoices",path:"/invoices",icon:"fas fa-file-invoice",label:"Invoices",roles:["Admin","Manager","Staff","Viewer"]},{id:"create-invoice",path:"/create-invoice",icon:"fas fa-plus-circle",label:"Create Invoice",roles:["Admin","Manager","Staff"]},{id:"reports",path:"/reports",icon:"fas fa-chart-bar",label:"Reports",roles:["Admin","Manager","Viewer"]},{id:"users",path:"/users",icon:"fas fa-users",label:"User Management",roles:["Admin"]},{id:"activity-logs",path:"/activity-logs",icon:"fas fa-history",label:"Activity Logs",roles:["Admin","Manager"]}];function N2({currentPage:t,onClose:e}){var a,o;const{user:r}=yc();Cd();const n=()=>{window.location.href="/api/logout"},i=r!=null&&r.firstName&&(r!=null&&r.lastName)?`${r.firstName[0]}${r.lastName[0]}`.toUpperCase():((o=(a=r==null?void 0:r.email)==null?void 0:a[0])==null?void 0:o.toUpperCase())||"U",s=XD.filter(l=>l.roles.includes((r==null?void 0:r.role)||"Viewer"));return u.jsxs("aside",{className:"w-64 flex flex-col h-screen border-r border-white/10",style:{backgroundColor:"#1800ad"},children:[u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-8",children:[u.jsx("div",{className:"flex items-center space-x-3",children:u.jsx("div",{className:"w-24 h-12 flex items-center justify-center",children:u.jsx("img",{src:CA,alt:"Volume Fashion Logo",className:"w-full h-full object-contain"})})}),e&&u.jsx("button",{onClick:e,className:"lg:hidden text-white/70 hover:text-white transition-colors p-1","data-testid":"button-close-sidebar",children:u.jsx("i",{className:"fas fa-times w-5 h-5"})})]}),u.jsx("nav",{className:"space-y-2",children:s.map(l=>u.jsxs(na,{href:l.path,className:Ee("w-full flex items-center space-x-3 px-3 py-2 rounded-md text-sm font-medium transition-colors",t===l.id?"bg-white text-gray-900":"text-white/90 hover:bg-white/10 hover:text-white"),"data-testid":`nav-${l.id}`,children:[u.jsx("i",{className:`${l.icon} w-4 h-4`}),u.jsx("span",{children:l.label})]},l.id))})]}),u.jsx("div",{className:"mt-auto p-6 border-t border-white/10",children:u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-8 h-8 bg-white rounded-full flex items-center justify-center",children:u.jsx("span",{className:"text-sm font-medium text-gray-900",children:i})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"text-sm font-medium text-white truncate",children:r!=null&&r.firstName&&(r!=null&&r.lastName)?`${r.firstName} ${r.lastName}`:r==null?void 0:r.email}),u.jsx("p",{className:"text-xs text-white/70",children:(r==null?void 0:r.role)||"Viewer"})]}),u.jsx("button",{onClick:n,className:"text-white/70 hover:text-white transition-colors","data-testid":"button-logout",children:u.jsx("i",{className:"fas fa-sign-out-alt w-4 h-4"})})]})})]})}function KD({title:t,onMenuClick:e}){const[r,n]=b.useState(()=>typeof window<"u"?localStorage.getItem("theme")==="dark":!1);return u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"bg-card border-b border-border px-6 py-2",children:u.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-2",children:[u.jsx("div",{className:"flex items-center gap-2",children:u.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Volume Fashion Collection"})}),u.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center gap-3 text-xs text-muted-foreground",children:[u.jsxs("div",{className:"flex items-center gap-1.5",children:[u.jsx("i",{className:"fas fa-map-marker-alt w-3 h-3"}),u.jsx("span",{className:"hidden xl:inline",children:"4006-4008Room, 5Floor, Changjiang International Garment Building, No.931, Renmingbei Road, Yuexiu District, Guangzhou, China"}),u.jsx("span",{className:"xl:hidden",children:"Guangzhou, China"})]}),u.jsxs("div",{className:"flex items-center gap-1.5",children:[u.jsx("i",{className:"fas fa-phone w-3 h-3"}),u.jsx("a",{href:"tel:+8613288689165",className:"hover:text-foreground transition-colors",children:"+86 132 8868 9165"})]})]})]})}),u.jsx("header",{className:"bg-card border-b border-border px-6 py-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx(ie,{variant:"ghost",size:"icon",className:"lg:hidden",onClick:e,"data-testid":"button-mobile-menu",children:u.jsx("i",{className:"fas fa-bars w-5 h-5"})}),u.jsx("h2",{className:"text-lg lg:text-xl font-semibold text-foreground",children:t})]}),u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsxs("div",{className:"relative hidden md:block",children:[u.jsx(Ue,{type:"text",placeholder:"Search products...",className:"w-40 lg:w-64 pl-10","data-testid":"input-search"}),u.jsx("img",{src:"/attached_assets/image_1757965266687.png",alt:"Search",className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4"})]}),u.jsxs(ie,{variant:"ghost",size:"icon",className:"relative","data-testid":"button-notifications",children:[u.jsx("i",{className:"fas fa-bell w-5 h-5"}),u.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-destructive rounded-full text-xs"})]}),u.jsxs("div",{className:"flex items-center bg-muted rounded-lg p-1",children:[u.jsxs(ie,{variant:r?"ghost":"default",size:"sm",onClick:()=>{r&&(n(!1),document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},className:`px-3 py-2 rounded-md transition-all duration-200 ${r?"text-muted-foreground hover:text-foreground":"bg-background text-foreground shadow-sm border"}`,"data-testid":"button-light-mode",children:[u.jsx("i",{className:"fas fa-sun w-4 h-4 mr-2"}),u.jsx("span",{className:"text-sm font-medium",children:"Light"})]}),u.jsxs(ie,{variant:r?"default":"ghost",size:"sm",onClick:()=>{r||(n(!0),document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark"))},className:`px-3 py-2 rounded-md transition-all duration-200 ml-1 ${r?"bg-background text-foreground shadow-sm border":"text-muted-foreground hover:text-foreground"}`,"data-testid":"button-dark-mode",children:[u.jsx("i",{className:"fas fa-moon w-4 h-4 mr-2"}),u.jsx("span",{className:"text-sm font-medium",children:"Dark"})]})]}),u.jsxs(ie,{variant:"outline",size:"sm",onClick:async()=>{try{(await fetch("/api/auth/logout",{method:"POST",credentials:"include"})).ok&&(window.location.href="/")}catch(i){console.error("Logout error:",i),window.location.href="/"}},className:"px-4 py-2 border-destructive/20 text-destructive hover:bg-destructive hover:text-destructive-foreground transition-all duration-200","data-testid":"button-logout",children:[u.jsx("i",{className:"fas fa-sign-out-alt w-4 h-4 mr-2"}),u.jsx("span",{className:"text-sm font-medium",children:"Logout"})]})]})]})})]})}function YD(){return u.jsx("footer",{className:"bg-card border-t border-border mt-auto",children:u.jsx("div",{className:"px-6 py-4",children:u.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center space-y-4 lg:space-y-0",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"text-sm font-semibold text-foreground mb-2",children:"Volume Fashion Collection"}),u.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[u.jsxs("p",{className:"flex items-start",children:[u.jsx("i",{className:"fas fa-map-marker-alt w-3 h-3 mt-0.5 mr-2 flex-shrink-0"}),u.jsx("span",{children:"4006-4008Room, 5Floor, Changjiang International Garment Building, No.931, Renmingbei Road, Yuexiu District, Guangzhou, China"})]}),u.jsxs("p",{className:"flex items-center",children:[u.jsx("i",{className:"fas fa-phone w-3 h-3 mr-2"}),u.jsx("span",{children:"+86 132 8868 9165"})]})]})]}),u.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center space-y-2 lg:space-y-0 lg:space-x-6 text-xs text-muted-foreground",children:[u.jsx("span",{children:" 2024 Volume Fashion Collection"}),u.jsx("span",{children:"Fashion Inventory & Invoicing System"})]})]})})})}function we({className:t,...e}){return u.jsx("div",{className:Ee("animate-pulse rounded-md bg-muted",t),...e})}function SA(){var d,f,h;const{data:t,isLoading:e}=$r({queryKey:["/api/dashboard/metrics"]}),{data:r,isLoading:n}=$r({queryKey:["/api/products",{limit:3}]}),{data:i,isLoading:s}=$r({queryKey:["/api/activity-logs",{limit:5}]}),a=p=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(p),o=p=>{const g=new Date(p),x=Math.floor((new Date().getTime()-g.getTime())/(1e3*60));return x<1?"Just now":x<60?`${x} minute${x===1?"":"s"} ago`:x<1440?`${Math.floor(x/60)} hour${Math.floor(x/60)===1?"":"s"} ago`:`${Math.floor(x/1440)} day${Math.floor(x/1440)===1?"":"s"} ago`},l=p=>p<=5?"text-destructive bg-destructive/10":"text-accent bg-accent/10",c=p=>{switch(p){case"Products":return"fa-box text-accent";case"Invoices":return"fa-file-invoice text-primary";case"Users":return"fa-users text-purple-500";case"Inventory":return"fa-exclamation-triangle text-destructive";default:return"fa-circle text-muted-foreground"}};return u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[u.jsx(Te,{"data-testid":"card-total-products",children:u.jsx(ke,{className:"p-6",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Products"}),e?u.jsx(we,{className:"h-8 w-16 mt-2"}):u.jsx("p",{className:"text-2xl font-bold text-foreground","data-testid":"text-total-products",children:((d=t==null?void 0:t.totalProducts)==null?void 0:d.toLocaleString())||0})]}),u.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center",children:u.jsx("i",{className:"fas fa-box text-primary w-6 h-6"})})]})})}),u.jsx(Te,{"data-testid":"card-low-stock",children:u.jsx(ke,{className:"p-6",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Low Stock Items"}),e?u.jsx(we,{className:"h-8 w-12 mt-2"}):u.jsx("p",{className:"text-2xl font-bold text-destructive","data-testid":"text-low-stock",children:(t==null?void 0:t.lowStockItems)||0})]}),u.jsx("div",{className:"w-12 h-12 bg-destructive/10 rounded-lg flex items-center justify-center",children:u.jsx("i",{className:"fas fa-exclamation-triangle text-destructive w-6 h-6"})})]})})}),u.jsx(Te,{"data-testid":"card-pending-invoices",children:u.jsx(ke,{className:"p-6",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Pending Invoices"}),e?u.jsx(we,{className:"h-8 w-12 mt-2"}):u.jsx("p",{className:"text-2xl font-bold text-accent","data-testid":"text-pending-invoices",children:(t==null?void 0:t.pendingInvoices)||0})]}),u.jsx("div",{className:"w-12 h-12 bg-accent/10 rounded-lg flex items-center justify-center",children:u.jsx("i",{className:"fas fa-clock text-accent w-6 h-6"})})]})})}),u.jsx(Te,{"data-testid":"card-monthly-revenue",children:u.jsx(ke,{className:"p-6",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Monthly Revenue"}),e?u.jsx(we,{className:"h-8 w-20 mt-2"}):u.jsx("p",{className:"text-lg font-bold text-foreground","data-testid":"text-monthly-revenue",children:a((t==null?void 0:t.monthlyRevenue)||0)})]}),u.jsx("div",{className:"w-12 h-12 bg-accent/10 rounded-lg flex items-center justify-center",children:u.jsx("i",{className:"fas fa-dollar-sign text-accent w-6 h-6"})})]})})})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs(Te,{"data-testid":"card-recent-products",children:[u.jsx("div",{className:"p-6 border-b border-border",children:u.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Recent Products"})}),u.jsx(ke,{className:"p-6",children:n?u.jsx("div",{className:"space-y-4",children:[1,2,3].map(p=>u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx(we,{className:"w-12 h-12 rounded-md"}),u.jsxs("div",{className:"flex-1 space-y-2",children:[u.jsx(we,{className:"h-4 w-32"}),u.jsx(we,{className:"h-3 w-16"})]}),u.jsx(we,{className:"h-6 w-16 rounded-full"})]},p))}):(f=r==null?void 0:r.products)!=null&&f.length?u.jsx("div",{className:"space-y-4",children:r.products.slice(0,3).map(p=>u.jsxs("div",{className:"flex items-center space-x-4","data-testid":`product-${p.id}`,children:[u.jsx("div",{className:"w-12 h-12 bg-muted rounded-md flex items-center justify-center",children:p.imageUrl?u.jsx("img",{src:p.imageUrl,alt:p.productName,className:"w-12 h-12 rounded-md object-cover"}):u.jsx("i",{className:"fas fa-image text-muted-foreground"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-sm font-medium text-foreground",children:p.productName}),u.jsx("p",{className:"text-xs text-muted-foreground",children:p.productId})]}),u.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${l(p.quantity)}`,children:p.quantity<=5?"Low Stock":"In Stock"})]},p.id))}):u.jsxs("div",{className:"text-center py-8",children:[u.jsx("i",{className:"fas fa-box text-muted-foreground text-3xl mb-4"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"No products found"})]})})]}),u.jsxs(Te,{"data-testid":"card-recent-activity",children:[u.jsx("div",{className:"p-6 border-b border-border",children:u.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Recent Activity"})}),u.jsx(ke,{className:"p-6",children:s?u.jsx("div",{className:"space-y-4",children:[1,2,3].map(p=>u.jsxs("div",{className:"flex items-start space-x-3",children:[u.jsx(we,{className:"w-2 h-2 rounded-full mt-2"}),u.jsxs("div",{className:"flex-1 space-y-2",children:[u.jsx(we,{className:"h-4 w-full"}),u.jsx(we,{className:"h-3 w-24"})]})]},p))}):(h=i==null?void 0:i.logs)!=null&&h.length?u.jsx("div",{className:"space-y-4",children:i.logs.map(p=>u.jsxs("div",{className:"flex items-start space-x-3","data-testid":`activity-${p.id}`,children:[u.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${c(p.module).includes("accent")?"bg-accent":c(p.module).includes("primary")?"bg-primary":c(p.module).includes("destructive")?"bg-destructive":"bg-muted-foreground"}`}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-sm text-foreground",children:p.action}),u.jsxs("div",{className:"flex items-center space-x-4 text-xs text-muted-foreground mt-1",children:[u.jsx("span",{children:o(p.createdAt)}),u.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full ${p.module==="Products"?"bg-accent/10 text-accent":p.module==="Invoices"?"bg-primary/10 text-primary":p.module==="Users"?"bg-purple-100 text-purple-600":"bg-muted text-muted-foreground"}`,children:p.module})]})]})]},p.id))}):u.jsxs("div",{className:"text-center py-8",children:[u.jsx("i",{className:"fas fa-history text-muted-foreground text-3xl mb-4"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"No recent activity"})]})})]})]})]})}function EA(t){const e=b.useRef({value:t,previous:t});return b.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Bp="Checkbox",[ZD]=ba(Bp),[QD,fy]=ZD(Bp);function JD(t){const{__scopeCheckbox:e,checked:r,children:n,defaultChecked:i,disabled:s,form:a,name:o,onCheckedChange:l,required:c,value:d="on",internal_do_not_use_render:f}=t,[h,p]=ju({prop:r,defaultProp:i??!1,onChange:l,caller:Bp}),[g,m]=b.useState(null),[x,y]=b.useState(null),v=b.useRef(!1),_=g?!!a||!!g.closest("form"):!0,w={checked:h,disabled:s,setChecked:p,control:g,setControl:m,name:o,form:a,value:d,hasConsumerStoppedPropagationRef:v,required:c,defaultChecked:aa(i)?!1:i,isFormControl:_,bubbleInput:x,setBubbleInput:y};return u.jsx(QD,{scope:e,...w,children:ej(f)?f(w):n})}var AA="CheckboxTrigger",NA=b.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:r,...n},i)=>{const{control:s,value:a,disabled:o,checked:l,required:c,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:p,bubbleInput:g}=fy(AA,t),m=ut(i,d),x=b.useRef(l);return b.useEffect(()=>{const y=s==null?void 0:s.form;if(y){const v=()=>f(x.current);return y.addEventListener("reset",v),()=>y.removeEventListener("reset",v)}},[s,f]),u.jsx(Ve.button,{type:"button",role:"checkbox","aria-checked":aa(l)?"mixed":l,"aria-required":c,"data-state":RA(l),"data-disabled":o?"":void 0,disabled:o,value:a,...n,ref:m,onKeyDown:Ie(e,y=>{y.key==="Enter"&&y.preventDefault()}),onClick:Ie(r,y=>{f(v=>aa(v)?!0:!v),g&&p&&(h.current=y.isPropagationStopped(),h.current||y.stopPropagation())})})});NA.displayName=AA;var hy=b.forwardRef((t,e)=>{const{__scopeCheckbox:r,name:n,checked:i,defaultChecked:s,required:a,disabled:o,value:l,onCheckedChange:c,form:d,...f}=t;return u.jsx(JD,{__scopeCheckbox:r,checked:i,defaultChecked:s,disabled:o,required:a,onCheckedChange:c,name:n,form:d,value:l,internal_do_not_use_render:({isFormControl:h})=>u.jsxs(u.Fragment,{children:[u.jsx(NA,{...f,ref:e,__scopeCheckbox:r}),h&&u.jsx(OA,{__scopeCheckbox:r})]})})});hy.displayName=Bp;var TA="CheckboxIndicator",IA=b.forwardRef((t,e)=>{const{__scopeCheckbox:r,forceMount:n,...i}=t,s=fy(TA,r);return u.jsx(No,{present:n||aa(s.checked)||s.checked===!0,children:u.jsx(Ve.span,{"data-state":RA(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});IA.displayName=TA;var PA="CheckboxBubbleInput",OA=b.forwardRef(({__scopeCheckbox:t,...e},r)=>{const{control:n,hasConsumerStoppedPropagationRef:i,checked:s,defaultChecked:a,required:o,disabled:l,name:c,value:d,form:f,bubbleInput:h,setBubbleInput:p}=fy(PA,t),g=ut(r,p),m=EA(s),x=D3(n);b.useEffect(()=>{const v=h;if(!v)return;const _=window.HTMLInputElement.prototype,S=Object.getOwnPropertyDescriptor(_,"checked").set,A=!i.current;if(m!==s&&S){const E=new Event("click",{bubbles:A});v.indeterminate=aa(s),S.call(v,aa(s)?!1:s),v.dispatchEvent(E)}},[h,m,s,i]);const y=b.useRef(aa(s)?!1:s);return u.jsx(Ve.input,{type:"checkbox","aria-hidden":!0,defaultChecked:a??y.current,required:o,disabled:l,name:c,value:d,form:f,...e,tabIndex:-1,ref:g,style:{...e.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});OA.displayName=PA;function ej(t){return typeof t=="function"}function aa(t){return t==="indeterminate"}function RA(t){return aa(t)?"indeterminate":t?"checked":"unchecked"}const py=b.forwardRef(({className:t,...e},r)=>u.jsx(hy,{ref:r,className:Ee("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:u.jsx(IA,{className:Ee("flex items-center justify-center text-current"),children:u.jsx(c3,{className:"h-4 w-4"})})}));py.displayName=hy.displayName;function T2(t,[e,r]){return Math.min(r,Math.max(e,t))}var tj=b.createContext(void 0);function rj(t){const e=b.useContext(tj);return t||e||"ltr"}var B0=0;function kA(){b.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??I2()),document.body.insertAdjacentElement("beforeend",t[1]??I2()),B0++,()=>{B0===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),B0--}},[])}function I2(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var U0="focusScope.autoFocusOnMount",$0="focusScope.autoFocusOnUnmount",P2={bubbles:!1,cancelable:!0},nj="FocusScope",my=b.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...a}=t,[o,l]=b.useState(null),c=hi(i),d=hi(s),f=b.useRef(null),h=ut(e,m=>l(m)),p=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(n){let m=function(_){if(p.paused||!o)return;const w=_.target;o.contains(w)?f.current=w:Es(f.current,{select:!0})},x=function(_){if(p.paused||!o)return;const w=_.relatedTarget;w!==null&&(o.contains(w)||Es(f.current,{select:!0}))},y=function(_){if(document.activeElement===document.body)for(const S of _)S.removedNodes.length>0&&Es(o)};document.addEventListener("focusin",m),document.addEventListener("focusout",x);const v=new MutationObserver(y);return o&&v.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",x),v.disconnect()}}},[n,o,p.paused]),b.useEffect(()=>{if(o){R2.add(p);const m=document.activeElement;if(!o.contains(m)){const y=new CustomEvent(U0,P2);o.addEventListener(U0,c),o.dispatchEvent(y),y.defaultPrevented||(ij(cj(DA(o)),{select:!0}),document.activeElement===m&&Es(o))}return()=>{o.removeEventListener(U0,c),setTimeout(()=>{const y=new CustomEvent($0,P2);o.addEventListener($0,d),o.dispatchEvent(y),y.defaultPrevented||Es(m??document.body,{select:!0}),o.removeEventListener($0,d),R2.remove(p)},0)}}},[o,c,d,p]);const g=b.useCallback(m=>{if(!r&&!n||p.paused)return;const x=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,y=document.activeElement;if(x&&y){const v=m.currentTarget,[_,w]=sj(v);_&&w?!m.shiftKey&&y===w?(m.preventDefault(),r&&Es(_,{select:!0})):m.shiftKey&&y===_&&(m.preventDefault(),r&&Es(w,{select:!0})):y===v&&m.preventDefault()}},[r,n,p.paused]);return u.jsx(Ve.div,{tabIndex:-1,...a,ref:h,onKeyDown:g})});my.displayName=nj;function ij(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(Es(n,{select:e}),document.activeElement!==r)return}function sj(t){const e=DA(t),r=O2(e,t),n=O2(e.reverse(),t);return[r,n]}function DA(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function O2(t,e){for(const r of t)if(!aj(r,{upTo:e}))return r}function aj(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function oj(t){return t instanceof HTMLInputElement&&"select"in t}function Es(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&oj(t)&&e&&t.select()}}var R2=lj();function lj(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=k2(t,e),t.unshift(e)},remove(e){var r;t=k2(t,e),(r=t[0])==null||r.resume()}}}function k2(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function cj(t){return t.filter(e=>e.tagName!=="A")}function uj(t){const e=dj(t),r=b.forwardRef((n,i)=>{const{children:s,...a}=n,o=b.Children.toArray(s),l=o.find(hj);if(l){const c=l.props.children,d=o.map(f=>f===l?b.Children.count(c)>1?b.Children.only(null):b.isValidElement(c)?c.props.children:null:f);return u.jsx(e,{...a,ref:i,children:b.isValidElement(c)?b.cloneElement(c,void 0,d):null})}return u.jsx(e,{...a,ref:i,children:s})});return r.displayName=`${t}.Slot`,r}function dj(t){const e=b.forwardRef((r,n)=>{const{children:i,...s}=r;if(b.isValidElement(i)){const a=mj(i),o=pj(s,i.props);return i.type!==b.Fragment&&(o.ref=n?pc(n,a):a),b.cloneElement(i,o)}return b.Children.count(i)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var fj=Symbol("radix.slottable");function hj(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===fj}function pj(t,e){const r={...e};for(const n in e){const i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...o)=>{const l=s(...o);return i(...o),l}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function mj(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var gj=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},ko=new WeakMap,sf=new WeakMap,af={},V0=0,jA=function(t){return t&&(t.host||jA(t.parentNode))},vj=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=jA(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},yj=function(t,e,r,n){var i=vj(e,Array.isArray(t)?t:[t]);af[r]||(af[r]=new WeakMap);var s=af[r],a=[],o=new Set,l=new Set(i),c=function(f){!f||o.has(f)||(o.add(f),c(f.parentNode))};i.forEach(c);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(o.has(h))d(h);else try{var p=h.getAttribute(n),g=p!==null&&p!=="false",m=(ko.get(h)||0)+1,x=(s.get(h)||0)+1;ko.set(h,m),s.set(h,x),a.push(h),m===1&&g&&sf.set(h,!0),x===1&&h.setAttribute(r,"true"),g||h.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",h,y)}})};return d(e),o.clear(),V0++,function(){a.forEach(function(f){var h=ko.get(f)-1,p=s.get(f)-1;ko.set(f,h),s.set(f,p),h||(sf.has(f)||f.removeAttribute(n),sf.delete(f)),p||f.removeAttribute(r)}),V0--,V0||(ko=new WeakMap,ko=new WeakMap,sf=new WeakMap,af={})}},FA=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),i=gj(t);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live], script"))),yj(n,i,r,"aria-hidden")):function(){return null}},Ri=function(){return Ri=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Ri.apply(this,arguments)};function MA(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function xj(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}var Vf="right-scroll-bar-position",zf="width-before-scroll-bar",wj="with-scroll-bars-hidden",_j="--removed-body-scroll-bar-size";function z0(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function bj(t,e){var r=b.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=e,r.facade}var Cj=typeof window<"u"?b.useLayoutEffect:b.useEffect,D2=new WeakMap;function Sj(t,e){var r=bj(null,function(n){return t.forEach(function(i){return z0(i,n)})});return Cj(function(){var n=D2.get(r);if(n){var i=new Set(n),s=new Set(t),a=r.current;i.forEach(function(o){s.has(o)||z0(o,null)}),s.forEach(function(o){i.has(o)||z0(o,a)})}D2.set(r,t)},[t]),r}function Ej(t){return t}function Aj(t,e){e===void 0&&(e=Ej);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(s){var a=e(s,n);return r.push(a),function(){r=r.filter(function(o){return o!==a})}},assignSyncMedium:function(s){for(n=!0;r.length;){var a=r;r=[],a.forEach(s)}r={push:function(o){return s(o)},filter:function(){return r}}},assignMedium:function(s){n=!0;var a=[];if(r.length){var o=r;r=[],o.forEach(s),a=r}var l=function(){var d=a;a=[],d.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),r={push:function(d){a.push(d),c()},filter:function(d){return a=a.filter(d),r}}}};return i}function Nj(t){t===void 0&&(t={});var e=Aj(null);return e.options=Ri({async:!0,ssr:!1},t),e}var LA=function(t){var e=t.sideCar,r=MA(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return b.createElement(n,Ri({},r))};LA.isSideCarExport=!0;function Tj(t,e){return t.useMedium(e),LA}var BA=Nj(),H0=function(){},Up=b.forwardRef(function(t,e){var r=b.useRef(null),n=b.useState({onScrollCapture:H0,onWheelCapture:H0,onTouchMoveCapture:H0}),i=n[0],s=n[1],a=t.forwardProps,o=t.children,l=t.className,c=t.removeScrollBar,d=t.enabled,f=t.shards,h=t.sideCar,p=t.noRelative,g=t.noIsolation,m=t.inert,x=t.allowPinchZoom,y=t.as,v=y===void 0?"div":y,_=t.gapMode,w=MA(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=h,A=Sj([r,e]),E=Ri(Ri({},w),i);return b.createElement(b.Fragment,null,d&&b.createElement(S,{sideCar:BA,removeScrollBar:c,shards:f,noRelative:p,noIsolation:g,inert:m,setCallbacks:s,allowPinchZoom:!!x,lockRef:r,gapMode:_}),a?b.cloneElement(b.Children.only(o),Ri(Ri({},E),{ref:A})):b.createElement(v,Ri({},E,{className:l,ref:A}),o))});Up.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Up.classNames={fullWidth:zf,zeroRight:Vf};var Ij=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Pj(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Ij();return e&&t.setAttribute("nonce",e),t}function Oj(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Rj(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var kj=function(){var t=0,e=null;return{add:function(r){t==0&&(e=Pj())&&(Oj(e,r),Rj(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Dj=function(){var t=kj();return function(e,r){b.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},UA=function(){var t=Dj(),e=function(r){var n=r.styles,i=r.dynamic;return t(n,i),null};return e},jj={left:0,top:0,right:0,gap:0},W0=function(t){return parseInt(t||"",10)||0},Fj=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[W0(r),W0(n),W0(i)]},Mj=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return jj;var e=Fj(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},Lj=UA(),dl="data-scroll-locked",Bj=function(t,e,r,n){var i=t.left,s=t.top,a=t.right,o=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(wj,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(o,"px ").concat(n,`;
  }
  body[`).concat(dl,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(o,"px ").concat(n,";")].filter(Boolean).join(""),`
  }

  .`).concat(Vf,` {
    right: `).concat(o,"px ").concat(n,`;
  }

  .`).concat(zf,` {
    margin-right: `).concat(o,"px ").concat(n,`;
  }

  .`).concat(Vf," .").concat(Vf,` {
    right: 0 `).concat(n,`;
  }

  .`).concat(zf," .").concat(zf,` {
    margin-right: 0 `).concat(n,`;
  }

  body[`).concat(dl,`] {
    `).concat(_j,": ").concat(o,`px;
  }
`)},j2=function(){var t=parseInt(document.body.getAttribute(dl)||"0",10);return isFinite(t)?t:0},Uj=function(){b.useEffect(function(){return document.body.setAttribute(dl,(j2()+1).toString()),function(){var t=j2()-1;t<=0?document.body.removeAttribute(dl):document.body.setAttribute(dl,t.toString())}},[])},$j=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,i=n===void 0?"margin":n;Uj();var s=b.useMemo(function(){return Mj(i)},[i]);return b.createElement(Lj,{styles:Bj(s,!e,i,r?"":"!important")})},zm=!1;if(typeof window<"u")try{var of=Object.defineProperty({},"passive",{get:function(){return zm=!0,!0}});window.addEventListener("test",of,of),window.removeEventListener("test",of,of)}catch{zm=!1}var Do=zm?{passive:!1}:!1,Vj=function(t){return t.tagName==="TEXTAREA"},$A=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!Vj(t)&&r[e]==="visible")},zj=function(t){return $A(t,"overflowY")},Hj=function(t){return $A(t,"overflowX")},F2=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=VA(t,n);if(i){var s=zA(t,n),a=s[1],o=s[2];if(a>o)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Wj=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},Gj=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},VA=function(t,e){return t==="v"?zj(e):Hj(e)},zA=function(t,e){return t==="v"?Wj(e):Gj(e)},qj=function(t,e){return t==="h"&&e==="rtl"?-1:1},Xj=function(t,e,r,n,i){var s=qj(t,window.getComputedStyle(e).direction),a=s*n,o=r.target,l=e.contains(o),c=!1,d=a>0,f=0,h=0;do{if(!o)break;var p=zA(t,o),g=p[0],m=p[1],x=p[2],y=m-x-s*g;(g||y)&&VA(t,o)&&(f+=y,h+=g);var v=o.parentNode;o=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!l&&o!==document.body||l&&(e.contains(o)||e===o));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(c=!0),c},lf=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},M2=function(t){return[t.deltaX,t.deltaY]},L2=function(t){return t&&"current"in t?t.current:t},Kj=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Yj=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Zj=0,jo=[];function Qj(t){var e=b.useRef([]),r=b.useRef([0,0]),n=b.useRef(),i=b.useState(Zj++)[0],s=b.useState(UA)[0],a=b.useRef(t);b.useEffect(function(){a.current=t},[t]),b.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var m=xj([t.lockRef.current],(t.shards||[]).map(L2),!0).filter(Boolean);return m.forEach(function(x){return x.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),m.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var o=b.useCallback(function(m,x){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!a.current.allowPinchZoom;var y=lf(m),v=r.current,_="deltaX"in m?m.deltaX:v[0]-y[0],w="deltaY"in m?m.deltaY:v[1]-y[1],S,A=m.target,E=Math.abs(_)>Math.abs(w)?"h":"v";if("touches"in m&&E==="h"&&A.type==="range")return!1;var P=window.getSelection(),j=P&&P.anchorNode,F=j?j===A||j.contains(A):!1;if(F)return!1;var H=F2(E,A);if(!H)return!0;if(H?S=E:(S=E==="v"?"h":"v",H=F2(E,A)),!H)return!1;if(!n.current&&"changedTouches"in m&&(_||w)&&(n.current=S),!S)return!0;var L=n.current||S;return Xj(L,x,m,L==="h"?_:w)},[]),l=b.useCallback(function(m){var x=m;if(!(!jo.length||jo[jo.length-1]!==s)){var y="deltaY"in x?M2(x):lf(x),v=e.current.filter(function(S){return S.name===x.type&&(S.target===x.target||x.target===S.shadowParent)&&Kj(S.delta,y)})[0];if(v&&v.should){x.cancelable&&x.preventDefault();return}if(!v){var _=(a.current.shards||[]).map(L2).filter(Boolean).filter(function(S){return S.contains(x.target)}),w=_.length>0?o(x,_[0]):!a.current.noIsolation;w&&x.cancelable&&x.preventDefault()}}},[]),c=b.useCallback(function(m,x,y,v){var _={name:m,delta:x,target:y,should:v,shadowParent:Jj(y)};e.current.push(_),setTimeout(function(){e.current=e.current.filter(function(w){return w!==_})},1)},[]),d=b.useCallback(function(m){r.current=lf(m),n.current=void 0},[]),f=b.useCallback(function(m){c(m.type,M2(m),m.target,o(m,t.lockRef.current))},[]),h=b.useCallback(function(m){c(m.type,lf(m),m.target,o(m,t.lockRef.current))},[]);b.useEffect(function(){return jo.push(s),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Do),document.addEventListener("touchmove",l,Do),document.addEventListener("touchstart",d,Do),function(){jo=jo.filter(function(m){return m!==s}),document.removeEventListener("wheel",l,Do),document.removeEventListener("touchmove",l,Do),document.removeEventListener("touchstart",d,Do)}},[]);var p=t.removeScrollBar,g=t.inert;return b.createElement(b.Fragment,null,g?b.createElement(s,{styles:Yj(i)}):null,p?b.createElement($j,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function Jj(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const eF=Tj(BA,Qj);var gy=b.forwardRef(function(t,e){return b.createElement(Up,Ri({},t,{ref:e,sideCar:eF}))});gy.classNames=Up.classNames;var tF=[" ","Enter","ArrowUp","ArrowDown"],rF=[" ","Enter"],wo="Select",[$p,Vp,nF]=jE(wo),[wc]=ba(wo,[nF,kp]),zp=kp(),[iF,Ca]=wc(wo),[sF,aF]=wc(wo),HA=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:i,onOpenChange:s,value:a,defaultValue:o,onValueChange:l,dir:c,name:d,autoComplete:f,disabled:h,required:p,form:g}=t,m=zp(e),[x,y]=b.useState(null),[v,_]=b.useState(null),[w,S]=b.useState(!1),A=rj(c),[E,P]=ju({prop:n,defaultProp:i??!1,onChange:s,caller:wo}),[j,F]=ju({prop:a,defaultProp:o,onChange:l,caller:wo}),H=b.useRef(null),L=x?g||!!x.closest("form"):!0,[N,O]=b.useState(new Set),q=Array.from(N).map(Q=>Q.props.value).join(";");return u.jsx(uk,{...m,children:u.jsxs(iF,{required:p,scope:e,trigger:x,onTriggerChange:y,valueNode:v,onValueNodeChange:_,valueNodeHasChildren:w,onValueNodeHasChildrenChange:S,contentId:cl(),value:j,onValueChange:F,open:E,onOpenChange:P,dir:A,triggerPointerDownPosRef:H,disabled:h,children:[u.jsx($p.Provider,{scope:e,children:u.jsx(sF,{scope:t.__scopeSelect,onNativeOptionAdd:b.useCallback(Q=>{O(X=>new Set(X).add(Q))},[]),onNativeOptionRemove:b.useCallback(Q=>{O(X=>{const D=new Set(X);return D.delete(Q),D})},[]),children:r})}),L?u.jsxs(pN,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:j,onChange:Q=>F(Q.target.value),disabled:h,form:g,children:[j===void 0?u.jsx("option",{value:""}):null,Array.from(N)]},q):null]})})};HA.displayName=wo;var WA="SelectTrigger",GA=b.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...i}=t,s=zp(r),a=Ca(WA,r),o=a.disabled||n,l=ut(e,a.onTriggerChange),c=Vp(r),d=b.useRef("touch"),[f,h,p]=gN(m=>{const x=c().filter(_=>!_.disabled),y=x.find(_=>_.value===a.value),v=vN(x,m,y);v!==void 0&&a.onValueChange(v.value)}),g=m=>{o||(a.onOpenChange(!0),p()),m&&(a.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return u.jsx(H3,{asChild:!0,...s,children:u.jsx(Ve.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":mN(a.value)?"":void 0,...i,ref:l,onClick:Ie(i.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&g(m)}),onPointerDown:Ie(i.onPointerDown,m=>{d.current=m.pointerType;const x=m.target;x.hasPointerCapture(m.pointerId)&&x.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(g(m),m.preventDefault())}),onKeyDown:Ie(i.onKeyDown,m=>{const x=f.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&h(m.key),!(x&&m.key===" ")&&tF.includes(m.key)&&(g(),m.preventDefault())})})})});GA.displayName=WA;var qA="SelectValue",XA=b.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,children:s,placeholder:a="",...o}=t,l=Ca(qA,r),{onValueNodeHasChildrenChange:c}=l,d=s!==void 0,f=ut(e,l.onValueNodeChange);return yr(()=>{c(d)},[c,d]),u.jsx(Ve.span,{...o,ref:f,style:{pointerEvents:"none"},children:mN(l.value)?u.jsx(u.Fragment,{children:a}):s})});XA.displayName=qA;var oF="SelectIcon",KA=b.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...i}=t;return u.jsx(Ve.span,{"aria-hidden":!0,...i,ref:e,children:n||""})});KA.displayName=oF;var lF="SelectPortal",YA=t=>u.jsx(Ap,{asChild:!0,...t});YA.displayName=lF;var _o="SelectContent",ZA=b.forwardRef((t,e)=>{const r=Ca(_o,t.__scopeSelect),[n,i]=b.useState();if(yr(()=>{i(new DocumentFragment)},[]),!r.open){const s=n;return s?Ao.createPortal(u.jsx(QA,{scope:t.__scopeSelect,children:u.jsx($p.Slot,{scope:t.__scopeSelect,children:u.jsx("div",{children:t.children})})}),s):null}return u.jsx(JA,{...t,ref:e})});ZA.displayName=_o;var $n=10,[QA,Sa]=wc(_o),cF="SelectContentImpl",uF=uj("SelectContent.RemoveScroll"),JA=b.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:a,side:o,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:g,hideWhenDetached:m,avoidCollisions:x,...y}=t,v=Ca(_o,r),[_,w]=b.useState(null),[S,A]=b.useState(null),E=ut(e,ce=>w(ce)),[P,j]=b.useState(null),[F,H]=b.useState(null),L=Vp(r),[N,O]=b.useState(!1),q=b.useRef(!1);b.useEffect(()=>{if(_)return FA(_)},[_]),kA();const Q=b.useCallback(ce=>{const[B,...le]=L().map(Ae=>Ae.ref.current),[me]=le.slice(-1),de=document.activeElement;for(const Ae of ce)if(Ae===de||(Ae==null||Ae.scrollIntoView({block:"nearest"}),Ae===B&&S&&(S.scrollTop=0),Ae===me&&S&&(S.scrollTop=S.scrollHeight),Ae==null||Ae.focus(),document.activeElement!==de))return},[L,S]),X=b.useCallback(()=>Q([P,_]),[Q,P,_]);b.useEffect(()=>{N&&X()},[N,X]);const{onOpenChange:D,triggerPointerDownPosRef:k}=v;b.useEffect(()=>{if(_){let ce={x:0,y:0};const B=me=>{var de,Ae;ce={x:Math.abs(Math.round(me.pageX)-(((de=k.current)==null?void 0:de.x)??0)),y:Math.abs(Math.round(me.pageY)-(((Ae=k.current)==null?void 0:Ae.y)??0))}},le=me=>{ce.x<=10&&ce.y<=10?me.preventDefault():_.contains(me.target)||D(!1),document.removeEventListener("pointermove",B),k.current=null};return k.current!==null&&(document.addEventListener("pointermove",B),document.addEventListener("pointerup",le,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",B),document.removeEventListener("pointerup",le,{capture:!0})}}},[_,D,k]),b.useEffect(()=>{const ce=()=>D(!1);return window.addEventListener("blur",ce),window.addEventListener("resize",ce),()=>{window.removeEventListener("blur",ce),window.removeEventListener("resize",ce)}},[D]);const[M,$]=gN(ce=>{const B=L().filter(de=>!de.disabled),le=B.find(de=>de.ref.current===document.activeElement),me=vN(B,ce,le);me&&setTimeout(()=>me.ref.current.focus())}),ee=b.useCallback((ce,B,le)=>{const me=!q.current&&!le;(v.value!==void 0&&v.value===B||me)&&(j(ce),me&&(q.current=!0))},[v.value]),se=b.useCallback(()=>_==null?void 0:_.focus(),[_]),he=b.useCallback((ce,B,le)=>{const me=!q.current&&!le;(v.value!==void 0&&v.value===B||me)&&H(ce)},[v.value]),Be=n==="popper"?Hm:eN,Re=Be===Hm?{side:o,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:g,hideWhenDetached:m,avoidCollisions:x}:{};return u.jsx(QA,{scope:r,content:_,viewport:S,onViewportChange:A,itemRefCallback:ee,selectedItem:P,onItemLeave:se,itemTextRefCallback:he,focusSelectedItem:X,selectedItemText:F,position:n,isPositioned:N,searchRef:M,children:u.jsx(gy,{as:uF,allowPinchZoom:!0,children:u.jsx(my,{asChild:!0,trapped:v.open,onMountAutoFocus:ce=>{ce.preventDefault()},onUnmountAutoFocus:Ie(i,ce=>{var B;(B=v.trigger)==null||B.focus({preventScroll:!0}),ce.preventDefault()}),children:u.jsx(Sd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:ce=>ce.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:u.jsx(Be,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:ce=>ce.preventDefault(),...y,...Re,onPlaced:()=>O(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:Ie(y.onKeyDown,ce=>{const B=ce.ctrlKey||ce.altKey||ce.metaKey;if(ce.key==="Tab"&&ce.preventDefault(),!B&&ce.key.length===1&&$(ce.key),["ArrowUp","ArrowDown","Home","End"].includes(ce.key)){let me=L().filter(de=>!de.disabled).map(de=>de.ref.current);if(["ArrowUp","End"].includes(ce.key)&&(me=me.slice().reverse()),["ArrowUp","ArrowDown"].includes(ce.key)){const de=ce.target,Ae=me.indexOf(de);me=me.slice(Ae+1)}setTimeout(()=>Q(me)),ce.preventDefault()}})})})})})})});JA.displayName=cF;var dF="SelectItemAlignedPosition",eN=b.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...i}=t,s=Ca(_o,r),a=Sa(_o,r),[o,l]=b.useState(null),[c,d]=b.useState(null),f=ut(e,E=>d(E)),h=Vp(r),p=b.useRef(!1),g=b.useRef(!0),{viewport:m,selectedItem:x,selectedItemText:y,focusSelectedItem:v}=a,_=b.useCallback(()=>{if(s.trigger&&s.valueNode&&o&&c&&m&&x&&y){const E=s.trigger.getBoundingClientRect(),P=c.getBoundingClientRect(),j=s.valueNode.getBoundingClientRect(),F=y.getBoundingClientRect();if(s.dir!=="rtl"){const de=F.left-P.left,Ae=j.left-de,nt=E.left-Ae,Ct=E.width+nt,Ir=Math.max(Ct,P.width),Fn=window.innerWidth-$n,tr=T2(Ae,[$n,Math.max($n,Fn-Ir)]);o.style.minWidth=Ct+"px",o.style.left=tr+"px"}else{const de=P.right-F.right,Ae=window.innerWidth-j.right-de,nt=window.innerWidth-E.right-Ae,Ct=E.width+nt,Ir=Math.max(Ct,P.width),Fn=window.innerWidth-$n,tr=T2(Ae,[$n,Math.max($n,Fn-Ir)]);o.style.minWidth=Ct+"px",o.style.right=tr+"px"}const H=h(),L=window.innerHeight-$n*2,N=m.scrollHeight,O=window.getComputedStyle(c),q=parseInt(O.borderTopWidth,10),Q=parseInt(O.paddingTop,10),X=parseInt(O.borderBottomWidth,10),D=parseInt(O.paddingBottom,10),k=q+Q+N+D+X,M=Math.min(x.offsetHeight*5,k),$=window.getComputedStyle(m),ee=parseInt($.paddingTop,10),se=parseInt($.paddingBottom,10),he=E.top+E.height/2-$n,Be=L-he,Re=x.offsetHeight/2,ce=x.offsetTop+Re,B=q+Q+ce,le=k-B;if(B<=he){const de=H.length>0&&x===H[H.length-1].ref.current;o.style.bottom="0px";const Ae=c.clientHeight-m.offsetTop-m.offsetHeight,nt=Math.max(Be,Re+(de?se:0)+Ae+X),Ct=B+nt;o.style.height=Ct+"px"}else{const de=H.length>0&&x===H[0].ref.current;o.style.top="0px";const nt=Math.max(he,q+m.offsetTop+(de?ee:0)+Re)+le;o.style.height=nt+"px",m.scrollTop=B-he+m.offsetTop}o.style.margin=`${$n}px 0`,o.style.minHeight=M+"px",o.style.maxHeight=L+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[h,s.trigger,s.valueNode,o,c,m,x,y,s.dir,n]);yr(()=>_(),[_]);const[w,S]=b.useState();yr(()=>{c&&S(window.getComputedStyle(c).zIndex)},[c]);const A=b.useCallback(E=>{E&&g.current===!0&&(_(),v==null||v(),g.current=!1)},[_,v]);return u.jsx(hF,{scope:r,contentWrapper:o,shouldExpandOnScrollRef:p,onScrollButtonChange:A,children:u.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:w},children:u.jsx(Ve.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});eN.displayName=dF;var fF="SelectPopperPosition",Hm=b.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=$n,...s}=t,a=zp(r);return u.jsx(W3,{...a,...s,ref:e,align:n,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Hm.displayName=fF;var[hF,vy]=wc(_o,{}),Wm="SelectViewport",tN=b.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...i}=t,s=Sa(Wm,r),a=vy(Wm,r),o=ut(e,s.onViewportChange),l=b.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),u.jsx($p.Slot,{scope:r,children:u.jsx(Ve.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Ie(i.onScroll,c=>{const d=c.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=a;if(h!=null&&h.current&&f){const p=Math.abs(l.current-d.scrollTop);if(p>0){const g=window.innerHeight-$n*2,m=parseFloat(f.style.minHeight),x=parseFloat(f.style.height),y=Math.max(m,x);if(y<g){const v=y+p,_=Math.min(g,v),w=v-_;f.style.height=_+"px",f.style.bottom==="0px"&&(d.scrollTop=w>0?w:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});tN.displayName=Wm;var rN="SelectGroup",[pF,mF]=wc(rN),gF=b.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=cl();return u.jsx(pF,{scope:r,id:i,children:u.jsx(Ve.div,{role:"group","aria-labelledby":i,...n,ref:e})})});gF.displayName=rN;var nN="SelectLabel",iN=b.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=mF(nN,r);return u.jsx(Ve.div,{id:i.id,...n,ref:e})});iN.displayName=nN;var Bh="SelectItem",[vF,sN]=wc(Bh),aN=b.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:s,...a}=t,o=Ca(Bh,r),l=Sa(Bh,r),c=o.value===n,[d,f]=b.useState(s??""),[h,p]=b.useState(!1),g=ut(e,v=>{var _;return(_=l.itemRefCallback)==null?void 0:_.call(l,v,n,i)}),m=cl(),x=b.useRef("touch"),y=()=>{i||(o.onValueChange(n),o.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return u.jsx(vF,{scope:r,value:n,disabled:i,textId:m,isSelected:c,onItemTextChange:b.useCallback(v=>{f(_=>_||((v==null?void 0:v.textContent)??"").trim())},[]),children:u.jsx($p.ItemSlot,{scope:r,value:n,disabled:i,textValue:d,children:u.jsx(Ve.div,{role:"option","aria-labelledby":m,"data-highlighted":h?"":void 0,"aria-selected":c&&h,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:g,onFocus:Ie(a.onFocus,()=>p(!0)),onBlur:Ie(a.onBlur,()=>p(!1)),onClick:Ie(a.onClick,()=>{x.current!=="mouse"&&y()}),onPointerUp:Ie(a.onPointerUp,()=>{x.current==="mouse"&&y()}),onPointerDown:Ie(a.onPointerDown,v=>{x.current=v.pointerType}),onPointerMove:Ie(a.onPointerMove,v=>{var _;x.current=v.pointerType,i?(_=l.onItemLeave)==null||_.call(l):x.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ie(a.onPointerLeave,v=>{var _;v.currentTarget===document.activeElement&&((_=l.onItemLeave)==null||_.call(l))}),onKeyDown:Ie(a.onKeyDown,v=>{var w;((w=l.searchRef)==null?void 0:w.current)!==""&&v.key===" "||(rF.includes(v.key)&&y(),v.key===" "&&v.preventDefault())})})})})});aN.displayName=Bh;var qc="SelectItemText",oN=b.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,...s}=t,a=Ca(qc,r),o=Sa(qc,r),l=sN(qc,r),c=aF(qc,r),[d,f]=b.useState(null),h=ut(e,y=>f(y),l.onItemTextChange,y=>{var v;return(v=o.itemTextRefCallback)==null?void 0:v.call(o,y,l.value,l.disabled)}),p=d==null?void 0:d.textContent,g=b.useMemo(()=>u.jsx("option",{value:l.value,disabled:l.disabled,children:p},l.value),[l.disabled,l.value,p]),{onNativeOptionAdd:m,onNativeOptionRemove:x}=c;return yr(()=>(m(g),()=>x(g)),[m,x,g]),u.jsxs(u.Fragment,{children:[u.jsx(Ve.span,{id:l.textId,...s,ref:h}),l.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Ao.createPortal(s.children,a.valueNode):null]})});oN.displayName=qc;var lN="SelectItemIndicator",cN=b.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return sN(lN,r).isSelected?u.jsx(Ve.span,{"aria-hidden":!0,...n,ref:e}):null});cN.displayName=lN;var Gm="SelectScrollUpButton",uN=b.forwardRef((t,e)=>{const r=Sa(Gm,t.__scopeSelect),n=vy(Gm,t.__scopeSelect),[i,s]=b.useState(!1),a=ut(e,n.onScrollButtonChange);return yr(()=>{if(r.viewport&&r.isPositioned){let o=function(){const c=l.scrollTop>0;s(c)};const l=r.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),i?u.jsx(fN,{...t,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=r;o&&l&&(o.scrollTop=o.scrollTop-l.offsetHeight)}}):null});uN.displayName=Gm;var qm="SelectScrollDownButton",dN=b.forwardRef((t,e)=>{const r=Sa(qm,t.__scopeSelect),n=vy(qm,t.__scopeSelect),[i,s]=b.useState(!1),a=ut(e,n.onScrollButtonChange);return yr(()=>{if(r.viewport&&r.isPositioned){let o=function(){const c=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<c;s(d)};const l=r.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),i?u.jsx(fN,{...t,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=r;o&&l&&(o.scrollTop=o.scrollTop+l.offsetHeight)}}):null});dN.displayName=qm;var fN=b.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=t,s=Sa("SelectScrollButton",r),a=b.useRef(null),o=Vp(r),l=b.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return b.useEffect(()=>()=>l(),[l]),yr(()=>{var d;const c=o().find(f=>f.ref.current===document.activeElement);(d=c==null?void 0:c.ref.current)==null||d.scrollIntoView({block:"nearest"})},[o]),u.jsx(Ve.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Ie(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(n,50))}),onPointerMove:Ie(i.onPointerMove,()=>{var c;(c=s.onItemLeave)==null||c.call(s),a.current===null&&(a.current=window.setInterval(n,50))}),onPointerLeave:Ie(i.onPointerLeave,()=>{l()})})}),yF="SelectSeparator",hN=b.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return u.jsx(Ve.div,{"aria-hidden":!0,...n,ref:e})});hN.displayName=yF;var Xm="SelectArrow",xF=b.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=zp(r),s=Ca(Xm,r),a=Sa(Xm,r);return s.open&&a.position==="popper"?u.jsx(G3,{...i,...n,ref:e}):null});xF.displayName=Xm;var wF="SelectBubbleInput",pN=b.forwardRef(({__scopeSelect:t,value:e,...r},n)=>{const i=b.useRef(null),s=ut(n,i),a=EA(e);return b.useEffect(()=>{const o=i.current;if(!o)return;const l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(a!==e&&d){const f=new Event("change",{bubbles:!0});d.call(o,e),o.dispatchEvent(f)}},[a,e]),u.jsx(Ve.select,{...r,style:{...UE,...r.style},ref:s,defaultValue:e})});pN.displayName=wF;function mN(t){return t===""||t===void 0}function gN(t){const e=hi(t),r=b.useRef(""),n=b.useRef(0),i=b.useCallback(a=>{const o=r.current+a;e(o),function l(c){r.current=c,window.clearTimeout(n.current),c!==""&&(n.current=window.setTimeout(()=>l(""),1e3))}(o)},[e]),s=b.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return b.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,s]}function vN(t,e,r){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=r?t.indexOf(r):-1;let a=_F(t,Math.max(s,0));i.length===1&&(a=a.filter(c=>c!==r));const l=a.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==r?l:void 0}function _F(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var bF=HA,yN=GA,CF=XA,SF=KA,EF=YA,xN=ZA,AF=tN,wN=iN,_N=aN,NF=oN,TF=cN,bN=uN,CN=dN,SN=hN;const An=bF,Nn=CF,un=b.forwardRef(({className:t,children:e,...r},n)=>u.jsxs(yN,{ref:n,className:Ee("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,u.jsx(SF,{asChild:!0,children:u.jsx(u3,{className:"h-4 w-4 opacity-50"})})]}));un.displayName=yN.displayName;const EN=b.forwardRef(({className:t,...e},r)=>u.jsx(bN,{ref:r,className:Ee("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(aO,{className:"h-4 w-4"})}));EN.displayName=bN.displayName;const AN=b.forwardRef(({className:t,...e},r)=>u.jsx(CN,{ref:r,className:Ee("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(u3,{className:"h-4 w-4"})}));AN.displayName=CN.displayName;const dn=b.forwardRef(({className:t,children:e,position:r="popper",...n},i)=>u.jsx(EF,{children:u.jsxs(xN,{ref:i,className:Ee("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[u.jsx(EN,{}),u.jsx(AF,{className:Ee("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),u.jsx(AN,{})]})}));dn.displayName=xN.displayName;const IF=b.forwardRef(({className:t,...e},r)=>u.jsx(wN,{ref:r,className:Ee("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));IF.displayName=wN.displayName;const xe=b.forwardRef(({className:t,children:e,...r},n)=>u.jsxs(_N,{ref:n,className:Ee("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(TF,{children:u.jsx(c3,{className:"h-4 w-4"})})}),u.jsx(NF,{children:e})]}));xe.displayName=_N.displayName;const PF=b.forwardRef(({className:t,...e},r)=>u.jsx(SN,{ref:r,className:Ee("-mx-1 my-1 h-px bg-muted",t),...e}));PF.displayName=SN.displayName;const OF=Ad("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Vt({className:t,variant:e,...r}){return u.jsx("div",{className:Ee(OF({variant:e}),t),...r})}function RF(t){const e=kF(t),r=b.forwardRef((n,i)=>{const{children:s,...a}=n,o=b.Children.toArray(s),l=o.find(jF);if(l){const c=l.props.children,d=o.map(f=>f===l?b.Children.count(c)>1?b.Children.only(null):b.isValidElement(c)?c.props.children:null:f);return u.jsx(e,{...a,ref:i,children:b.isValidElement(c)?b.cloneElement(c,void 0,d):null})}return u.jsx(e,{...a,ref:i,children:s})});return r.displayName=`${t}.Slot`,r}function kF(t){const e=b.forwardRef((r,n)=>{const{children:i,...s}=r;if(b.isValidElement(i)){const a=MF(i),o=FF(s,i.props);return i.type!==b.Fragment&&(o.ref=n?pc(n,a):a),b.cloneElement(i,o)}return b.Children.count(i)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var DF=Symbol("radix.slottable");function jF(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===DF}function FF(t,e){const r={...e};for(const n in e){const i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...o)=>{const l=s(...o);return i(...o),l}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function MF(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var Hp="Dialog",[NN,TN]=ba(Hp),[LF,yi]=NN(Hp),IN=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:i,onOpenChange:s,modal:a=!0}=t,o=b.useRef(null),l=b.useRef(null),[c,d]=ju({prop:n,defaultProp:i??!1,onChange:s,caller:Hp});return u.jsx(LF,{scope:e,triggerRef:o,contentRef:l,contentId:cl(),titleId:cl(),descriptionId:cl(),open:c,onOpenChange:d,onOpenToggle:b.useCallback(()=>d(f=>!f),[d]),modal:a,children:r})};IN.displayName=Hp;var PN="DialogTrigger",ON=b.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=yi(PN,r),s=ut(e,i.triggerRef);return u.jsx(Ve.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":wy(i.open),...n,ref:s,onClick:Ie(t.onClick,i.onOpenToggle)})});ON.displayName=PN;var yy="DialogPortal",[BF,RN]=NN(yy,{forceMount:void 0}),kN=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:i}=t,s=yi(yy,e);return u.jsx(BF,{scope:e,forceMount:r,children:b.Children.map(n,a=>u.jsx(No,{present:r||s.open,children:u.jsx(Ap,{asChild:!0,container:i,children:a})}))})};kN.displayName=yy;var Uh="DialogOverlay",DN=b.forwardRef((t,e)=>{const r=RN(Uh,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,s=yi(Uh,t.__scopeDialog);return s.modal?u.jsx(No,{present:n||s.open,children:u.jsx($F,{...i,ref:e})}):null});DN.displayName=Uh;var UF=RF("DialogOverlay.RemoveScroll"),$F=b.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=yi(Uh,r);return u.jsx(gy,{as:UF,allowPinchZoom:!0,shards:[i.contentRef],children:u.jsx(Ve.div,{"data-state":wy(i.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),bo="DialogContent",jN=b.forwardRef((t,e)=>{const r=RN(bo,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,s=yi(bo,t.__scopeDialog);return u.jsx(No,{present:n||s.open,children:s.modal?u.jsx(VF,{...i,ref:e}):u.jsx(zF,{...i,ref:e})})});jN.displayName=bo;var VF=b.forwardRef((t,e)=>{const r=yi(bo,t.__scopeDialog),n=b.useRef(null),i=ut(e,r.contentRef,n);return b.useEffect(()=>{const s=n.current;if(s)return FA(s)},[]),u.jsx(FN,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ie(t.onCloseAutoFocus,s=>{var a;s.preventDefault(),(a=r.triggerRef.current)==null||a.focus()}),onPointerDownOutside:Ie(t.onPointerDownOutside,s=>{const a=s.detail.originalEvent,o=a.button===0&&a.ctrlKey===!0;(a.button===2||o)&&s.preventDefault()}),onFocusOutside:Ie(t.onFocusOutside,s=>s.preventDefault())})}),zF=b.forwardRef((t,e)=>{const r=yi(bo,t.__scopeDialog),n=b.useRef(!1),i=b.useRef(!1);return u.jsx(FN,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var a,o;(a=t.onCloseAutoFocus)==null||a.call(t,s),s.defaultPrevented||(n.current||(o=r.triggerRef.current)==null||o.focus(),s.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:s=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=s.target;((c=r.triggerRef.current)==null?void 0:c.contains(a))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),FN=b.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:s,...a}=t,o=yi(bo,r),l=b.useRef(null),c=ut(e,l);return kA(),u.jsxs(u.Fragment,{children:[u.jsx(my,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:s,children:u.jsx(Sd,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":wy(o.open),...a,ref:c,onDismiss:()=>o.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(WF,{titleId:o.titleId}),u.jsx(qF,{contentRef:l,descriptionId:o.descriptionId})]})]})}),xy="DialogTitle",MN=b.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=yi(xy,r);return u.jsx(Ve.h2,{id:i.titleId,...n,ref:e})});MN.displayName=xy;var LN="DialogDescription",BN=b.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=yi(LN,r);return u.jsx(Ve.p,{id:i.descriptionId,...n,ref:e})});BN.displayName=LN;var UN="DialogClose",$N=b.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=yi(UN,r);return u.jsx(Ve.button,{type:"button",...n,ref:e,onClick:Ie(t.onClick,()=>i.onOpenChange(!1))})});$N.displayName=UN;function wy(t){return t?"open":"closed"}var VN="DialogTitleWarning",[HF,zN]=o5(VN,{contentName:bo,titleName:xy,docsSlug:"dialog"}),WF=({titleId:t})=>{const e=zN(VN),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return b.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},GF="DialogDescriptionWarning",qF=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${zN(GF).contentName}}.`;return b.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},HN=IN,WN=ON,GN=kN,_y=DN,by=jN,Cy=MN,Sy=BN,Ey=$N;const lo=HN,$h=WN,XF=GN,qN=b.forwardRef(({className:t,...e},r)=>u.jsx(_y,{ref:r,className:Ee("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));qN.displayName=_y.displayName;const oa=b.forwardRef(({className:t,children:e,...r},n)=>u.jsxs(XF,{children:[u.jsx(qN,{}),u.jsxs(by,{ref:n,className:Ee("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,u.jsxs(Ey,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[u.jsx(d3,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));oa.displayName=by.displayName;const la=({className:t,...e})=>u.jsx("div",{className:Ee("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});la.displayName="DialogHeader";const ca=b.forwardRef(({className:t,...e},r)=>u.jsx(Cy,{ref:r,className:Ee("text-lg font-semibold leading-none tracking-tight",t),...e}));ca.displayName=Cy.displayName;const XN=b.forwardRef(({className:t,...e},r)=>u.jsx(Sy,{ref:r,className:Ee("text-sm text-muted-foreground",t),...e}));XN.displayName=Sy.displayName;var KF=Symbol("radix.slottable");function YF(t){const e=({children:r})=>u.jsx(u.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=KF,e}var KN="AlertDialog",[ZF]=ba(KN,[TN]),gs=TN(),YN=t=>{const{__scopeAlertDialog:e,...r}=t,n=gs(e);return u.jsx(HN,{...n,...r,modal:!0})};YN.displayName=KN;var QF="AlertDialogTrigger",ZN=b.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=gs(r);return u.jsx(WN,{...i,...n,ref:e})});ZN.displayName=QF;var JF="AlertDialogPortal",QN=t=>{const{__scopeAlertDialog:e,...r}=t,n=gs(e);return u.jsx(GN,{...n,...r})};QN.displayName=JF;var e7="AlertDialogOverlay",JN=b.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=gs(r);return u.jsx(_y,{...i,...n,ref:e})});JN.displayName=e7;var fl="AlertDialogContent",[t7,r7]=ZF(fl),n7=YF("AlertDialogContent"),e4=b.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:n,...i}=t,s=gs(r),a=b.useRef(null),o=ut(e,a),l=b.useRef(null);return u.jsx(HF,{contentName:fl,titleName:t4,docsSlug:"alert-dialog",children:u.jsx(t7,{scope:r,cancelRef:l,children:u.jsxs(by,{role:"alertdialog",...s,...i,ref:o,onOpenAutoFocus:Ie(i.onOpenAutoFocus,c=>{var d;c.preventDefault(),(d=l.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[u.jsx(n7,{children:n}),u.jsx(s7,{contentRef:a})]})})})});e4.displayName=fl;var t4="AlertDialogTitle",r4=b.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=gs(r);return u.jsx(Cy,{...i,...n,ref:e})});r4.displayName=t4;var n4="AlertDialogDescription",i4=b.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=gs(r);return u.jsx(Sy,{...i,...n,ref:e})});i4.displayName=n4;var i7="AlertDialogAction",s4=b.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=gs(r);return u.jsx(Ey,{...i,...n,ref:e})});s4.displayName=i7;var a4="AlertDialogCancel",o4=b.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,{cancelRef:i}=r7(a4,r),s=gs(r),a=ut(e,i);return u.jsx(Ey,{...s,...n,ref:a})});o4.displayName=a4;var s7=({contentRef:t})=>{const e=`\`${fl}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${fl}\` by passing a \`${n4}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${fl}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return b.useEffect(()=>{var n;document.getElementById((n=t.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},a7=YN,o7=ZN,l7=QN,l4=JN,c4=e4,u4=s4,d4=o4,f4=r4,h4=i4;const Ay=a7,Ny=o7,c7=l7,p4=b.forwardRef(({className:t,...e},r)=>u.jsx(l4,{className:Ee("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));p4.displayName=l4.displayName;const Wp=b.forwardRef(({className:t,...e},r)=>u.jsxs(c7,{children:[u.jsx(p4,{}),u.jsx(c4,{ref:r,className:Ee("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));Wp.displayName=c4.displayName;const Gp=({className:t,...e})=>u.jsx("div",{className:Ee("flex flex-col space-y-2 text-center sm:text-left",t),...e});Gp.displayName="AlertDialogHeader";const qp=({className:t,...e})=>u.jsx("div",{className:Ee("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});qp.displayName="AlertDialogFooter";const Xp=b.forwardRef(({className:t,...e},r)=>u.jsx(f4,{ref:r,className:Ee("text-lg font-semibold",t),...e}));Xp.displayName=f4.displayName;const Kp=b.forwardRef(({className:t,...e},r)=>u.jsx(h4,{ref:r,className:Ee("text-sm text-muted-foreground",t),...e}));Kp.displayName=h4.displayName;const Yp=b.forwardRef(({className:t,...e},r)=>u.jsx(u4,{ref:r,className:Ee(dy(),t),...e}));Yp.displayName=u4.displayName;const Zp=b.forwardRef(({className:t,...e},r)=>u.jsx(d4,{ref:r,className:Ee(dy({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));Zp.displayName=d4.displayName;function Ft(t){return/^401: .*Unauthorized/.test(t.message)}function u7(t,e,r){const n=[];return t.forEach(i=>typeof i!="string"?n.push(i):e[Symbol.split](i).forEach((s,a,o)=>{s!==""&&n.push(s),a<o.length-1&&n.push(r)})),n}/**
 * Takes a string with placeholder variables like `%{smart_count} file selected`
 * and replaces it with values from options `{smart_count: 5}`
 *
 * @license https://github.com/airbnb/polyglot.js/blob/master/LICENSE
 * taken from https://github.com/airbnb/polyglot.js/blob/master/lib/polyglot.js#L299
 *
 * @param phrase that needs interpolation, with placeholders
 * @param options with values that will be used to replace placeholders
 */function B2(t,e){const r=/\$/g,n="$$$$";let i=[t];if(e==null)return i;for(const s of Object.keys(e))if(s!=="_"){let a=e[s];typeof a=="string"&&(a=r[Symbol.replace](a,n)),i=u7(i,new RegExp(`%\\{${s}\\}`,"g"),a)}return i}const d7=t=>{throw new Error(`missing string: ${t}`)};var Zu,Qu,Km;class m4{constructor(e,{onMissingKey:r=d7}={}){z(this,Qu);W(this,"locale");z(this,Zu);this.locale={strings:{},pluralize(n){return n===1?0:1}},Array.isArray(e)?e.forEach(Z(this,Qu,Km),this):Z(this,Qu,Km).call(this,e),G(this,Zu,r)}translate(e,r){return this.translateArray(e,r).join("")}translateArray(e,r){let n=this.locale.strings[e];if(n==null&&(C(this,Zu).call(this,e),n=e),typeof n=="object"){if(r&&typeof r.smart_count<"u"){const s=this.locale.pluralize(r.smart_count);return B2(n[s],r)}throw new Error("Attempted to use a string with plural forms, but no value was given for %{smart_count}")}if(typeof n!="string")throw new Error("string was not a string");return B2(n,r)}}Zu=new WeakMap,Qu=new WeakSet,Km=function(e){if(!(e!=null&&e.strings))return;const r=this.locale;Object.assign(this.locale,{strings:{...r.strings,...e.strings},pluralize:e.pluralize||r.pluralize})};class g4{constructor(e,r){W(this,"uppy");W(this,"opts");W(this,"id");W(this,"defaultLocale");W(this,"i18n");W(this,"i18nArray");W(this,"type");W(this,"VERSION");this.uppy=e,this.opts=r??{}}getPluginState(){const{plugins:e}=this.uppy.getState();return(e==null?void 0:e[this.id])||{}}setPluginState(e){const{plugins:r}=this.uppy.getState();this.uppy.setState({plugins:{...r,[this.id]:{...r[this.id],...e}}})}setOptions(e){this.opts={...this.opts,...e},this.setPluginState(void 0),this.i18nInit()}i18nInit(){const e=new m4([this.defaultLocale,this.uppy.locale,this.opts.locale]);this.i18n=e.translate.bind(e),this.i18nArray=e.translateArray.bind(e),this.setPluginState(void 0)}addTarget(e){throw new Error("Extend the addTarget method to add your plugin to another plugin's target")}install(){}uninstall(){}update(e){}afterUpdate(){}}function G0(t){return t<10?`0${t}`:t.toString()}function Hf(){const t=new Date,e=G0(t.getHours()),r=G0(t.getMinutes()),n=G0(t.getSeconds());return`${e}:${r}:${n}`}const f7={debug:()=>{},warn:()=>{},error:(...t)=>console.error(`[Uppy] [${Hf()}]`,...t)},h7={debug:(...t)=>console.debug(`[Uppy] [${Hf()}]`,...t),warn:(...t)=>console.warn(`[Uppy] [${Hf()}]`,...t),error:(...t)=>console.error(`[Uppy] [${Hf()}]`,...t)};function v4(t){return typeof t!="object"||t===null||!("nodeType"in t)?!1:t.nodeType===Node.ELEMENT_NODE}function p7(t,e=document){return typeof t=="string"?e.querySelector(t):v4(t)?t:null}function y4(t){for(;t&&!t.dir;)t=t.parentNode;return t==null?void 0:t.dir}var Pd,je,x4,Ra,U2,w4,_4,b4,Ty,Ym,Zm,$u={},C4=[],m7=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Od=Array.isArray;function Di(t,e){for(var r in e)t[r]=e[r];return t}function Iy(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Vu(t,e,r){var n,i,s,a={};for(s in e)s=="key"?n=e[s]:s=="ref"?i=e[s]:a[s]=e[s];if(arguments.length>2&&(a.children=arguments.length>3?Pd.call(arguments,2):r),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)a[s]===void 0&&(a[s]=t.defaultProps[s]);return mu(t,a,n,i,null)}function mu(t,e,r,n,i){var s={type:t,props:e,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:i??++x4,__i:-1,__u:0};return i==null&&je.vnode!=null&&je.vnode(s),s}function g7(){return{current:null}}function ci(t){return t.children}function rn(t,e){this.props=t,this.context=e}function ac(t,e){if(e==null)return t.__?ac(t.__,t.__i+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?ac(t):null}function S4(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return S4(t)}}function $2(t){(!t.__d&&(t.__d=!0)&&Ra.push(t)&&!Vh.__r++||U2!=je.debounceRendering)&&((U2=je.debounceRendering)||w4)(Vh)}function Vh(){for(var t,e,r,n,i,s,a,o=1;Ra.length;)Ra.length>o&&Ra.sort(_4),t=Ra.shift(),o=Ra.length,t.__d&&(r=void 0,n=void 0,i=(n=(e=t).__v).__e,s=[],a=[],e.__P&&((r=Di({},n)).__v=n.__v+1,je.vnode&&je.vnode(r),Py(e.__P,r,n,e.__n,e.__P.namespaceURI,32&n.__u?[i]:null,s,i??ac(n),!!(32&n.__u),a),r.__v=n.__v,r.__.__k[r.__i]=r,N4(s,r,a),n.__e=n.__=null,r.__e!=i&&S4(r)));Vh.__r=0}function E4(t,e,r,n,i,s,a,o,l,c,d){var f,h,p,g,m,x,y,v=n&&n.__k||C4,_=e.length;for(l=v7(r,e,v,l,_),f=0;f<_;f++)(p=r.__k[f])!=null&&(h=p.__i==-1?$u:v[p.__i]||$u,p.__i=f,x=Py(t,p,h,i,s,a,o,l,c,d),g=p.__e,p.ref&&h.ref!=p.ref&&(h.ref&&Oy(h.ref,null,p),d.push(p.ref,p.__c||g,p)),m==null&&g!=null&&(m=g),(y=!!(4&p.__u))||h.__k===p.__k?l=A4(p,l,t,y):typeof p.type=="function"&&x!==void 0?l=x:g&&(l=g.nextSibling),p.__u&=-7);return r.__e=m,l}function v7(t,e,r,n,i){var s,a,o,l,c,d=r.length,f=d,h=0;for(t.__k=new Array(i),s=0;s<i;s++)(a=e[s])!=null&&typeof a!="boolean"&&typeof a!="function"?(typeof a=="string"||typeof a=="number"||typeof a=="bigint"||a.constructor==String?a=t.__k[s]=mu(null,a,null,null,null):Od(a)?a=t.__k[s]=mu(ci,{children:a},null,null,null):a.constructor==null&&a.__b>0?a=t.__k[s]=mu(a.type,a.props,a.key,a.ref?a.ref:null,a.__v):t.__k[s]=a,l=s+h,a.__=t,a.__b=t.__b+1,(c=a.__i=y7(a,r,l,f))!=-1&&(f--,(o=r[c])&&(o.__u|=2)),o==null||o.__v==null?(c==-1&&(i>d?h--:i<d&&h++),typeof a.type!="function"&&(a.__u|=4)):c!=l&&(c==l-1?h--:c==l+1?h++:(c>l?h--:h++,a.__u|=4))):t.__k[s]=null;if(f)for(s=0;s<d;s++)(o=r[s])!=null&&!(2&o.__u)&&(o.__e==n&&(n=ac(o)),I4(o,o));return n}function A4(t,e,r,n){var i,s;if(typeof t.type=="function"){for(i=t.__k,s=0;i&&s<i.length;s++)i[s]&&(i[s].__=t,e=A4(i[s],e,r,n));return e}t.__e!=e&&(n&&(e&&t.type&&!e.parentNode&&(e=ac(t)),r.insertBefore(t.__e,e||null)),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function ti(t,e){return e=e||[],t==null||typeof t=="boolean"||(Od(t)?t.some(function(r){ti(r,e)}):e.push(t)),e}function y7(t,e,r,n){var i,s,a,o=t.key,l=t.type,c=e[r],d=c!=null&&(2&c.__u)==0;if(c===null&&o==null||d&&o==c.key&&l==c.type)return r;if(n>(d?1:0)){for(i=r-1,s=r+1;i>=0||s<e.length;)if((c=e[a=i>=0?i--:s++])!=null&&!(2&c.__u)&&o==c.key&&l==c.type)return a}return-1}function V2(t,e,r){e[0]=="-"?t.setProperty(e,r??""):t[e]=r==null?"":typeof r!="number"||m7.test(e)?r:r+"px"}function cf(t,e,r,n,i){var s,a;e:if(e=="style")if(typeof r=="string")t.style.cssText=r;else{if(typeof n=="string"&&(t.style.cssText=n=""),n)for(e in n)r&&e in r||V2(t.style,e,"");if(r)for(e in r)n&&r[e]==n[e]||V2(t.style,e,r[e])}else if(e[0]=="o"&&e[1]=="n")s=e!=(e=e.replace(b4,"$1")),a=e.toLowerCase(),e=a in t||e=="onFocusOut"||e=="onFocusIn"?a.slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=r,r?n?r.u=n.u:(r.u=Ty,t.addEventListener(e,s?Zm:Ym,s)):t.removeEventListener(e,s?Zm:Ym,s);else{if(i=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&e[4]!="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&r==1?"":r))}}function z2(t){return function(e){if(this.l){var r=this.l[e.type+t];if(e.t==null)e.t=Ty++;else if(e.t<r.u)return;return r(je.event?je.event(e):e)}}}function Py(t,e,r,n,i,s,a,o,l,c){var d,f,h,p,g,m,x,y,v,_,w,S,A,E,P,j,F,H=e.type;if(e.constructor!=null)return null;128&r.__u&&(l=!!(32&r.__u),s=[o=e.__e=r.__e]),(d=je.__b)&&d(e);e:if(typeof H=="function")try{if(y=e.props,v="prototype"in H&&H.prototype.render,_=(d=H.contextType)&&n[d.__c],w=d?_?_.props.value:d.__:n,r.__c?x=(f=e.__c=r.__c).__=f.__E:(v?e.__c=f=new H(y,w):(e.__c=f=new rn(y,w),f.constructor=H,f.render=w7),_&&_.sub(f),f.state||(f.state={}),f.__n=n,h=f.__d=!0,f.__h=[],f._sb=[]),v&&f.__s==null&&(f.__s=f.state),v&&H.getDerivedStateFromProps!=null&&(f.__s==f.state&&(f.__s=Di({},f.__s)),Di(f.__s,H.getDerivedStateFromProps(y,f.__s))),p=f.props,g=f.state,f.__v=e,h)v&&H.getDerivedStateFromProps==null&&f.componentWillMount!=null&&f.componentWillMount(),v&&f.componentDidMount!=null&&f.__h.push(f.componentDidMount);else{if(v&&H.getDerivedStateFromProps==null&&y!==p&&f.componentWillReceiveProps!=null&&f.componentWillReceiveProps(y,w),e.__v==r.__v||!f.__e&&f.shouldComponentUpdate!=null&&f.shouldComponentUpdate(y,f.__s,w)===!1){for(e.__v!=r.__v&&(f.props=y,f.state=f.__s,f.__d=!1),e.__e=r.__e,e.__k=r.__k,e.__k.some(function(L){L&&(L.__=e)}),S=0;S<f._sb.length;S++)f.__h.push(f._sb[S]);f._sb=[],f.__h.length&&a.push(f);break e}f.componentWillUpdate!=null&&f.componentWillUpdate(y,f.__s,w),v&&f.componentDidUpdate!=null&&f.__h.push(function(){f.componentDidUpdate(p,g,m)})}if(f.context=w,f.props=y,f.__P=t,f.__e=!1,A=je.__r,E=0,v){for(f.state=f.__s,f.__d=!1,A&&A(e),d=f.render(f.props,f.state,f.context),P=0;P<f._sb.length;P++)f.__h.push(f._sb[P]);f._sb=[]}else do f.__d=!1,A&&A(e),d=f.render(f.props,f.state,f.context),f.state=f.__s;while(f.__d&&++E<25);f.state=f.__s,f.getChildContext!=null&&(n=Di(Di({},n),f.getChildContext())),v&&!h&&f.getSnapshotBeforeUpdate!=null&&(m=f.getSnapshotBeforeUpdate(p,g)),j=d,d!=null&&d.type===ci&&d.key==null&&(j=T4(d.props.children)),o=E4(t,Od(j)?j:[j],e,r,n,i,s,a,o,l,c),f.base=e.__e,e.__u&=-161,f.__h.length&&a.push(f),x&&(f.__E=f.__=null)}catch(L){if(e.__v=null,l||s!=null)if(L.then){for(e.__u|=l?160:128;o&&o.nodeType==8&&o.nextSibling;)o=o.nextSibling;s[s.indexOf(o)]=null,e.__e=o}else{for(F=s.length;F--;)Iy(s[F]);Qm(e)}else e.__e=r.__e,e.__k=r.__k,L.then||Qm(e);je.__e(L,e,r)}else s==null&&e.__v==r.__v?(e.__k=r.__k,e.__e=r.__e):o=e.__e=x7(r.__e,e,r,n,i,s,a,l,c);return(d=je.diffed)&&d(e),128&e.__u?void 0:o}function Qm(t){t&&t.__c&&(t.__c.__e=!0),t&&t.__k&&t.__k.forEach(Qm)}function N4(t,e,r){for(var n=0;n<r.length;n++)Oy(r[n],r[++n],r[++n]);je.__c&&je.__c(e,t),t.some(function(i){try{t=i.__h,i.__h=[],t.some(function(s){s.call(i)})}catch(s){je.__e(s,i.__v)}})}function T4(t){return typeof t!="object"||t==null||t.__b&&t.__b>0?t:Od(t)?t.map(T4):Di({},t)}function x7(t,e,r,n,i,s,a,o,l){var c,d,f,h,p,g,m,x=r.props||$u,y=e.props,v=e.type;if(v=="svg"?i="http://www.w3.org/2000/svg":v=="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),s!=null){for(c=0;c<s.length;c++)if((p=s[c])&&"setAttribute"in p==!!v&&(v?p.localName==v:p.nodeType==3)){t=p,s[c]=null;break}}if(t==null){if(v==null)return document.createTextNode(y);t=document.createElementNS(i,v,y.is&&y),o&&(je.__m&&je.__m(e,s),o=!1),s=null}if(v==null)x===y||o&&t.data==y||(t.data=y);else{if(s=s&&Pd.call(t.childNodes),!o&&s!=null)for(x={},c=0;c<t.attributes.length;c++)x[(p=t.attributes[c]).name]=p.value;for(c in x)if(p=x[c],c!="children"){if(c=="dangerouslySetInnerHTML")f=p;else if(!(c in y)){if(c=="value"&&"defaultValue"in y||c=="checked"&&"defaultChecked"in y)continue;cf(t,c,null,p,i)}}for(c in y)p=y[c],c=="children"?h=p:c=="dangerouslySetInnerHTML"?d=p:c=="value"?g=p:c=="checked"?m=p:o&&typeof p!="function"||x[c]===p||cf(t,c,p,x[c],i);if(d)o||f&&(d.__html==f.__html||d.__html==t.innerHTML)||(t.innerHTML=d.__html),e.__k=[];else if(f&&(t.innerHTML=""),E4(e.type=="template"?t.content:t,Od(h)?h:[h],e,r,n,v=="foreignObject"?"http://www.w3.org/1999/xhtml":i,s,a,s?s[0]:r.__k&&ac(r,0),o,l),s!=null)for(c=s.length;c--;)Iy(s[c]);o||(c="value",v=="progress"&&g==null?t.removeAttribute("value"):g!=null&&(g!==t[c]||v=="progress"&&!g||v=="option"&&g!=x[c])&&cf(t,c,g,x[c],i),c="checked",m!=null&&m!=t[c]&&cf(t,c,m,x[c],i))}return t}function Oy(t,e,r){try{if(typeof t=="function"){var n=typeof t.__u=="function";n&&t.__u(),n&&e==null||(t.__u=t(e))}else t.current=e}catch(i){je.__e(i,r)}}function I4(t,e,r){var n,i;if(je.unmount&&je.unmount(t),(n=t.ref)&&(n.current&&n.current!=t.__e||Oy(n,null,e)),(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(s){je.__e(s,e)}n.base=n.__P=null}if(n=t.__k)for(i=0;i<n.length;i++)n[i]&&I4(n[i],e,r||typeof t.type!="function");r||Iy(t.__e),t.__c=t.__=t.__e=void 0}function w7(t,e,r){return this.constructor(t,r)}function _7(t,e,r){var n,i,s,a;e==document&&(e=document.documentElement),je.__&&je.__(t,e),i=(n=!1)?null:e.__k,s=[],a=[],Py(e,t=e.__k=Vu(ci,null,[t]),i||$u,$u,e.namespaceURI,i?null:e.firstChild?Pd.call(e.childNodes):null,s,i?i.__e:e.firstChild,n,a),N4(s,t,a)}function P4(t,e,r){var n,i,s,a,o=Di({},t.props);for(s in t.type&&t.type.defaultProps&&(a=t.type.defaultProps),e)s=="key"?n=e[s]:s=="ref"?i=e[s]:o[s]=e[s]===void 0&&a!=null?a[s]:e[s];return arguments.length>2&&(o.children=arguments.length>3?Pd.call(arguments,2):r),mu(t.type,o,n||t.key,i||t.ref,null)}Pd=C4.slice,je={__e:function(t,e,r,n){for(var i,s,a;e=e.__;)if((i=e.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(t)),a=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,n||{}),a=i.__d),a)return i.__E=i}catch(o){t=o}throw t}},x4=0,rn.prototype.setState=function(t,e){var r;r=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=Di({},this.state),typeof t=="function"&&(t=t(Di({},r),this.props)),t&&Di(r,t),t!=null&&this.__v&&(e&&this._sb.push(e),$2(this))},rn.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),$2(this))},rn.prototype.render=ci,Ra=[],w4=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,_4=function(t,e){return t.__v.__b-e.__v.__b},Vh.__r=0,b4=/(PointerCapture)$|Capture$/i,Ty=0,Ym=z2(!1),Zm=z2(!0);var zu,Dt,q0,H2,Hu=0,O4=[],Bt=je,W2=Bt.__b,G2=Bt.__r,q2=Bt.diffed,X2=Bt.__c,K2=Bt.unmount,Y2=Bt.__;function Ry(t,e){Bt.__h&&Bt.__h(Dt,t,Hu||e),Hu=0;var r=Dt.__H||(Dt.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({}),r.__[t]}function zh(t){return Hu=1,b7(k4,t)}function b7(t,e,r){var n=Ry(zu++,2);if(n.t=t,!n.__c&&(n.__=[r?r(e):k4(void 0,e),function(o){var l=n.__N?n.__N[0]:n.__[0],c=n.t(l,o);l!==c&&(n.__N=[c,n.__[1]],n.__c.setState({}))}],n.__c=Dt,!Dt.__f)){var i=function(o,l,c){if(!n.__c.__H)return!0;var d=n.__c.__H.__.filter(function(h){return!!h.__c});if(d.every(function(h){return!h.__N}))return!s||s.call(this,o,l,c);var f=n.__c.props!==o;return d.forEach(function(h){if(h.__N){var p=h.__[0];h.__=h.__N,h.__N=void 0,p!==h.__[0]&&(f=!0)}}),s&&s.call(this,o,l,c)||f};Dt.__f=!0;var s=Dt.shouldComponentUpdate,a=Dt.componentWillUpdate;Dt.componentWillUpdate=function(o,l,c){if(this.__e){var d=s;s=void 0,i(o,l,c),s=d}a&&a.call(this,o,l,c)},Dt.shouldComponentUpdate=i}return n.__N||n.__}function Jm(t,e){var r=Ry(zu++,3);!Bt.__s&&R4(r.__H,e)&&(r.__=t,r.u=e,Dt.__H.__h.push(r))}function Wf(t){return Hu=5,ky(function(){return{current:t}},[])}function ky(t,e){var r=Ry(zu++,7);return R4(r.__H,e)&&(r.__=t(),r.__H=e,r.__h=t),r.__}function C7(t,e){return Hu=8,ky(function(){return t},e)}function S7(){for(var t;t=O4.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(Gf),t.__H.__h.forEach(eg),t.__H.__h=[]}catch(e){t.__H.__h=[],Bt.__e(e,t.__v)}}Bt.__b=function(t){Dt=null,W2&&W2(t)},Bt.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),Y2&&Y2(t,e)},Bt.__r=function(t){G2&&G2(t),zu=0;var e=(Dt=t.__c).__H;e&&(q0===Dt?(e.__h=[],Dt.__h=[],e.__.forEach(function(r){r.__N&&(r.__=r.__N),r.u=r.__N=void 0})):(e.__h.forEach(Gf),e.__h.forEach(eg),e.__h=[],zu=0)),q0=Dt},Bt.diffed=function(t){q2&&q2(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(O4.push(e)!==1&&H2===Bt.requestAnimationFrame||((H2=Bt.requestAnimationFrame)||E7)(S7)),e.__H.__.forEach(function(r){r.u&&(r.__H=r.u),r.u=void 0})),q0=Dt=null},Bt.__c=function(t,e){e.some(function(r){try{r.__h.forEach(Gf),r.__h=r.__h.filter(function(n){return!n.__||eg(n)})}catch(n){e.some(function(i){i.__h&&(i.__h=[])}),e=[],Bt.__e(n,r.__v)}}),X2&&X2(t,e)},Bt.unmount=function(t){K2&&K2(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{Gf(n)}catch(i){e=i}}),r.__H=void 0,e&&Bt.__e(e,r.__v))};var Z2=typeof requestAnimationFrame=="function";function E7(t){var e,r=function(){clearTimeout(n),Z2&&cancelAnimationFrame(e),setTimeout(t)},n=setTimeout(r,35);Z2&&(e=requestAnimationFrame(r))}function Gf(t){var e=Dt,r=t.__c;typeof r=="function"&&(t.__c=void 0,r()),Dt=e}function eg(t){var e=Dt;t.__c=t.__(),Dt=e}function R4(t,e){return!t||t.length!==e.length||e.some(function(r,n){return r!==t[n]})}function k4(t,e){return typeof e=="function"?e(t):e}function A7(t,e){for(var r in e)t[r]=e[r];return t}function Q2(t,e){for(var r in t)if(r!=="__source"&&!(r in e))return!0;for(var n in e)if(n!=="__source"&&t[n]!==e[n])return!0;return!1}function J2(t,e){this.props=t,this.context=e}(J2.prototype=new rn).isPureReactComponent=!0,J2.prototype.shouldComponentUpdate=function(t,e){return Q2(this.props,t)||Q2(this.state,e)};var e_=je.__b;je.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),e_&&e_(t)};var N7=je.__e;je.__e=function(t,e,r,n){if(t.then){for(var i,s=e;s=s.__;)if((i=s.__c)&&i.__c)return e.__e==null&&(e.__e=r.__e,e.__k=r.__k),i.__c(t,e)}N7(t,e,r,n)};var t_=je.unmount;function D4(t,e,r){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(n){typeof n.__c=="function"&&n.__c()}),t.__c.__H=null),(t=A7({},t)).__c!=null&&(t.__c.__P===r&&(t.__c.__P=e),t.__c.__e=!0,t.__c=null),t.__k=t.__k&&t.__k.map(function(n){return D4(n,e,r)})),t}function j4(t,e,r){return t&&r&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(n){return j4(n,e,r)}),t.__c&&t.__c.__P===e&&(t.__e&&r.appendChild(t.__e),t.__c.__e=!0,t.__c.__P=r)),t}function X0(){this.__u=0,this.o=null,this.__b=null}function F4(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function uf(){this.i=null,this.l=null}je.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&32&t.__u&&(t.type=null),t_&&t_(t)},(X0.prototype=new rn).__c=function(t,e){var r=e.__c,n=this;n.o==null&&(n.o=[]),n.o.push(r);var i=F4(n.__v),s=!1,a=function(){s||(s=!0,r.__R=null,i?i(o):o())};r.__R=a;var o=function(){if(!--n.__u){if(n.state.__a){var l=n.state.__a;n.__v.__k[0]=j4(l,l.__c.__P,l.__c.__O)}var c;for(n.setState({__a:n.__b=null});c=n.o.pop();)c.forceUpdate()}};n.__u++||32&e.__u||n.setState({__a:n.__b=n.__v.__k[0]}),t.then(a,a)},X0.prototype.componentWillUnmount=function(){this.o=[]},X0.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var r=document.createElement("div"),n=this.__v.__k[0].__c;this.__v.__k[0]=D4(this.__b,r,n.__O=n.__P)}this.__b=null}var i=e.__a&&Vu(ci,null,t.fallback);return i&&(i.__u&=-33),[Vu(ci,null,e.__a?null:t.children),i]};var r_=function(t,e,r){if(++r[1]===r[0]&&t.l.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.l.size))for(r=t.i;r;){for(;r.length>3;)r.pop()();if(r[1]<r[0])break;t.i=r=r[2]}};(uf.prototype=new rn).__a=function(t){var e=this,r=F4(e.__v),n=e.l.get(t);return n[0]++,function(i){var s=function(){e.props.revealOrder?(n.push(i),r_(e,t,n)):i()};r?r(s):s()}},uf.prototype.render=function(t){this.i=null,this.l=new Map;var e=ti(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var r=e.length;r--;)this.l.set(e[r],this.i=[1,0,this.i]);return t.children},uf.prototype.componentDidUpdate=uf.prototype.componentDidMount=function(){var t=this;this.l.forEach(function(e,r){r_(t,r,e)})};var T7=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,I7=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,P7=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,O7=/[A-Z0-9]/g,R7=typeof document<"u",k7=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(t)};function n_(t,e,r){return e.__k==null&&(e.textContent=""),_7(t,e),typeof r=="function"&&r(),t?t.__c:null}rn.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(rn.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var i_=je.event;function D7(){}function j7(){return this.cancelBubble}function F7(){return this.defaultPrevented}je.event=function(t){return i_&&(t=i_(t)),t.persist=D7,t.isPropagationStopped=j7,t.isDefaultPrevented=F7,t.nativeEvent=t};var M7={enumerable:!1,configurable:!0,get:function(){return this.class}},s_=je.vnode;je.vnode=function(t){typeof t.type=="string"&&function(e){var r=e.props,n=e.type,i={},s=n.indexOf("-")===-1;for(var a in r){var o=r[a];if(!(a==="value"&&"defaultValue"in r&&o==null||R7&&a==="children"&&n==="noscript"||a==="class"||a==="className")){var l=a.toLowerCase();a==="defaultValue"&&"value"in r&&r.value==null?a="value":a==="download"&&o===!0?o="":l==="translate"&&o==="no"?o=!1:l[0]==="o"&&l[1]==="n"?l==="ondoubleclick"?a="ondblclick":l!=="onchange"||n!=="input"&&n!=="textarea"||k7(r.type)?l==="onfocus"?a="onfocusin":l==="onblur"?a="onfocusout":P7.test(a)&&(a=l):l=a="oninput":s&&I7.test(a)?a=a.replace(O7,"-$&").toLowerCase():o===null&&(o=void 0),l==="oninput"&&i[a=l]&&(a="oninputCapture"),i[a]=o}}n=="select"&&i.multiple&&Array.isArray(i.value)&&(i.value=ti(r.children).forEach(function(c){c.props.selected=i.value.indexOf(c.props.value)!=-1})),n=="select"&&i.defaultValue!=null&&(i.value=ti(r.children).forEach(function(c){c.props.selected=i.multiple?i.defaultValue.indexOf(c.props.value)!=-1:i.defaultValue==c.props.value})),r.class&&!r.className?(i.class=r.class,Object.defineProperty(i,"className",M7)):(r.className&&!r.class||r.class&&r.className)&&(i.class=i.className=r.className),e.props=i}(t),t.$$typeof=T7,s_&&s_(t)};var a_=je.__r;je.__r=function(t){a_&&a_(t),t.__c};var o_=je.diffed;je.diffed=function(t){o_&&o_(t);var e=t.props,r=t.__e;r!=null&&t.type==="textarea"&&"value"in e&&e.value!==r.value&&(r.value=e.value==null?"":e.value)};function L7(t){let e=null,r;return(...n)=>(r=n,e||(e=Promise.resolve().then(()=>(e=null,t(...r)))),e)}var Ju;const Xh=class Xh extends g4{constructor(){super(...arguments);z(this,Ju);W(this,"isTargetDOMEl");W(this,"el");W(this,"parent");W(this,"title")}getTargetPlugin(r){let n;if(typeof(r==null?void 0:r.addTarget)=="function")n=r,n instanceof Xh||console.warn(new Error("The provided plugin is not an instance of UIPlugin. This is an indication of a bug with the way Uppy is bundled.",{cause:{targetPlugin:n,UIPlugin:Xh}}));else if(typeof r=="function"){const i=r;this.uppy.iteratePlugins(s=>{s instanceof i&&(n=s)})}return n}mount(r,n){const i=n.id,s=p7(r);if(s){this.isTargetDOMEl=!0;const l=document.createElement("div");return l.classList.add("uppy-Root"),G(this,Ju,L7(c=>{this.uppy.getPlugin(this.id)&&(n_(this.render(c,l),l),this.afterUpdate())})),this.uppy.log(`Installing ${i} to a DOM element '${r}'`),this.opts.replaceTargetContent&&(s.innerHTML=""),n_(this.render(this.uppy.getState(),l),l),this.el=l,s.appendChild(l),l.dir=this.opts.direction||y4(l)||"ltr",this.onMount(),this.el}const a=this.getTargetPlugin(r);if(a)return this.uppy.log(`Installing ${i} to ${a.id}`),this.parent=a,this.el=a.addTarget(n),this.onMount(),this.el;this.uppy.log(`Not installing ${i}`);let o=`Invalid target option given to ${i}.`;throw typeof r=="function"?o+=" The given target is not a Plugin class. Please check that you're not specifying a React Component instead of a plugin. If you are using @uppy/* packages directly, make sure you have only 1 version of @uppy/core installed: run `npm ls @uppy/core` on the command line and verify that all the versions match and are deduped correctly.":o+="If you meant to target an HTML element, please make sure that the element exists. Check that the <script> tag initializing Uppy is right before the closing </body> tag at the end of the page. (see https://github.com/transloadit/uppy/issues/1042)\n\nIf you meant to target a plugin, please confirm that your `import` statements or `require` calls are correct.",new Error(o)}render(r,n){throw new Error("Extend the render method to add your plugin to a DOM element")}update(r){var n;this.el!=null&&((n=C(this,Ju))==null||n.call(this,r))}unmount(){var r;this.isTargetDOMEl&&((r=this.el)==null||r.remove()),this.onUnmount()}onMount(){}onUnmount(){}};Ju=new WeakMap;let oc=Xh;const B7="4.3.2",U7={version:B7};var El,Kh,L4;class M4{constructor(){z(this,Kh);W(this,"state",{});z(this,El,new Set)}getState(){return this.state}setState(e){const r={...this.state},n={...this.state,...e};this.state=n,Z(this,Kh,L4).call(this,r,n,e)}subscribe(e){return C(this,El).add(e),()=>{C(this,El).delete(e)}}}El=new WeakMap,Kh=new WeakSet,L4=function(...e){C(this,El).forEach(r=>{r(...e)})},W(M4,"VERSION",U7.version);function B4(t){const e=t.lastIndexOf(".");return e===-1||e===t.length-1?{name:t,extension:void 0}:{name:t.slice(0,e),extension:t.slice(e+1)}}const l_={__proto__:null,md:"text/markdown",markdown:"text/markdown",mp4:"video/mp4",mp3:"audio/mp3",svg:"image/svg+xml",jpg:"image/jpeg",png:"image/png",webp:"image/webp",gif:"image/gif",heic:"image/heic",heif:"image/heif",yaml:"text/yaml",yml:"text/yaml",csv:"text/csv",tsv:"text/tab-separated-values",tab:"text/tab-separated-values",avi:"video/x-msvideo",mks:"video/x-matroska",mkv:"video/x-matroska",mov:"video/quicktime",dicom:"application/dicom",doc:"application/msword",msg:"application/vnd.ms-outlook",docm:"application/vnd.ms-word.document.macroenabled.12",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dot:"application/msword",dotm:"application/vnd.ms-word.template.macroenabled.12",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",xla:"application/vnd.ms-excel",xlam:"application/vnd.ms-excel.addin.macroenabled.12",xlc:"application/vnd.ms-excel",xlf:"application/x-xliff+xml",xlm:"application/vnd.ms-excel",xls:"application/vnd.ms-excel",xlsb:"application/vnd.ms-excel.sheet.binary.macroenabled.12",xlsm:"application/vnd.ms-excel.sheet.macroenabled.12",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xlt:"application/vnd.ms-excel",xltm:"application/vnd.ms-excel.template.macroenabled.12",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xlw:"application/vnd.ms-excel",txt:"text/plain",text:"text/plain",conf:"text/plain",log:"text/plain",pdf:"application/pdf",zip:"application/zip","7z":"application/x-7z-compressed",rar:"application/x-rar-compressed",tar:"application/x-tar",gz:"application/gzip",dmg:"application/x-apple-diskimage"};function U4(t){var r;if(t.type)return t.type;const e=t.name?(r=B4(t.name).extension)==null?void 0:r.toLowerCase():null;return e&&e in l_?l_[e]:"application/octet-stream"}function $7(t){return t.charCodeAt(0).toString(32)}function c_(t){let e="";return t.replace(/[^A-Z0-9]/gi,r=>(e+=`-${$7(r)}`,"/"))+e}function V7(t,e){let r=e||"uppy";return typeof t.name=="string"&&(r+=`-${c_(t.name.toLowerCase())}`),t.type!==void 0&&(r+=`-${t.type}`),t.meta&&typeof t.meta.relativePath=="string"&&(r+=`-${c_(t.meta.relativePath.toLowerCase())}`),t.data.size!==void 0&&(r+=`-${t.data.size}`),t.data.lastModified!==void 0&&(r+=`-${t.data.lastModified}`),r}function z7(t){return!t.isRemote||!t.remote?!1:new Set(["box","dropbox","drive","facebook","unsplash"]).has(t.remote.provider)}function H7(t,e){if(z7(t))return t.id;const r=U4(t);return V7({...t,type:r},e)}function W7(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Dy=W7,G7=typeof Fd=="object"&&Fd&&Fd.Object===Object&&Fd,q7=G7,X7=q7,K7=typeof self=="object"&&self&&self.Object===Object&&self,Y7=X7||K7||Function("return this")(),$4=Y7,Z7=$4,Q7=function(){return Z7.Date.now()},J7=Q7,e9=/\s/;function t9(t){for(var e=t.length;e--&&e9.test(t.charAt(e)););return e}var r9=t9,n9=r9,i9=/^\s+/;function s9(t){return t&&t.slice(0,n9(t)+1).replace(i9,"")}var a9=s9,o9=$4,l9=o9.Symbol,V4=l9,u_=V4,z4=Object.prototype,c9=z4.hasOwnProperty,u9=z4.toString,Dc=u_?u_.toStringTag:void 0;function d9(t){var e=c9.call(t,Dc),r=t[Dc];try{t[Dc]=void 0;var n=!0}catch{}var i=u9.call(t);return n&&(e?t[Dc]=r:delete t[Dc]),i}var f9=d9,h9=Object.prototype,p9=h9.toString;function m9(t){return p9.call(t)}var g9=m9,d_=V4,v9=f9,y9=g9,x9="[object Null]",w9="[object Undefined]",f_=d_?d_.toStringTag:void 0;function _9(t){return t==null?t===void 0?w9:x9:f_&&f_ in Object(t)?v9(t):y9(t)}var b9=_9;function C9(t){return t!=null&&typeof t=="object"}var S9=C9,E9=b9,A9=S9,N9="[object Symbol]";function T9(t){return typeof t=="symbol"||A9(t)&&E9(t)==N9}var I9=T9,P9=a9,h_=Dy,O9=I9,p_=NaN,R9=/^[-+]0x[0-9a-f]+$/i,k9=/^0b[01]+$/i,D9=/^0o[0-7]+$/i,j9=parseInt;function F9(t){if(typeof t=="number")return t;if(O9(t))return p_;if(h_(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=h_(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=P9(t);var r=k9.test(t);return r||D9.test(t)?j9(t.slice(2),r?2:8):R9.test(t)?p_:+t}var M9=F9,L9=Dy,K0=J7,m_=M9,B9="Expected a function",U9=Math.max,$9=Math.min;function V9(t,e,r){var n,i,s,a,o,l,c=0,d=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(B9);e=m_(e)||0,L9(r)&&(d=!!r.leading,f="maxWait"in r,s=f?U9(m_(r.maxWait)||0,e):s,h="trailing"in r?!!r.trailing:h);function p(A){var E=n,P=i;return n=i=void 0,c=A,a=t.apply(P,E),a}function g(A){return c=A,o=setTimeout(y,e),d?p(A):a}function m(A){var E=A-l,P=A-c,j=e-E;return f?$9(j,s-P):j}function x(A){var E=A-l,P=A-c;return l===void 0||E>=e||E<0||f&&P>=s}function y(){var A=K0();if(x(A))return v(A);o=setTimeout(y,m(A))}function v(A){return o=void 0,h&&n?p(A):(n=i=void 0,a)}function _(){o!==void 0&&clearTimeout(o),c=0,n=l=i=o=void 0}function w(){return o===void 0?a:v(K0())}function S(){var A=K0(),E=x(A);if(n=arguments,i=this,l=A,E){if(o===void 0)return g(l);if(f)return clearTimeout(o),o=setTimeout(y,e),p(l)}return o===void 0&&(o=setTimeout(y,e)),a}return S.cancel=_,S.flush=w,S}var H4=V9;const z9=ps(H4);var H9=H4,W9=Dy,G9="Expected a function";function q9(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(G9);return W9(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),H9(t,e,{leading:n,maxWait:e,trailing:i})}var X9=q9;const K9=ps(X9);var Y9=function(){var e={},r=e._fns={};e.emit=function(a,o,l,c,d,f,h){var p=n(a);p.length&&i(a,p,[o,l,c,d,f,h])},e.on=function(a,o){r[a]||(r[a]=[]),r[a].push(o)},e.once=function(a,o){function l(){o.apply(this,arguments),e.off(a,l)}this.on(a,l)},e.off=function(a,o){var l=[];if(a&&o){var c=this._fns[a],d=0,f=c?c.length:0;for(d;d<f;d++)c[d]!==o&&l.push(c[d])}l.length?this._fns[a]=l:delete this._fns[a]};function n(s){var a=r[s]?r[s]:[],o=s.indexOf(":"),l=o===-1?[s]:[s.substring(0,o),s.substring(o+1)],c=Object.keys(r),d=0,f=c.length;for(d;d<f;d++){var h=c[d];if(h==="*"&&(a=a.concat(r[h])),l.length===2&&l[0]===h){a=a.concat(r[h]);break}}return a}function i(s,a,o){var l=0,c=a.length;for(l;l<c&&a[l];l++)a[l].event=s,a[l].apply(a[l],o)}return e};const Z9=ps(Y9);let Q9="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",jy=(t=21)=>{let e="",r=t|0;for(;r--;)e+=Q9[Math.random()*64|0];return e};const J9="4.5.3",eM={version:J9};function tM(t,e){return e.name?e.name:t.split("/")[0]==="image"?`${t.split("/")[0]}.${t.split("/")[1]}`:"noname"}const rM={strings:{addBulkFilesFailed:{0:"Failed to add %{smart_count} file due to an internal error",1:"Failed to add %{smart_count} files due to internal errors"},youCanOnlyUploadX:{0:"You can only upload %{smart_count} file",1:"You can only upload %{smart_count} files"},youHaveToAtLeastSelectX:{0:"You have to select at least %{smart_count} file",1:"You have to select at least %{smart_count} files"},aggregateExceedsSize:"You selected %{size} of files, but maximum allowed size is %{sizeAllowed}",exceedsSize:"%{file} exceeds maximum allowed size of %{size}",missingRequiredMetaField:"Missing required meta fields",missingRequiredMetaFieldOnFile:"Missing required meta fields in %{fileName}",inferiorSize:"This file is smaller than the allowed size of %{size}",youCanOnlyUploadFileTypes:"You can only upload: %{types}",noMoreFilesAllowed:"Cannot add more files",noDuplicates:"Cannot add the duplicate file '%{fileName}', it already exists",companionError:"Connection with Companion failed",authAborted:"Authentication aborted",companionUnauthorizeHint:"To unauthorize to your %{provider} account, please go to %{url}",failedToUpload:"Failed to upload %{file}",noInternetConnection:"No Internet connection",connectedToInternet:"Connected to the Internet",noFilesFound:"You have no files or folders here",noSearchResults:"Unfortunately, there are no results for this search",selectX:{0:"Select %{smart_count}",1:"Select %{smart_count}"},allFilesFromFolderNamed:"All files from folder %{name}",openFolderNamed:"Open folder %{name}",cancel:"Cancel",logOut:"Log out",logIn:"Log in",pickFiles:"Pick files",pickPhotos:"Pick photos",filter:"Filter",resetFilter:"Reset filter",loading:"Loading...",loadedXFiles:"Loaded %{numFiles} files",authenticateWithTitle:"Please authenticate with %{pluginName} to select files",authenticateWith:"Connect to %{pluginName}",signInWithGoogle:"Sign in with Google",searchImages:"Search for images",enterTextToSearch:"Enter text to search for images",search:"Search",resetSearch:"Reset search",emptyFolderAdded:"No files were added from empty folder",addedNumFiles:"Added %{numFiles} file(s)",folderAlreadyAdded:'The folder "%{folder}" was already added',folderAdded:{0:"Added %{smart_count} file from %{folder}",1:"Added %{smart_count} files from %{folder}"},additionalRestrictionsFailed:"%{count} additional restrictions were not fulfilled",unnamed:"Unnamed",pleaseWait:"Please wait"}};var nM=function(e){if(typeof e!="number"||Number.isNaN(e))throw new TypeError(`Expected a number, got ${typeof e}`);const r=e<0;let n=Math.abs(e);if(r&&(n=-n),n===0)return"0 B";const i=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],s=Math.min(Math.floor(Math.log(n)/Math.log(1024)),i.length-1),a=Number(n/1024**s),o=i[s];return`${a>=10||a%1===0?Math.round(a):a.toFixed(1)} ${o}`};const La=ps(nM);function W4(t,e){this.text=t=t||"",this.hasWild=~t.indexOf("*"),this.separator=e,this.parts=t.split(e)}W4.prototype.match=function(t){var e=!0,r=this.parts,n,i=r.length,s;if(typeof t=="string"||t instanceof String)if(!this.hasWild&&this.text!=t)e=!1;else{for(s=(t||"").split(this.separator),n=0;e&&n<i;n++)r[n]!=="*"&&(n<s.length?e=r[n]===s[n]:e=!1);e=e&&s}else if(typeof t.splice=="function")for(e=[],n=t.length;n--;)this.match(t[n])&&(e[e.length]=t[n]);else if(typeof t=="object"){e={};for(var a in t)this.match(a)&&(e[a]=t[a])}return e};var iM=function(t,e,r){var n=new W4(t,r||/[\/\.]/);return typeof e<"u"?n.match(e):n},sM=iM,aM=/[\/\+\.]/,oM=function(t,e){function r(n){var i=sM(n,t,aM);return i&&i.length>=2}return e?r(e.split(";")[0]):r};const lM=ps(oM),cM={maxFileSize:null,minFileSize:null,maxTotalFileSize:null,maxNumberOfFiles:null,minNumberOfFiles:null,allowedFileTypes:null,requiredMetaFields:[]};class Qn extends Error{constructor(r,n){super(r);W(this,"isUserFacing");W(this,"file");W(this,"isRestriction",!0);this.isUserFacing=(n==null?void 0:n.isUserFacing)??!0,n!=null&&n.file&&(this.file=n.file)}}class uM{constructor(e,r){W(this,"getI18n");W(this,"getOpts");this.getI18n=r,this.getOpts=()=>{var i;const n=e();if(((i=n.restrictions)==null?void 0:i.allowedFileTypes)!=null&&!Array.isArray(n.restrictions.allowedFileTypes))throw new TypeError("`restrictions.allowedFileTypes` must be an array");return n}}validateAggregateRestrictions(e,r){const{maxTotalFileSize:n,maxNumberOfFiles:i}=this.getOpts().restrictions;if(i&&e.filter(a=>!a.isGhost).length+r.length>i)throw new Qn(`${this.getI18n()("youCanOnlyUploadX",{smart_count:i})}`);if(n){const s=[...e,...r].reduce((a,o)=>a+(o.size??0),0);if(s>n)throw new Qn(this.getI18n()("aggregateExceedsSize",{sizeAllowed:La(n),size:La(s)}))}}validateSingleFile(e){const{maxFileSize:r,minFileSize:n,allowedFileTypes:i}=this.getOpts().restrictions;if(i&&!i.some(a=>a.includes("/")?e.type?lM(e.type.replace(/;.*?$/,""),a):!1:a[0]==="."&&e.extension?e.extension.toLowerCase()===a.slice(1).toLowerCase():!1)){const a=i.join(", ");throw new Qn(this.getI18n()("youCanOnlyUploadFileTypes",{types:a}),{file:e})}if(r&&e.size!=null&&e.size>r)throw new Qn(this.getI18n()("exceedsSize",{size:La(r),file:e.name??this.getI18n()("unnamed")}),{file:e});if(n&&e.size!=null&&e.size<n)throw new Qn(this.getI18n()("inferiorSize",{size:La(n)}),{file:e})}validate(e,r){r.forEach(n=>{this.validateSingleFile(n)}),this.validateAggregateRestrictions(e,r)}validateMinNumberOfFiles(e){const{minNumberOfFiles:r}=this.getOpts().restrictions;if(r&&Object.keys(e).length<r)throw new Qn(this.getI18n()("youHaveToAtLeastSelectX",{smart_count:r}))}getMissingRequiredMetaFields(e){const r=new Qn(this.getI18n()("missingRequiredMetaFieldOnFile",{fileName:e.name??this.getI18n()("unnamed")})),{requiredMetaFields:n}=this.getOpts().restrictions,i=[];for(const s of n)(!Object.hasOwn(e.meta,s)||e.meta[s]==="")&&i.push(s);return{missingFields:i,error:r}}}function dM(t){if(t==null&&typeof navigator<"u"&&(t=navigator.userAgent),!t)return!0;const e=/Edge\/(\d+\.\d+)/.exec(t);if(!e)return!0;const n=e[1].split(".",2),i=parseInt(n[0],10),s=parseInt(n[1],10);return i<15||i===15&&s<15063||i>18||i===18&&s>=18218}const df={totalProgress:0,allowNewUpload:!0,error:null,recoveredState:null};var Wn,Gn,ed,Ka,Al,Nl,Ya,be,Pa,rg,G4,ng,q4,ig,sg,ag,og,Yh,lg,Za,X4,K4,Vs,td,Xc,Y4,qf,Kc;const Zh=class Zh{constructor(e){z(this,be);z(this,Wn,Object.create(null));z(this,Gn);z(this,ed);z(this,Ka,Z9());z(this,Al,new Set);z(this,Nl,new Set);z(this,Ya,new Set);W(this,"defaultLocale");W(this,"locale");W(this,"opts");W(this,"store");W(this,"i18n");W(this,"i18nArray");W(this,"scheduledAutoProceed",null);W(this,"wasOffline",!1);z(this,Yh,(e,r)=>{const n=e?this.getFile(e.id):void 0;if(e==null||!n){this.log(`Not setting progress for a file that has been removed: ${e==null?void 0:e.id}`);return}if(n.progress.percentage===100){this.log(`Not setting progress for a file that has been already uploaded: ${e.id}`);return}const i={bytesTotal:r.bytesTotal,percentage:r.bytesTotal!=null&&Number.isFinite(r.bytesTotal)&&r.bytesTotal>0?Math.round(r.bytesUploaded/r.bytesTotal*100):void 0};n.progress.uploadStarted!=null?this.setFileState(e.id,{progress:{...n.progress,...i,bytesUploaded:r.bytesUploaded}}):this.setFileState(e.id,{progress:{...n.progress,...i}}),C(this,Za).call(this)});z(this,Za,K9(()=>Z(this,be,lg).call(this),500,{leading:!0,trailing:!0}));z(this,Vs,this.updateOnlineStatus.bind(this));z(this,td,new Map);this.defaultLocale=rM;const r={id:"uppy",autoProceed:!1,allowMultipleUploadBatches:!0,debug:!1,restrictions:cM,meta:{},onBeforeFileAdded:(i,s)=>!Object.hasOwn(s,i.id),onBeforeUpload:i=>i,store:new M4,logger:f7,infoTimeout:5e3},n={...r,...e};this.opts={...n,restrictions:{...r.restrictions,...e==null?void 0:e.restrictions}},e!=null&&e.logger&&e.debug?this.log("You are using a custom `logger`, but also set `debug: true`, which uses built-in logger to output logs to console. Ignoring `debug: true` and using your custom `logger`.","warning"):e!=null&&e.debug&&(this.opts.logger=h7),this.log(`Using Core v${Zh.VERSION}`),this.i18nInit(),this.store=this.opts.store,this.setState({...df,plugins:{},files:{},currentUploads:{},capabilities:{uploadProgress:dM(),individualCancellation:!0,resumableUploads:!1},meta:{...this.opts.meta},info:[]}),G(this,Gn,new uM(()=>this.opts,()=>this.i18n)),G(this,ed,this.store.subscribe((i,s,a)=>{this.emit("state-update",i,s,a),this.updateAll(s)})),this.opts.debug&&typeof window<"u"&&(window[this.opts.id]=this),Z(this,be,K4).call(this)}emit(e,...r){C(this,Ka).emit(e,...r)}on(e,r){return C(this,Ka).on(e,r),this}once(e,r){return C(this,Ka).once(e,r),this}off(e,r){return C(this,Ka).off(e,r),this}updateAll(e){this.iteratePlugins(r=>{r.update(e)})}setState(e){this.store.setState(e)}getState(){return this.store.getState()}patchFilesState(e){const r=this.getState().files;this.setState({files:{...r,...Object.fromEntries(Object.entries(e).map(([n,i])=>[n,{...r[n],...i}]))}})}setFileState(e,r){if(!this.getState().files[e])throw new Error(`Cant set state for ${e} (the file could have been removed)`);this.patchFilesState({[e]:r})}i18nInit(){const e=n=>this.log(`Missing i18n string: ${n}`,"error"),r=new m4([this.defaultLocale,this.opts.locale],{onMissingKey:e});this.i18n=r.translate.bind(r),this.i18nArray=r.translateArray.bind(r),this.locale=r.locale}setOptions(e){this.opts={...this.opts,...e,restrictions:{...this.opts.restrictions,...e==null?void 0:e.restrictions}},e.meta&&this.setMeta(e.meta),this.i18nInit(),e.locale&&this.iteratePlugins(r=>{r.setOptions(e)}),this.setState(void 0)}resetProgress(){const e={percentage:0,bytesUploaded:!1,uploadComplete:!1,uploadStarted:null},r={...this.getState().files},n=Object.create(null);Object.keys(r).forEach(i=>{n[i]={...r[i],progress:{...r[i].progress,...e},tus:void 0,transloadit:void 0}}),this.setState({files:n,...df})}clear(){const{capabilities:e,currentUploads:r}=this.getState();if(Object.keys(r).length>0&&!e.individualCancellation)throw new Error("The installed uploader plugin does not allow removing files during an upload.");this.setState({...df,files:{}})}addPreProcessor(e){C(this,Al).add(e)}removePreProcessor(e){return C(this,Al).delete(e)}addPostProcessor(e){C(this,Ya).add(e)}removePostProcessor(e){return C(this,Ya).delete(e)}addUploader(e){C(this,Nl).add(e)}removeUploader(e){return C(this,Nl).delete(e)}setMeta(e){const r={...this.getState().meta,...e},n={...this.getState().files};Object.keys(n).forEach(i=>{n[i]={...n[i],meta:{...n[i].meta,...e}}}),this.log("Adding metadata:"),this.log(e),this.setState({meta:r,files:n})}setFileMeta(e,r){const n={...this.getState().files};if(!n[e]){this.log(`Was trying to set metadata for a file that has been removed: ${e}`);return}const i={...n[e].meta,...r};n[e]={...n[e],meta:i},this.setState({files:n})}getFile(e){return this.getState().files[e]}getFiles(){const{files:e}=this.getState();return Object.values(e)}getFilesByIds(e){return e.map(r=>this.getFile(r))}getObjectOfFilesPerState(){const{files:e,totalProgress:r,error:n}=this.getState(),i=Object.values(e),s=[],a=[],o=[],l=[],c=[],d=[],f=[],h=[],p=[];for(const g of i){const{progress:m}=g;!m.uploadComplete&&m.uploadStarted&&(s.push(g),g.isPaused||h.push(g)),m.uploadStarted||a.push(g),(m.uploadStarted||m.preprocess||m.postprocess)&&o.push(g),m.uploadStarted&&l.push(g),g.isPaused&&c.push(g),m.uploadComplete&&d.push(g),g.error&&f.push(g),(m.preprocess||m.postprocess)&&p.push(g)}return{newFiles:a,startedFiles:o,uploadStartedFiles:l,pausedFiles:c,completeFiles:d,erroredFiles:f,inProgressFiles:s,inProgressNotPausedFiles:h,processingFiles:p,isUploadStarted:l.length>0,isAllComplete:r===100&&d.length===i.length&&p.length===0,isAllErrored:!!n&&f.length===i.length,isAllPaused:s.length!==0&&c.length===s.length,isUploadInProgress:s.length>0,isSomeGhost:i.some(g=>g.isGhost)}}validateRestrictions(e,r=this.getFiles()){try{C(this,Gn).validate(r,[e])}catch(n){return n}return null}validateSingleFile(e){try{C(this,Gn).validateSingleFile(e)}catch(r){return r.message}return null}validateAggregateRestrictions(e){const r=this.getFiles();try{C(this,Gn).validateAggregateRestrictions(r,e)}catch(n){return n.message}return null}checkIfFileAlreadyExists(e){const{files:r}=this.getState();return!!(r[e]&&!r[e].isGhost)}addFile(e){Z(this,be,ng).call(this,e);const{nextFilesState:r,validFilesToAdd:n,errors:i}=Z(this,be,sg).call(this,[e]),s=i.filter(o=>o.isRestriction);if(Z(this,be,Pa).call(this,s),i.length>0)throw i[0];this.setState({files:r});const[a]=n;return this.emit("file-added",a),this.emit("files-added",n),this.log(`Added file: ${a.name}, ${a.id}, mime type: ${a.type}`),Z(this,be,ig).call(this),a.id}addFiles(e){Z(this,be,ng).call(this);const{nextFilesState:r,validFilesToAdd:n,errors:i}=Z(this,be,sg).call(this,e),s=i.filter(o=>o.isRestriction);Z(this,be,Pa).call(this,s);const a=i.filter(o=>!o.isRestriction);if(a.length>0){let o=`Multiple errors occurred while adding files:
`;if(a.forEach(l=>{o+=`
 * ${l.message}`}),this.info({message:this.i18n("addBulkFilesFailed",{smart_count:a.length}),details:o},"error",this.opts.infoTimeout),typeof AggregateError=="function")throw new AggregateError(a,o);{const l=new Error(o);throw l.errors=a,l}}this.setState({files:r}),n.forEach(o=>{this.emit("file-added",o)}),this.emit("files-added",n),n.length>5?this.log(`Added batch of ${n.length} files`):Object.values(n).forEach(o=>{this.log(`Added file: ${o.name}
 id: ${o.id}
 type: ${o.type}`)}),n.length>0&&Z(this,be,ig).call(this)}removeFiles(e){const{files:r,currentUploads:n}=this.getState(),i={...r},s={...n},a=Object.create(null);e.forEach(d=>{r[d]&&(a[d]=r[d],delete i[d])});function o(d){return a[d]===void 0}Object.keys(s).forEach(d=>{const f=n[d].fileIDs.filter(o);if(f.length===0){delete s[d];return}const{capabilities:h}=this.getState();if(f.length!==n[d].fileIDs.length&&!h.individualCancellation)throw new Error("The installed uploader plugin does not allow removing files during an upload.");s[d]={...n[d],fileIDs:f}});const l={currentUploads:s,files:i};Object.keys(i).length===0&&(l.allowNewUpload=!0,l.error=null,l.recoveredState=null),this.setState(l),C(this,Za).call(this);const c=Object.keys(a);c.forEach(d=>{this.emit("file-removed",a[d])}),c.length>5?this.log(`Removed ${c.length} files`):this.log(`Removed files: ${c.join(", ")}`)}removeFile(e){this.removeFiles([e])}pauseResume(e){if(!this.getState().capabilities.resumableUploads||this.getFile(e).progress.uploadComplete)return;const r=this.getFile(e),i=!(r.isPaused||!1);return this.setFileState(e,{isPaused:i}),this.emit("upload-pause",r,i),i}pauseAll(){const e={...this.getState().files};Object.keys(e).filter(n=>!e[n].progress.uploadComplete&&e[n].progress.uploadStarted).forEach(n=>{const i={...e[n],isPaused:!0};e[n]=i}),this.setState({files:e}),this.emit("pause-all")}resumeAll(){const e={...this.getState().files};Object.keys(e).filter(n=>!e[n].progress.uploadComplete&&e[n].progress.uploadStarted).forEach(n=>{const i={...e[n],isPaused:!1,error:null};e[n]=i}),this.setState({files:e}),this.emit("resume-all")}async retryAll(){const e=await Z(this,be,og).call(this);return this.emit("complete",e),e}cancelAll(){this.emit("cancel-all");const{files:e}=this.getState(),r=Object.keys(e);r.length&&this.removeFiles(r),this.setState(df)}retryUpload(e){this.setFileState(e,{error:null,isPaused:!1}),this.emit("upload-retry",this.getFile(e));const r=Z(this,be,Xc).call(this,[e],{forceAllowNewUpload:!0});return Z(this,be,Kc).call(this,r)}logout(){this.iteratePlugins(e=>{var r,n;(n=(r=e.provider)==null?void 0:r.logout)==null||n.call(r)})}[Symbol.for("uppy test: updateTotalProgress")](){return Z(this,be,lg).call(this)}updateOnlineStatus(){window.navigator.onLine??!0?(this.emit("is-online"),this.wasOffline&&(this.emit("back-online"),this.info(this.i18n("connectedToInternet"),"success",3e3),this.wasOffline=!1)):(this.emit("is-offline"),this.info(this.i18n("noInternetConnection"),"error",0),this.wasOffline=!0)}getID(){return this.opts.id}use(e,...r){if(typeof e!="function"){const a=`Expected a plugin class, but got ${e===null?"null":typeof e}. Please verify that the plugin was imported and spelled correctly.`;throw new TypeError(a)}const n=new e(this,...r),i=n.id;if(!i)throw new Error("Your plugin must have an id");if(!n.type)throw new Error("Your plugin must have a type");const s=this.getPlugin(i);if(s){const a=`Already found a plugin named '${s.id}'. Tried to use: '${i}'.
Uppy plugins must have unique \`id\` options.`;throw new Error(a)}return e.VERSION&&this.log(`Using ${i} v${e.VERSION}`),n.type in C(this,Wn)?C(this,Wn)[n.type].push(n):C(this,Wn)[n.type]=[n],n.install(),this.emit("plugin-added",n),this}getPlugin(e){for(const r of Object.values(C(this,Wn))){const n=r.find(i=>i.id===e);if(n!=null)return n}}[Symbol.for("uppy test: getPlugins")](e){return C(this,Wn)[e]}iteratePlugins(e){Object.values(C(this,Wn)).flat(1).forEach(e)}removePlugin(e){this.log(`Removing plugin ${e.id}`),this.emit("plugin-remove",e),e.uninstall&&e.uninstall();const r=C(this,Wn)[e.type],n=r.findIndex(a=>a.id===e.id);n!==-1&&r.splice(n,1);const s={plugins:{...this.getState().plugins,[e.id]:void 0}};this.setState(s)}destroy(){this.log(`Closing Uppy instance ${this.opts.id}: removing all files and uninstalling plugins`),this.cancelAll(),C(this,ed).call(this),this.iteratePlugins(e=>{this.removePlugin(e)}),typeof window<"u"&&window.removeEventListener&&(window.removeEventListener("online",C(this,Vs)),window.removeEventListener("offline",C(this,Vs)))}hideInfo(){const{info:e}=this.getState();this.setState({info:e.slice(1)}),this.emit("info-hidden")}info(e,r="info",n=3e3){const i=typeof e=="object";this.setState({info:[...this.getState().info,{type:r,message:i?e.message:e,details:i?e.details:null}]}),setTimeout(()=>this.hideInfo(),n),this.emit("info-visible")}log(e,r){const{logger:n}=this.opts;switch(r){case"error":n.error(e);break;case"warning":n.warn(e);break;default:n.debug(e);break}}registerRequestClient(e,r){C(this,td).set(e,r)}getRequestClientForFile(e){if(!e.remote)throw new Error(`Tried to get RequestClient for a non-remote file ${e.id}`);const r=C(this,td).get(e.remote.requestClientId);if(r==null)throw new Error(`requestClientId "${e.remote.requestClientId}" not registered for file "${e.id}"`);return r}restore(e){return this.log(`Core: attempting to restore upload "${e}"`),this.getState().currentUploads[e]?Z(this,be,Kc).call(this,e):(Z(this,be,qf).call(this,e),Promise.reject(new Error("Nonexistent upload")))}[Symbol.for("uppy test: createUpload")](...e){return Z(this,be,Xc).call(this,...e)}addResultData(e,r){if(!Z(this,be,Y4).call(this,e)){this.log(`Not setting result for an upload that has been removed: ${e}`);return}const{currentUploads:n}=this.getState(),i={...n[e],result:{...n[e].result,...r}};this.setState({currentUploads:{...n,[e]:i}})}async upload(){var i;(i=C(this,Wn).uploader)!=null&&i.length||this.log("No uploader type plugins are used","warning");let{files:e}=this.getState();if(Z(this,be,ag).call(this).length>0){const s=await Z(this,be,og).call(this);if(!(this.getFiles().filter(o=>o.progress.uploadStarted==null).length>0))return this.emit("complete",s),s;({files:e}=this.getState())}const n=this.opts.onBeforeUpload(e);return n===!1?Promise.reject(new Error("Not starting the upload because onBeforeUpload returned false")):(n&&typeof n=="object"&&(e=n,this.setState({files:e})),Promise.resolve().then(()=>C(this,Gn).validateMinNumberOfFiles(e)).catch(s=>{throw Z(this,be,Pa).call(this,[s]),s}).then(()=>{if(!Z(this,be,G4).call(this,e))throw new Qn(this.i18n("missingRequiredMetaField"))}).catch(s=>{throw s}).then(async()=>{const{currentUploads:s}=this.getState(),a=Object.values(s).flatMap(d=>d.fileIDs),o=[];Object.keys(e).forEach(d=>{const f=this.getFile(d);!f.progress.uploadStarted&&a.indexOf(d)===-1&&o.push(f.id)});const l=Z(this,be,Xc).call(this,o),c=await Z(this,be,Kc).call(this,l);return this.emit("complete",c),c}).catch(s=>{throw this.emit("error",s),this.log(s,"error"),s}))}};Wn=new WeakMap,Gn=new WeakMap,ed=new WeakMap,Ka=new WeakMap,Al=new WeakMap,Nl=new WeakMap,Ya=new WeakMap,be=new WeakSet,Pa=function(e){for(const a of e)a.isRestriction?this.emit("restriction-failed",a.file,a):this.emit("error",a,a.file),this.log(a,"warning");const r=e.filter(a=>a.isUserFacing),n=4,i=r.slice(0,n),s=r.slice(n);i.forEach(({message:a,details:o=""})=>{this.info({message:a,details:o},"error",this.opts.infoTimeout)}),s.length>0&&this.info({message:this.i18n("additionalRestrictionsFailed",{count:s.length})})},rg=function(e){const{missingFields:r,error:n}=C(this,Gn).getMissingRequiredMetaFields(e);return r.length>0?(this.setFileState(e.id,{missingRequiredMetaFields:r,error:n.message}),this.log(n.message),this.emit("restriction-failed",e,n),!1):(r.length===0&&e.missingRequiredMetaFields&&this.setFileState(e.id,{missingRequiredMetaFields:[]}),!0)},G4=function(e){let r=!0;for(const n of Object.values(e))Z(this,be,rg).call(this,n)||(r=!1);return r},ng=function(e){const{allowNewUpload:r}=this.getState();if(r===!1){const n=new Qn(this.i18n("noMoreFilesAllowed"),{file:e});throw Z(this,be,Pa).call(this,[n]),n}},q4=function(e){const r=e instanceof File?{name:e.name,type:e.type,size:e.size,data:e}:e,n=U4(r),i=tM(n,r),s=B4(i).extension,a=H7(r,this.getID()),o=r.meta||{};o.name=i,o.type=n;const l=Number.isFinite(r.data.size)?r.data.size:null;return{source:r.source||"",id:a,name:i,extension:s||"",meta:{...this.getState().meta,...o},type:n,data:r.data,progress:{percentage:0,bytesUploaded:!1,bytesTotal:l,uploadComplete:!1,uploadStarted:null},size:l,isGhost:!1,isRemote:r.isRemote||!1,remote:r.remote,preview:r.preview}},ig=function(){this.opts.autoProceed&&!this.scheduledAutoProceed&&(this.scheduledAutoProceed=setTimeout(()=>{this.scheduledAutoProceed=null,this.upload().catch(e=>{e.isRestriction||this.log(e.stack||e.message||e)})},4))},sg=function(e){var a;let{files:r}=this.getState(),n={...r};const i=[],s=[];for(const o of e)try{let l=Z(this,be,q4).call(this,o);const c=(a=r[l.id])==null?void 0:a.isGhost;c&&(l={...r[l.id],isGhost:!1,data:o.data},this.log(`Replaced the blob in the restored ghost file: ${l.name}, ${l.id}`));const d=this.opts.onBeforeFileAdded(l,n);if(r=this.getState().files,n={...r,...n},!d&&this.checkIfFileAlreadyExists(l.id))throw new Qn(this.i18n("noDuplicates",{fileName:l.name??this.i18n("unnamed")}),{file:o});if(d===!1&&!c)throw new Qn("Cannot add the file because onBeforeFileAdded returned false.",{isUserFacing:!1,file:o});typeof d=="object"&&d!==null&&(l=d),C(this,Gn).validateSingleFile(l),n[l.id]=l,i.push(l)}catch(l){s.push(l)}try{C(this,Gn).validateAggregateRestrictions(Object.values(r),i)}catch(o){return s.push(o),{nextFilesState:r,validFilesToAdd:[],errors:s}}return{nextFilesState:n,validFilesToAdd:i,errors:s}},ag=function(){const{files:e}=this.getState();return Object.keys(e).filter(r=>{const n=e[r];return n.error&&(!n.missingRequiredMetaFields||n.missingRequiredMetaFields.length===0)})},og=async function(){const e=Z(this,be,ag).call(this),r={...this.getState().files};if(e.forEach(i=>{r[i]={...r[i],isPaused:!1,error:null}}),this.setState({files:r,error:null}),this.emit("retry-all",this.getFilesByIds(e)),e.length===0)return{successful:[],failed:[]};const n=Z(this,be,Xc).call(this,e,{forceAllowNewUpload:!0});return Z(this,be,Kc).call(this,n)},Yh=new WeakMap,lg=function(){const e=Z(this,be,X4).call(this);let r=null;e!=null&&(r=Math.round(e*100),r>100?r=100:r<0&&(r=0)),this.emit("progress",r??0),this.setState({totalProgress:r??0})},Za=new WeakMap,X4=function(){const r=this.getFiles().filter(l=>l.progress.uploadStarted||l.progress.preprocess||l.progress.postprocess);if(r.length===0)return 0;if(r.every(l=>l.progress.uploadComplete))return 1;const n=l=>l.progress.bytesTotal!=null&&l.progress.bytesTotal!==0,i=r.filter(n),s=r.filter(l=>!n(l));if(i.every(l=>l.progress.uploadComplete)&&s.length>0&&!s.every(l=>l.progress.uploadComplete))return null;const a=i.reduce((l,c)=>l+(c.progress.bytesTotal??0),0),o=i.reduce((l,c)=>l+(c.progress.bytesUploaded||0),0);return a===0?0:o/a},K4=function(){const e=(i,s,a)=>{let o=i.message||"Unknown error";i.details&&(o+=` ${i.details}`),this.setState({error:o}),s!=null&&s.id in this.getState().files&&this.setFileState(s.id,{error:o,response:a})};this.on("error",e),this.on("upload-error",(i,s,a)=>{if(e(s,i,a),typeof s=="object"&&s.message){this.log(s.message,"error");const o=new Error(this.i18n("failedToUpload",{file:(i==null?void 0:i.name)??""}));o.isUserFacing=!0,o.details=s.message,s.details&&(o.details+=` ${s.details}`),Z(this,be,Pa).call(this,[o])}else Z(this,be,Pa).call(this,[s])});let r=null;this.on("upload-stalled",(i,s)=>{const{message:a}=i,o=s.map(l=>l.meta.name).join(", ");r||(this.info({message:a,details:o},"warning",this.opts.infoTimeout),r=setTimeout(()=>{r=null},this.opts.infoTimeout)),this.log(`${a} ${o}`.trim(),"warning")}),this.on("upload",()=>{this.setState({error:null})});const n=i=>{const s=i.filter(o=>{const l=o!=null&&this.getFile(o.id);return l||this.log(`Not setting progress for a file that has been removed: ${o==null?void 0:o.id}`),l}),a=Object.fromEntries(s.map(o=>[o.id,{progress:{uploadStarted:Date.now(),uploadComplete:!1,bytesUploaded:0,bytesTotal:o.size}}]));this.patchFilesState(a)};this.on("upload-start",n),this.on("upload-progress",C(this,Yh)),this.on("upload-success",(i,s)=>{if(i==null||!this.getFile(i.id)){this.log(`Not setting progress for a file that has been removed: ${i==null?void 0:i.id}`);return}const a=this.getFile(i.id).progress;this.setFileState(i.id,{progress:{...a,postprocess:C(this,Ya).size>0?{mode:"indeterminate"}:void 0,uploadComplete:!0,percentage:100,bytesUploaded:a.bytesTotal},response:s,uploadURL:s.uploadURL,isPaused:!1}),i.size==null&&this.setFileState(i.id,{size:s.bytesUploaded||a.bytesTotal}),C(this,Za).call(this)}),this.on("preprocess-progress",(i,s)=>{if(i==null||!this.getFile(i.id)){this.log(`Not setting progress for a file that has been removed: ${i==null?void 0:i.id}`);return}this.setFileState(i.id,{progress:{...this.getFile(i.id).progress,preprocess:s}})}),this.on("preprocess-complete",i=>{if(i==null||!this.getFile(i.id)){this.log(`Not setting progress for a file that has been removed: ${i==null?void 0:i.id}`);return}const s={...this.getState().files};s[i.id]={...s[i.id],progress:{...s[i.id].progress}},delete s[i.id].progress.preprocess,this.setState({files:s})}),this.on("postprocess-progress",(i,s)=>{if(i==null||!this.getFile(i.id)){this.log(`Not setting progress for a file that has been removed: ${i==null?void 0:i.id}`);return}this.setFileState(i.id,{progress:{...this.getState().files[i.id].progress,postprocess:s}})}),this.on("postprocess-complete",i=>{if(i==null||!this.getFile(i.id)){this.log(`Not setting progress for a file that has been removed: ${i==null?void 0:i.id}`);return}const s={...this.getState().files};s[i.id]={...s[i.id],progress:{...s[i.id].progress}},delete s[i.id].progress.postprocess,this.setState({files:s})}),this.on("restored",()=>{C(this,Za).call(this)}),this.on("dashboard:file-edit-complete",i=>{i&&Z(this,be,rg).call(this,i)}),typeof window<"u"&&window.addEventListener&&(window.addEventListener("online",C(this,Vs)),window.addEventListener("offline",C(this,Vs)),setTimeout(C(this,Vs),3e3))},Vs=new WeakMap,td=new WeakMap,Xc=function(e,r={}){const{forceAllowNewUpload:n=!1}=r,{allowNewUpload:i,currentUploads:s}=this.getState();if(!i&&!n)throw new Error("Cannot create a new upload: already uploading.");const a=jy();return this.emit("upload",a,this.getFilesByIds(e)),this.setState({allowNewUpload:this.opts.allowMultipleUploadBatches!==!1&&this.opts.allowMultipleUploads!==!1,currentUploads:{...s,[a]:{fileIDs:e,step:0,result:{}}}}),a},Y4=function(e){const{currentUploads:r}=this.getState();return r[e]},qf=function(e){const r={...this.getState().currentUploads};delete r[e],this.setState({currentUploads:r})},Kc=async function(e){const r=()=>{const{currentUploads:a}=this.getState();return a[e]};let n=r();const i=[...C(this,Al),...C(this,Nl),...C(this,Ya)];try{for(let a=n.step||0;a<i.length&&n;a++){const o=i[a];this.setState({currentUploads:{...this.getState().currentUploads,[e]:{...n,step:a}}});const{fileIDs:l}=n;await o(l,e),n=r()}}catch(a){throw Z(this,be,qf).call(this,e),a}if(n){n.fileIDs.forEach(c=>{const d=this.getFile(c);d!=null&&d.progress.postprocess&&this.emit("postprocess-complete",d)});const a=n.fileIDs.map(c=>this.getFile(c)),o=a.filter(c=>!c.error),l=a.filter(c=>c.error);this.addResultData(e,{successful:o,failed:l,uploadID:e}),n=r()}let s;return n&&(s=n.result,Z(this,be,qf).call(this,e)),s==null&&(this.log(`Not setting result for an upload that has been removed: ${e}`),s={successful:[],failed:[],uploadID:e}),s},W(Zh,"VERSION",eM.version);let tg=Zh;var fM=0;function I(t,e,r,n,i,s){e||(e={});var a,o,l=e;if("ref"in l)for(o in l={},e)o=="ref"?a=e[o]:l[o]=e[o];var c={type:t,props:l,key:r,ref:a,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--fM,__i:-1,__u:0,__source:i,__self:s};if(typeof t=="function"&&(a=t.defaultProps))for(o in a)l[o]===void 0&&(l[o]=a[o]);return je.vnode&&je.vnode(c),c}const hM="4.3.2",pM={version:hM},g_=300;class mM extends rn{constructor(){super(...arguments);W(this,"ref",g7())}componentWillEnter(r){this.ref.current.style.opacity="1",this.ref.current.style.transform="none",setTimeout(r,g_)}componentWillLeave(r){this.ref.current.style.opacity="0",this.ref.current.style.transform="translateY(350%)",setTimeout(r,g_)}render(){const{children:r}=this.props;return I("div",{className:"uppy-Informer-animated",ref:this.ref,children:r})}}function gM(t,e){return Object.assign(t,e)}function vM(t,e){return(t==null?void 0:t.key)??e}function yM(t,e){const r=t._ptgLinkedRefs||(t._ptgLinkedRefs={});return r[e]||(r[e]=n=>{t.refs[e]=n})}function jc(t){const e={};for(let r=0;r<t.length;r++)if(t[r]!=null){const n=vM(t[r],r.toString(36));e[n]=t[r]}return e}function xM(t,e){t=t||{},e=e||{};const r=a=>Object.hasOwn(e,a)?e[a]:t[a],n={};let i=[];for(const a in t)Object.hasOwn(e,a)?i.length&&(n[a]=i,i=[]):i.push(a);const s={};for(const a in e){if(Object.hasOwn(n,a))for(let o=0;o<n[a].length;o++){const l=n[a][o];s[n[a][o]]=r(l)}s[a]=r(a)}for(let a=0;a<i.length;a++)s[i[a]]=r(i[a]);return s}const wM=t=>t;class Z4 extends rn{constructor(e,r){super(e,r),this.refs={},this.state={children:jc(ti(ti(this.props.children))||[])},this.performAppear=this.performAppear.bind(this),this.performEnter=this.performEnter.bind(this),this.performLeave=this.performLeave.bind(this)}componentWillMount(){this.currentlyTransitioningKeys={},this.keysToAbortLeave=[],this.keysToEnter=[],this.keysToLeave=[]}componentDidMount(){const e=this.state.children;for(const r in e)e[r]&&this.performAppear(r)}componentWillReceiveProps(e){const r=jc(ti(e.children)||[]),n=this.state.children;this.setState(s=>({children:xM(s.children,r)}));let i;for(i in r)if(Object.hasOwn(r,i)){const s=n&&Object.hasOwn(n,i);r[i]&&s&&this.currentlyTransitioningKeys[i]?(this.keysToEnter.push(i),this.keysToAbortLeave.push(i)):r[i]&&!s&&!this.currentlyTransitioningKeys[i]&&this.keysToEnter.push(i)}for(i in n)if(Object.hasOwn(n,i)){const s=r&&Object.hasOwn(r,i);n[i]&&!s&&!this.currentlyTransitioningKeys[i]&&this.keysToLeave.push(i)}}componentDidUpdate(){const{keysToEnter:e}=this;this.keysToEnter=[],e.forEach(this.performEnter);const{keysToLeave:r}=this;this.keysToLeave=[],r.forEach(this.performLeave)}_finishAbort(e){const r=this.keysToAbortLeave.indexOf(e);r!==-1&&this.keysToAbortLeave.splice(r,1)}performAppear(e){this.currentlyTransitioningKeys[e]=!0;const r=this.refs[e];r!=null&&r.componentWillAppear?r.componentWillAppear(this._handleDoneAppearing.bind(this,e)):this._handleDoneAppearing(e)}_handleDoneAppearing(e){const r=this.refs[e];r!=null&&r.componentDidAppear&&r.componentDidAppear(),delete this.currentlyTransitioningKeys[e],this._finishAbort(e);const n=jc(ti(this.props.children)||[]);(!n||!Object.hasOwn(n,e))&&this.performLeave(e)}performEnter(e){this.currentlyTransitioningKeys[e]=!0;const r=this.refs[e];r!=null&&r.componentWillEnter?r.componentWillEnter(this._handleDoneEntering.bind(this,e)):this._handleDoneEntering(e)}_handleDoneEntering(e){const r=this.refs[e];r!=null&&r.componentDidEnter&&r.componentDidEnter(),delete this.currentlyTransitioningKeys[e],this._finishAbort(e);const n=jc(ti(this.props.children)||[]);(!n||!Object.hasOwn(n,e))&&this.performLeave(e)}performLeave(e){if(this.keysToAbortLeave.indexOf(e)!==-1)return;this.currentlyTransitioningKeys[e]=!0;const n=this.refs[e];n!=null&&n.componentWillLeave?n.componentWillLeave(this._handleDoneLeaving.bind(this,e)):this._handleDoneLeaving(e)}_handleDoneLeaving(e){if(this.keysToAbortLeave.indexOf(e)!==-1)return;const n=this.refs[e];n!=null&&n.componentDidLeave&&n.componentDidLeave(),delete this.currentlyTransitioningKeys[e];const i=jc(ti(this.props.children)||[]);if(i&&Object.hasOwn(i,e))this.performEnter(e);else{const s=gM({},this.state.children);delete s[e],this.setState({children:s})}}render({childFactory:e,transitionLeave:r,transitionName:n,transitionAppear:i,transitionEnter:s,transitionLeaveTimeout:a,transitionEnterTimeout:o,transitionAppearTimeout:l,component:c,...d},{children:f}){const h=Object.entries(f).map(([p,g])=>{if(!g)return;const m=yM(this,p);return P4(e(g),{ref:m,key:p})}).filter(Boolean);return Vu(c,d,h)}}Z4.defaultProps={component:"span",childFactory:wM};class Q4 extends oc{constructor(r,n){super(r,n);W(this,"render",r=>I("div",{className:"uppy uppy-Informer",children:I(Z4,{children:r.info.map(n=>I(mM,{children:I("p",{role:"alert",children:[n.message," ",n.details&&I("span",{"aria-label":n.details,"data-microtip-position":"top-left","data-microtip-size":"medium",role:"tooltip",onClick:()=>alert(`${n.message}

 ${n.details}`),children:"?"})]})},n.message))})}));this.type="progressindicator",this.id=this.opts.id||"Informer",this.title="Informer"}install(){const{target:r}=this.opts;r&&this.mount(r,this)}}W(Q4,"VERSION",pM.version);var J4={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function r(){for(var s="",a=0;a<arguments.length;a++){var o=arguments[a];o&&(s=i(s,n(o)))}return s}function n(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return r.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var a="";for(var o in s)e.call(s,o)&&s[o]&&(a=i(a,o));return a}function i(s,a){return a?s?s+" "+a:s+a:s}t.exports?(r.default=r,t.exports=r):window.classNames=r})()})(J4);var _M=J4.exports;const gi=ps(_M),bM={position:"relative",width:"100%",minHeight:"100%"},CM={position:"absolute",top:0,left:0,width:"100%",overflow:"visible"};class SM extends rn{constructor(r){super(r);W(this,"handleScroll",()=>{this.setState({offset:this.base.scrollTop})});W(this,"handleResize",()=>{this.resize()});this.focusElement=null,this.state={offset:0,height:0}}componentDidMount(){this.resize(),window.addEventListener("resize",this.handleResize)}componentWillUpdate(){this.base.contains(document.activeElement)&&(this.focusElement=document.activeElement)}componentDidUpdate(){var r;(r=this.focusElement)!=null&&r.parentNode&&document.activeElement!==this.focusElement&&this.focusElement.focus(),this.focusElement=null,this.resize()}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}resize(){const{height:r}=this.state;r!==this.base.offsetHeight&&this.setState({height:this.base.offsetHeight})}render({data:r,rowHeight:n,renderRow:i,overscanCount:s=10,...a}){const{offset:o,height:l}=this.state;let c=Math.floor(o/n),d=Math.floor(l/n);s&&(c=Math.max(0,c-c%s),d+=s);const f=c+d+4,h=r.slice(c,f),p={...bM,height:r.length*n},g={...CM,top:c*n};return I("div",{onScroll:this.handleScroll,...a,children:I("div",{role:"presentation",style:p,children:I("div",{role:"presentation",style:g,children:h.map(i)})})})}}function EM(){return I("svg",{"aria-hidden":"true",focusable:"false",width:"30",height:"30",viewBox:"0 0 30 30",children:I("path",{d:"M15 30c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15C6.716 0 0 6.716 0 15c0 8.284 6.716 15 15 15zm4.258-12.676v6.846h-8.426v-6.846H5.204l9.82-12.364 9.82 12.364H19.26z"})})}function v_(t,e,r,n){return t===e?t:n===0?e:t+(e-t)*2**(-n/r)}const AM="4.2.3",NM={version:AM},TM={strings:{uploading:"Uploading",complete:"Complete",uploadFailed:"Upload failed",paused:"Paused",retry:"Retry",cancel:"Cancel",pause:"Pause",resume:"Resume",done:"Done",filesUploadedOfTotal:{0:"%{complete} of %{smart_count} file uploaded",1:"%{complete} of %{smart_count} files uploaded"},dataUploadedOfTotal:"%{complete} of %{total}",dataUploadedOfUnknown:"%{complete} of unknown",xTimeLeft:"%{time} left",uploadXFiles:{0:"Upload %{smart_count} file",1:"Upload %{smart_count} files"},uploadXNewFiles:{0:"Upload +%{smart_count} file",1:"Upload +%{smart_count} files"},upload:"Upload",retryUpload:"Retry upload",xMoreFilesAdded:{0:"%{smart_count} more file added",1:"%{smart_count} more files added"},showErrorDetails:"Show error details"}},Ci={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete"};function IM(t){const e=Math.floor(t/3600)%24,r=Math.floor(t/60)%60,n=Math.floor(t%60);return{hours:e,minutes:r,seconds:n}}function PM(t){const e=IM(t),r=e.hours===0?"":`${e.hours}h`,n=e.minutes===0?"":`${e.hours===0?e.minutes:` ${e.minutes.toString(10).padStart(2,"0")}`}m`,i=e.hours!==0?"":`${e.minutes===0?e.seconds:` ${e.seconds.toString(10).padStart(2,"0")}`}s`;return`${r}${n}${i}`}const OM="",y_=()=>` ${OM} `;function RM(t){const{newFiles:e,isUploadStarted:r,recoveredState:n,i18n:i,uploadState:s,isSomeGhost:a,startUpload:o}=t,l=gi("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--upload",{"uppy-c-btn-primary":s===Ci.STATE_WAITING},{"uppy-StatusBar-actionBtn--disabled":a}),c=e&&r&&!n?i("uploadXNewFiles",{smart_count:e}):i("uploadXFiles",{smart_count:e});return I("button",{type:"button",className:l,"aria-label":i("uploadXFiles",{smart_count:e}),onClick:o,disabled:a,"data-uppy-super-focusable":!0,children:c})}function kM(t){const{i18n:e,uppy:r}=t;return I("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--retry","aria-label":e("retryUpload"),onClick:()=>r.retryAll().catch(()=>{}),"data-uppy-super-focusable":!0,"data-cy":"retry",children:[I("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"8",height:"10",viewBox:"0 0 8 10",children:I("path",{d:"M4 2.408a2.75 2.75 0 1 0 2.75 2.75.626.626 0 0 1 1.25.018v.023a4 4 0 1 1-4-4.041V.25a.25.25 0 0 1 .389-.208l2.299 1.533a.25.25 0 0 1 0 .416l-2.3 1.533A.25.25 0 0 1 4 3.316v-.908z"})}),e("retry")]})}function DM(t){const{i18n:e,uppy:r}=t;return I("button",{type:"button",className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",title:e("cancel"),"aria-label":e("cancel"),onClick:()=>r.cancelAll(),"data-cy":"cancel","data-uppy-super-focusable":!0,children:I("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16",children:I("g",{fill:"none",fillRule:"evenodd",children:[I("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),I("path",{fill:"#FFF",d:"M9.283 8l2.567 2.567-1.283 1.283L8 9.283 5.433 11.85 4.15 10.567 6.717 8 4.15 5.433 5.433 4.15 8 6.717l2.567-2.567 1.283 1.283z"})]})})})}function jM(t){const{isAllPaused:e,i18n:r,isAllComplete:n,resumableUploads:i,uppy:s}=t,a=r(e?"resume":"pause");function o(){if(!n){if(!i){s.cancelAll();return}if(e){s.resumeAll();return}s.pauseAll()}}return I("button",{title:a,"aria-label":a,className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",type:"button",onClick:o,"data-cy":"togglePauseResume","data-uppy-super-focusable":!0,children:I("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16",children:I("g",{fill:"none",fillRule:"evenodd",children:[I("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),I("path",{fill:"#FFF",d:e?"M6 4.25L11.5 8 6 11.75z":"M5 4.5h2v7H5v-7zm4 0h2v7H9v-7z"})]})})})}function FM(t){const{i18n:e,doneButtonHandler:r}=t;return I("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--done",onClick:r,"data-uppy-super-focusable":!0,children:e("done")})}function e8(){return I("svg",{className:"uppy-StatusBar-spinner","aria-hidden":"true",focusable:"false",width:"14",height:"14",children:I("path",{d:"M13.983 6.547c-.12-2.509-1.64-4.893-3.939-5.936-2.48-1.127-5.488-.656-7.556 1.094C.524 3.367-.398 6.048.162 8.562c.556 2.495 2.46 4.52 4.94 5.183 2.932.784 5.61-.602 7.256-3.015-1.493 1.993-3.745 3.309-6.298 2.868-2.514-.434-4.578-2.349-5.153-4.84a6.226 6.226 0 0 1 2.98-6.778C6.34.586 9.74 1.1 11.373 3.493c.407.596.693 1.282.842 1.988.127.598.073 1.197.161 1.794.078.525.543 1.257 1.15.864.525-.341.49-1.05.456-1.592-.007-.15.02.3 0 0",fillRule:"evenodd"})})}function MM(t){const{progress:e}=t,{value:r,mode:n,message:i}=e;return I("div",{className:"uppy-StatusBar-content",children:[I(e8,{}),n==="determinate"?`${Math.round(r*100)}%  `:"",i]})}function LM(t){const{numUploads:e,complete:r,totalUploadedSize:n,totalSize:i,totalETA:s,i18n:a}=t,o=e>1,l=La(n);return I("div",{className:"uppy-StatusBar-statusSecondary",children:[o&&a("filesUploadedOfTotal",{complete:r,smart_count:e}),I("span",{className:"uppy-StatusBar-additionalInfo",children:[o&&y_(),i!=null?a("dataUploadedOfTotal",{complete:l,total:La(i)}):a("dataUploadedOfUnknown",{complete:l}),y_(),s!=null&&a("xTimeLeft",{time:PM(s)})]})]})}function t8(t){const{i18n:e,complete:r,numUploads:n}=t;return I("div",{className:"uppy-StatusBar-statusSecondary",children:e("filesUploadedOfTotal",{complete:r,smart_count:n})})}function BM(t){const{i18n:e,newFiles:r,startUpload:n}=t,i=gi("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--uploadNewlyAdded");return I("div",{className:"uppy-StatusBar-statusSecondary",children:[I("div",{className:"uppy-StatusBar-statusSecondaryHint",children:e("xMoreFilesAdded",{smart_count:r})}),I("button",{type:"button",className:i,"aria-label":e("uploadXFiles",{smart_count:r}),onClick:n,children:e("upload")})]})}function UM(t){const{i18n:e,supportsUploadProgress:r,totalProgress:n,showProgressDetails:i,isUploadStarted:s,isAllComplete:a,isAllPaused:o,newFiles:l,numUploads:c,complete:d,totalUploadedSize:f,totalSize:h,totalETA:p,startUpload:g}=t,m=l&&s;if(!s||a)return null;const x=e(o?"paused":"uploading");function y(){return!o&&!m&&i?r?I(LM,{numUploads:c,complete:d,totalUploadedSize:f,totalSize:h,totalETA:p,i18n:e}):I(t8,{i18n:e,complete:d,numUploads:c}):null}return I("div",{className:"uppy-StatusBar-content",title:x,children:[o?null:I(e8,{}),I("div",{className:"uppy-StatusBar-status",children:[I("div",{className:"uppy-StatusBar-statusPrimary",children:r&&n!==0?`${x}: ${n}%`:x}),y(),m?I(BM,{i18n:e,newFiles:l,startUpload:g}):null]})]})}function $M(t){const{i18n:e}=t;return I("div",{className:"uppy-StatusBar-content",role:"status",title:e("complete"),children:I("div",{className:"uppy-StatusBar-status",children:I("div",{className:"uppy-StatusBar-statusPrimary",children:[I("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"15",height:"11",viewBox:"0 0 15 11",children:I("path",{d:"M.414 5.843L1.627 4.63l3.472 3.472L13.202 0l1.212 1.213L5.1 10.528z"})}),e("complete")]})})})}function VM(t){const{error:e,i18n:r,complete:n,numUploads:i}=t;function s(){const a=`${r("uploadFailed")}

 ${e}`;alert(a)}return I("div",{className:"uppy-StatusBar-content",title:r("uploadFailed"),children:[I("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"11",height:"11",viewBox:"0 0 11 11",children:I("path",{d:"M4.278 5.5L0 1.222 1.222 0 5.5 4.278 9.778 0 11 1.222 6.722 5.5 11 9.778 9.778 11 5.5 6.722 1.222 11 0 9.778z"})}),I("div",{className:"uppy-StatusBar-status",children:[I("div",{className:"uppy-StatusBar-statusPrimary",children:[r("uploadFailed"),I("button",{className:"uppy-u-reset uppy-StatusBar-details","aria-label":r("showErrorDetails"),"data-microtip-position":"top-right","data-microtip-size":"medium",onClick:s,type:"button",children:"?"})]}),I(t8,{i18n:r,complete:n,numUploads:i})]})]})}function Y0(t){const e=[];let r="indeterminate",n;for(const{progress:s}of Object.values(t)){const{preprocess:a,postprocess:o}=s;n==null&&(a||o)&&({mode:r,message:n}=a||o),(a==null?void 0:a.mode)==="determinate"&&e.push(a.value),(o==null?void 0:o.mode)==="determinate"&&e.push(o.value)}const i=e.reduce((s,a)=>s+a/e.length,0);return{mode:r,message:n,value:i}}const{STATE_ERROR:x_,STATE_WAITING:zM,STATE_PREPROCESSING:Z0,STATE_UPLOADING:ff,STATE_POSTPROCESSING:Q0,STATE_COMPLETE:hf}=Ci;function HM({newFiles:t,allowNewUpload:e,isUploadInProgress:r,isAllPaused:n,resumableUploads:i,error:s,hideUploadButton:a=void 0,hidePauseResumeButton:o=!1,hideCancelButton:l=!1,hideRetryButton:c=!1,recoveredState:d,uploadState:f,totalProgress:h,files:p,supportsUploadProgress:g,hideAfterFinish:m=!1,isSomeGhost:x,doneButtonHandler:y=void 0,isUploadStarted:v,i18n:_,startUpload:w,uppy:S,isAllComplete:A,showProgressDetails:E=void 0,numUploads:P,complete:j,totalSize:F,totalETA:H,totalUploadedSize:L}){function N(){switch(f){case Q0:case Z0:{const B=Y0(p);return B.mode==="determinate"?B.value*100:h}case x_:return null;case ff:return g?h:null;default:return h}}function O(){switch(f){case Q0:case Z0:{const{mode:B}=Y0(p);return B==="indeterminate"}case ff:return!g;default:return!1}}const q=N(),Q=q??100,X=!s&&t&&(!r&&!n||d)&&e&&!a,D=!l&&f!==zM&&f!==hf,k=i&&!o&&f===ff,M=s&&!A&&!c,$=y&&f===hf,ee=gi("uppy-StatusBar-progress",{"is-indeterminate":O()}),se=gi("uppy-StatusBar",`is-${f}`,{"has-ghosts":x}),he=(()=>{switch(f){case Z0:case Q0:return I(MM,{progress:Y0(p)});case hf:return I($M,{i18n:_});case x_:return I(VM,{error:s,i18n:_,numUploads:P,complete:j});case ff:return I(UM,{i18n:_,supportsUploadProgress:g,totalProgress:h,showProgressDetails:E,isUploadStarted:v,isAllComplete:A,isAllPaused:n,newFiles:t,numUploads:P,complete:j,totalUploadedSize:L,totalSize:F,totalETA:H,startUpload:w});default:return null}})();return!(X||M||k||D||$)&&!he||f===hf&&m?null:I("div",{className:se,children:[I("div",{className:ee,style:{width:`${Q}%`},role:"progressbar","aria-label":`${Q}%`,"aria-valuetext":`${Q}%`,"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":q}),he,I("div",{className:"uppy-StatusBar-actions",children:[X?I(RM,{newFiles:t,isUploadStarted:v,recoveredState:d,i18n:_,isSomeGhost:x,startUpload:w,uploadState:f}):null,M?I(kM,{i18n:_,uppy:S}):null,k?I(jM,{isAllPaused:n,i18n:_,isAllComplete:A,resumableUploads:i,uppy:S}):null,D?I(DM,{i18n:_,uppy:S}):null,$?I(FM,{i18n:_,doneButtonHandler:y}):null]})]})}const WM=2e3,GM=2e3;function qM(t,e,r,n){if(t)return Ci.STATE_ERROR;if(e)return Ci.STATE_COMPLETE;if(r)return Ci.STATE_WAITING;let i=Ci.STATE_WAITING;const s=Object.keys(n);for(let a=0;a<s.length;a++){const{progress:o}=n[s[a]];if(o.uploadStarted&&!o.uploadComplete)return Ci.STATE_UPLOADING;o.preprocess&&(i=Ci.STATE_PREPROCESSING),o.postprocess&&i!==Ci.STATE_PREPROCESSING&&(i=Ci.STATE_POSTPROCESSING)}return i}const XM={hideUploadButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideCancelButton:!1,showProgressDetails:!1,hideAfterFinish:!0,doneButtonHandler:null};var v1,zs,Hs,Qa,Qi,Qh,r8,rd;let KM=(v1=class extends oc{constructor(r,n){super(r,{...XM,...n});z(this,Qh);z(this,zs);z(this,Hs);z(this,Qa);z(this,Qi);W(this,"startUpload",()=>this.uppy.upload().catch(()=>{}));z(this,rd,()=>{const{recoveredState:r}=this.uppy.getState();if(G(this,Qa,null),G(this,Qi,null),r){G(this,Hs,Object.values(r.files).reduce((n,{progress:i})=>n+i.bytesUploaded,0)),this.uppy.emit("restore-confirmed");return}G(this,zs,performance.now()),G(this,Hs,0)});this.id=this.opts.id||"StatusBar",this.title="StatusBar",this.type="progressindicator",this.defaultLocale=TM,this.i18nInit(),this.render=this.render.bind(this),this.install=this.install.bind(this)}render(r){const{capabilities:n,files:i,allowNewUpload:s,totalProgress:a,error:o,recoveredState:l}=r,{newFiles:c,startedFiles:d,completeFiles:f,isUploadStarted:h,isAllComplete:p,isAllPaused:g,isUploadInProgress:m,isSomeGhost:x}=this.uppy.getObjectOfFilesPerState(),y=l?Object.values(i):c,v=!!n.resumableUploads,_=n.uploadProgress!==!1;let w=null,S=0;d.every(E=>E.progress.bytesTotal!=null&&E.progress.bytesTotal!==0)?(w=0,d.forEach(E=>{w+=E.progress.bytesTotal||0,S+=E.progress.bytesUploaded||0})):d.forEach(E=>{S+=E.progress.bytesUploaded||0});const A=Z(this,Qh,r8).call(this,{uploaded:S,total:w});return HM({error:o,uploadState:qM(o,p,l,r.files||{}),allowNewUpload:s,totalProgress:a,totalSize:w,totalUploadedSize:S,isAllComplete:!1,isAllPaused:g,isUploadStarted:h,isUploadInProgress:m,isSomeGhost:x,recoveredState:l,complete:f.length,newFiles:y.length,numUploads:d.length,totalETA:A,files:i,i18n:this.i18n,uppy:this.uppy,startUpload:this.startUpload,doneButtonHandler:this.opts.doneButtonHandler,resumableUploads:v,supportsUploadProgress:_,showProgressDetails:this.opts.showProgressDetails,hideUploadButton:this.opts.hideUploadButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,hideCancelButton:this.opts.hideCancelButton,hideAfterFinish:this.opts.hideAfterFinish})}onMount(){const r=this.el;y4(r)||(r.dir="ltr")}install(){const{target:r}=this.opts;r&&this.mount(r,this),this.uppy.on("upload",C(this,rd)),G(this,zs,performance.now()),G(this,Hs,this.uppy.getFiles().reduce((n,i)=>n+i.progress.bytesUploaded,0))}uninstall(){this.unmount(),this.uppy.off("upload",C(this,rd))}},zs=new WeakMap,Hs=new WeakMap,Qa=new WeakMap,Qi=new WeakMap,Qh=new WeakSet,r8=function(r){if(r.total==null||r.total===0)return null;const n=r.total-r.uploaded;if(n<=0)return null;C(this,zs)??G(this,zs,performance.now());const i=performance.now()-C(this,zs);if(i===0)return Math.round((C(this,Qi)??0)/100)/10;const s=r.uploaded-C(this,Hs);if(G(this,Hs,r.uploaded),s<=0)return Math.round((C(this,Qi)??0)/100)/10;const a=s/i,o=C(this,Qa)==null?a:v_(a,C(this,Qa),WM,i);G(this,Qa,o);const l=n/o,c=Math.max(C(this,Qi)-i,0),d=C(this,Qi)==null?l:v_(l,c,GM,i);return G(this,Qi,d),G(this,zs,performance.now()),Math.round(d/100)/10},rd=new WeakMap,W(v1,"VERSION",NM.version),v1);const YM=/^data:([^/]+\/[^,;]+(?:[^,]*?))(;base64)?,([\s\S]*)$/;function ZM(t,e,r){const n=YM.exec(t),i=e.mimeType??(n==null?void 0:n[1])??"plain/text";let s;if((n==null?void 0:n[2])!=null){const a=atob(decodeURIComponent(n[3])),o=new Uint8Array(a.length);for(let l=0;l<a.length;l++)o[l]=a.charCodeAt(l);s=[o]}else(n==null?void 0:n[3])!=null&&(s=[decodeURIComponent(n[3])]);return new Blob(s,{type:i})}function w_(t){return t.startsWith("blob:")}function __(t){return t?/^[^/]+\/(jpe?g|gif|png|svg|svg\+xml|bmp|webp|avif)$/.test(t):!1}function tt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var n8=typeof self<"u"?self:global;const Wu=typeof navigator<"u",QM=Wu&&typeof HTMLImageElement>"u",b_=!(typeof global>"u"||typeof process>"u"||!process.versions||!process.versions.node),i8=n8.Buffer,s8=!!i8,JM=t=>t!==void 0;function a8(t){return t===void 0||(t instanceof Map?t.size===0:Object.values(t).filter(JM).length===0)}function ur(t){let e=new Error(t);throw delete e.stack,e}function C_(t){let e=function(r){let n=0;return r.ifd0.enabled&&(n+=1024),r.exif.enabled&&(n+=2048),r.makerNote&&(n+=2048),r.userComment&&(n+=1024),r.gps.enabled&&(n+=512),r.interop.enabled&&(n+=100),r.ifd1.enabled&&(n+=1024),n+2048}(t);return t.jfif.enabled&&(e+=50),t.xmp.enabled&&(e+=2e4),t.iptc.enabled&&(e+=14e3),t.icc.enabled&&(e+=6e3),e}const J0=t=>String.fromCharCode.apply(null,t),S_=typeof TextDecoder<"u"?new TextDecoder("utf-8"):void 0;class si{static from(e,r){return e instanceof this&&e.le===r?e:new si(e,void 0,void 0,r)}constructor(e,r=0,n,i){if(typeof i=="boolean"&&(this.le=i),Array.isArray(e)&&(e=new Uint8Array(e)),e===0)this.byteOffset=0,this.byteLength=0;else if(e instanceof ArrayBuffer){n===void 0&&(n=e.byteLength-r);let s=new DataView(e,r,n);this._swapDataView(s)}else if(e instanceof Uint8Array||e instanceof DataView||e instanceof si){n===void 0&&(n=e.byteLength-r),(r+=e.byteOffset)+n>e.byteOffset+e.byteLength&&ur("Creating view outside of available memory in ArrayBuffer");let s=new DataView(e.buffer,r,n);this._swapDataView(s)}else if(typeof e=="number"){let s=new DataView(new ArrayBuffer(e));this._swapDataView(s)}else ur("Invalid input argument for BufferView: "+e)}_swapArrayBuffer(e){this._swapDataView(new DataView(e))}_swapBuffer(e){this._swapDataView(new DataView(e.buffer,e.byteOffset,e.byteLength))}_swapDataView(e){this.dataView=e,this.buffer=e.buffer,this.byteOffset=e.byteOffset,this.byteLength=e.byteLength}_lengthToEnd(e){return this.byteLength-e}set(e,r,n=si){return e instanceof DataView||e instanceof si?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer&&(e=new Uint8Array(e)),e instanceof Uint8Array||ur("BufferView.set(): Invalid data argument."),this.toUint8().set(e,r),new n(this,r,e.byteLength)}subarray(e,r){return r=r||this._lengthToEnd(e),new si(this,e,r)}toUint8(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)}getUint8Array(e,r){return new Uint8Array(this.buffer,this.byteOffset+e,r)}getString(e=0,r=this.byteLength){return i=this.getUint8Array(e,r),S_?S_.decode(i):s8?Buffer.from(i).toString("utf8"):decodeURIComponent(escape(J0(i)));var i}getLatin1String(e=0,r=this.byteLength){let n=this.getUint8Array(e,r);return J0(n)}getUnicodeString(e=0,r=this.byteLength){const n=[];for(let i=0;i<r&&e+i<this.byteLength;i+=2)n.push(this.getUint16(e+i));return J0(n)}getInt8(e){return this.dataView.getInt8(e)}getUint8(e){return this.dataView.getUint8(e)}getInt16(e,r=this.le){return this.dataView.getInt16(e,r)}getInt32(e,r=this.le){return this.dataView.getInt32(e,r)}getUint16(e,r=this.le){return this.dataView.getUint16(e,r)}getUint32(e,r=this.le){return this.dataView.getUint32(e,r)}getFloat32(e,r=this.le){return this.dataView.getFloat32(e,r)}getFloat64(e,r=this.le){return this.dataView.getFloat64(e,r)}getFloat(e,r=this.le){return this.dataView.getFloat32(e,r)}getDouble(e,r=this.le){return this.dataView.getFloat64(e,r)}getUintBytes(e,r,n){switch(r){case 1:return this.getUint8(e,n);case 2:return this.getUint16(e,n);case 4:return this.getUint32(e,n);case 8:return this.getUint64&&this.getUint64(e,n)}}getUint(e,r,n){switch(r){case 8:return this.getUint8(e,n);case 16:return this.getUint16(e,n);case 32:return this.getUint32(e,n);case 64:return this.getUint64&&this.getUint64(e,n)}}toString(e){return this.dataView.toString(e,this.constructor.name)}ensureChunk(){}}function cg(t,e){ur(`${t} '${e}' was not loaded, try using full build of exifr.`)}class Fy extends Map{constructor(e){super(),this.kind=e}get(e,r){return this.has(e)||cg(this.kind,e),r&&(e in r||function(n,i){ur(`Unknown ${n} '${i}'.`)}(this.kind,e),r[e].enabled||cg(this.kind,e)),super.get(e)}keyList(){return Array.from(this.keys())}}var o8=new Fy("file parser"),Jn=new Fy("segment parser"),My=new Fy("file reader");let eL=n8.fetch;function E_(t,e){return(r=t).startsWith("data:")||r.length>1e4?dg(t,e,"base64"):b_&&t.includes("://")?ug(t,e,"url",A_):b_?dg(t,e,"fs"):Wu?ug(t,e,"url",A_):void ur("Invalid input argument");var r}async function ug(t,e,r,n){return My.has(r)?dg(t,e,r):n?async function(i,s){let a=await s(i);return new si(a)}(t,n):void ur(`Parser ${r} is not loaded`)}async function dg(t,e,r){let n=new(My.get(r))(t,e);return await n.read(),n}const A_=t=>eL(t).then(e=>e.arrayBuffer()),fg=t=>new Promise((e,r)=>{let n=new FileReader;n.onloadend=()=>e(n.result||new ArrayBuffer),n.onerror=r,n.readAsArrayBuffer(t)}),Ly=new Map,tL=new Map,rL=new Map,pf=["chunked","firstChunkSize","firstChunkSizeNode","firstChunkSizeBrowser","chunkSize","chunkLimit"],l8=["jfif","xmp","icc","iptc","ihdr"],hg=["tiff",...l8],nr=["ifd0","ifd1","exif","gps","interop"],mf=[...hg,...nr],gf=["makerNote","userComment"],c8=["translateKeys","translateValues","reviveValues","multiSegment"],vf=[...c8,"sanitize","mergeOutput","silentErrors"];class u8{get translate(){return this.translateKeys||this.translateValues||this.reviveValues}}class Fc extends u8{get needed(){return this.enabled||this.deps.size>0}constructor(e,r,n,i){if(super(),tt(this,"enabled",!1),tt(this,"skip",new Set),tt(this,"pick",new Set),tt(this,"deps",new Set),tt(this,"translateKeys",!1),tt(this,"translateValues",!1),tt(this,"reviveValues",!1),this.key=e,this.enabled=r,this.parse=this.enabled,this.applyInheritables(i),this.canBeFiltered=nr.includes(e),this.canBeFiltered&&(this.dict=Ly.get(e)),n!==void 0)if(Array.isArray(n))this.parse=this.enabled=!0,this.canBeFiltered&&n.length>0&&this.translateTagSet(n,this.pick);else if(typeof n=="object"){if(this.enabled=!0,this.parse=n.parse!==!1,this.canBeFiltered){let{pick:s,skip:a}=n;s&&s.length>0&&this.translateTagSet(s,this.pick),a&&a.length>0&&this.translateTagSet(a,this.skip)}this.applyInheritables(n)}else n===!0||n===!1?this.parse=this.enabled=n:ur(`Invalid options argument: ${n}`)}applyInheritables(e){let r,n;for(r of c8)n=e[r],n!==void 0&&(this[r]=n)}translateTagSet(e,r){if(this.dict){let n,i,{tagKeys:s,tagValues:a}=this.dict;for(n of e)typeof n=="string"?(i=a.indexOf(n),i===-1&&(i=s.indexOf(Number(n))),i!==-1&&r.add(Number(s[i]))):r.add(n)}else for(let n of e)r.add(n)}finalizeFilters(){!this.enabled&&this.deps.size>0?(this.enabled=!0,Hh(this.pick,this.deps)):this.enabled&&this.pick.size>0&&Hh(this.pick,this.deps)}}var Rr={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,ihdr:void 0,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},N_=new Map;class By extends u8{static useCached(e){let r=N_.get(e);return r!==void 0||(r=new this(e),N_.set(e,r)),r}constructor(e){super(),e===!0?this.setupFromTrue():e===void 0?this.setupFromUndefined():Array.isArray(e)?this.setupFromArray(e):typeof e=="object"?this.setupFromObject(e):ur(`Invalid options argument ${e}`),this.firstChunkSize===void 0&&(this.firstChunkSize=Wu?this.firstChunkSizeBrowser:this.firstChunkSizeNode),this.mergeOutput&&(this.ifd1.enabled=!1),this.filterNestedSegmentTags(),this.traverseTiffDependencyTree(),this.checkLoadedPlugins()}setupFromUndefined(){let e;for(e of pf)this[e]=Rr[e];for(e of vf)this[e]=Rr[e];for(e of gf)this[e]=Rr[e];for(e of mf)this[e]=new Fc(e,Rr[e],void 0,this)}setupFromTrue(){let e;for(e of pf)this[e]=Rr[e];for(e of vf)this[e]=Rr[e];for(e of gf)this[e]=!0;for(e of mf)this[e]=new Fc(e,!0,void 0,this)}setupFromArray(e){let r;for(r of pf)this[r]=Rr[r];for(r of vf)this[r]=Rr[r];for(r of gf)this[r]=Rr[r];for(r of mf)this[r]=new Fc(r,!1,void 0,this);this.setupGlobalFilters(e,void 0,nr)}setupFromObject(e){let r;for(r of(nr.ifd0=nr.ifd0||nr.image,nr.ifd1=nr.ifd1||nr.thumbnail,Object.assign(this,e),pf))this[r]=e1(e[r],Rr[r]);for(r of vf)this[r]=e1(e[r],Rr[r]);for(r of gf)this[r]=e1(e[r],Rr[r]);for(r of hg)this[r]=new Fc(r,Rr[r],e[r],this);for(r of nr)this[r]=new Fc(r,Rr[r],e[r],this.tiff);this.setupGlobalFilters(e.pick,e.skip,nr,mf),e.tiff===!0?this.batchEnableWithBool(nr,!0):e.tiff===!1?this.batchEnableWithUserValue(nr,e):Array.isArray(e.tiff)?this.setupGlobalFilters(e.tiff,void 0,nr):typeof e.tiff=="object"&&this.setupGlobalFilters(e.tiff.pick,e.tiff.skip,nr)}batchEnableWithBool(e,r){for(let n of e)this[n].enabled=r}batchEnableWithUserValue(e,r){for(let n of e){let i=r[n];this[n].enabled=i!==!1&&i!==void 0}}setupGlobalFilters(e,r,n,i=n){if(e&&e.length){for(let a of i)this[a].enabled=!1;let s=T_(e,n);for(let[a,o]of s)Hh(this[a].pick,o),this[a].enabled=!0}else if(r&&r.length){let s=T_(r,n);for(let[a,o]of s)Hh(this[a].skip,o)}}filterNestedSegmentTags(){let{ifd0:e,exif:r,xmp:n,iptc:i,icc:s}=this;this.makerNote?r.deps.add(37500):r.skip.add(37500),this.userComment?r.deps.add(37510):r.skip.add(37510),n.enabled||e.skip.add(700),i.enabled||e.skip.add(33723),s.enabled||e.skip.add(34675)}traverseTiffDependencyTree(){let{ifd0:e,exif:r,gps:n,interop:i}=this;i.needed&&(r.deps.add(40965),e.deps.add(40965)),r.needed&&e.deps.add(34665),n.needed&&e.deps.add(34853),this.tiff.enabled=nr.some(s=>this[s].enabled===!0)||this.makerNote||this.userComment;for(let s of nr)this[s].finalizeFilters()}get onlyTiff(){return!l8.map(e=>this[e].enabled).some(e=>e===!0)&&this.tiff.enabled}checkLoadedPlugins(){for(let e of hg)this[e].enabled&&!Jn.has(e)&&cg("segment parser",e)}}function T_(t,e){let r,n,i,s,a=[];for(i of e){for(s of(r=Ly.get(i),n=[],r))(t.includes(s[0])||t.includes(s[1]))&&n.push(s[0]);n.length&&a.push([i,n])}return a}function e1(t,e){return t!==void 0?t:e!==void 0?e:void 0}function Hh(t,e){for(let r of e)t.add(r)}tt(By,"default",Rr);class nL{constructor(e){tt(this,"parsers",{}),tt(this,"output",{}),tt(this,"errors",[]),tt(this,"pushToErrors",r=>this.errors.push(r)),this.options=By.useCached(e)}async read(e){this.file=await function(r,n){return typeof r=="string"?E_(r,n):Wu&&!QM&&r instanceof HTMLImageElement?E_(r.src,n):r instanceof Uint8Array||r instanceof ArrayBuffer||r instanceof DataView?new si(r):Wu&&r instanceof Blob?ug(r,n,"blob",fg):void ur("Invalid input argument")}(e,this.options)}setup(){if(this.fileParser)return;let{file:e}=this,r=e.getUint16(0);for(let[n,i]of o8)if(i.canHandle(e,r))return this.fileParser=new i(this.options,this.file,this.parsers),e[n]=!0;this.file.close&&this.file.close(),ur("Unknown file format")}async parse(){let{output:e,errors:r}=this;return this.setup(),this.options.silentErrors?(await this.executeParsers().catch(this.pushToErrors),r.push(...this.fileParser.errors)):await this.executeParsers(),this.file.close&&this.file.close(),this.options.silentErrors&&r.length>0&&(e.errors=r),a8(n=e)?void 0:n;var n}async executeParsers(){let{output:e}=this;await this.fileParser.parse();let r=Object.values(this.parsers).map(async n=>{let i=await n.parse();n.assignToOutput(e,i)});this.options.silentErrors&&(r=r.map(n=>n.catch(this.pushToErrors))),await Promise.all(r)}async extractThumbnail(){this.setup();let{options:e,file:r}=this,n=Jn.get("tiff",e);var i;if(r.tiff?i={start:0,type:"tiff"}:r.jpeg&&(i=await this.fileParser.getOrFindSegment("tiff")),i===void 0)return;let s=await this.fileParser.ensureSegmentChunk(i),a=this.parsers.tiff=new n(s,e,r),o=await a.extractThumbnail();return r.close&&r.close(),o}}class Jo{static findPosition(e,r){let n=e.getUint16(r+2)+2,i=typeof this.headerLength=="function"?this.headerLength(e,r,n):this.headerLength,s=r+i,a=n-i;return{offset:r,length:n,headerLength:i,start:s,size:a,end:s+a}}static parse(e,r={}){return new this(e,new By({[this.type]:r}),e).parse()}normalizeInput(e){return e instanceof si?e:new si(e)}constructor(e,r={},n){tt(this,"errors",[]),tt(this,"raw",new Map),tt(this,"handleError",i=>{if(!this.options.silentErrors)throw i;this.errors.push(i.message)}),this.chunk=this.normalizeInput(e),this.file=n,this.type=this.constructor.type,this.globalOptions=this.options=r,this.localOptions=r[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}translate(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))}get output(){return this.translated?this.translated:this.raw?Object.fromEntries(this.raw):void 0}translateBlock(e,r){let n=rL.get(r),i=tL.get(r),s=Ly.get(r),a=this.options[r],o=a.reviveValues&&!!n,l=a.translateValues&&!!i,c=a.translateKeys&&!!s,d={};for(let[f,h]of e)o&&n.has(f)?h=n.get(f)(h):l&&i.has(f)&&(h=this.translateValue(h,i.get(f))),c&&s.has(f)&&(f=s.get(f)||f),d[f]=h;return d}translateValue(e,r){return r[e]||r.DEFAULT||e}assignToOutput(e,r){this.assignObjectToOutput(e,this.constructor.type,r)}assignObjectToOutput(e,r,n){if(this.globalOptions.mergeOutput)return Object.assign(e,n);e[r]?Object.assign(e[r],n):e[r]=n}}tt(Jo,"headerLength",4),tt(Jo,"type",void 0),tt(Jo,"multiSegment",!1),tt(Jo,"canHandle",()=>!1);function iL(t){return t===192||t===194||t===196||t===219||t===221||t===218||t===254}function sL(t){return t>=224&&t<=239}function aL(t,e,r){for(let[n,i]of Jn)if(i.canHandle(t,e,r))return n}class I_ extends class{constructor(e,r,n){tt(this,"errors",[]),tt(this,"ensureSegmentChunk",async i=>{let s=i.start,a=i.size||65536;if(this.file.chunked)if(this.file.available(s,a))i.chunk=this.file.subarray(s,a);else try{i.chunk=await this.file.readChunk(s,a)}catch(o){ur(`Couldn't read segment: ${JSON.stringify(i)}. ${o.message}`)}else this.file.byteLength>s+a?i.chunk=this.file.subarray(s,a):i.size===void 0?i.chunk=this.file.subarray(s):ur("Segment unreachable: "+JSON.stringify(i));return i.chunk}),this.extendOptions&&this.extendOptions(e),this.options=e,this.file=r,this.parsers=n}injectSegment(e,r){this.options[e].enabled&&this.createParser(e,r)}createParser(e,r){let n=new(Jn.get(e))(r,this.options,this.file);return this.parsers[e]=n}createParsers(e){for(let r of e){let{type:n,chunk:i}=r,s=this.options[n];if(s&&s.enabled){let a=this.parsers[n];a&&a.append||a||this.createParser(n,i)}}}async readSegments(e){let r=e.map(this.ensureSegmentChunk);await Promise.all(r)}}{constructor(...e){super(...e),tt(this,"appSegments",[]),tt(this,"jpegSegments",[]),tt(this,"unknownSegments",[])}static canHandle(e,r){return r===65496}async parse(){await this.findAppSegments(),await this.readSegments(this.appSegments),this.mergeMultiSegments(),this.createParsers(this.mergedAppSegments||this.appSegments)}setupSegmentFinderArgs(e){e===!0?(this.findAll=!0,this.wanted=new Set(Jn.keyList())):(e=e===void 0?Jn.keyList().filter(r=>this.options[r].enabled):e.filter(r=>this.options[r].enabled&&Jn.has(r)),this.findAll=!1,this.remaining=new Set(e),this.wanted=new Set(e)),this.unfinishedMultiSegment=!1}async findAppSegments(e=0,r){this.setupSegmentFinderArgs(r);let{file:n,findAll:i,wanted:s,remaining:a}=this;if(!i&&this.file.chunked&&(i=Array.from(s).some(o=>{let l=Jn.get(o),c=this.options[o];return l.multiSegment&&c.multiSegment}),i&&await this.file.readWhole()),e=this.findAppSegmentsInRange(e,n.byteLength),!this.options.onlyTiff&&n.chunked){let o=!1;for(;a.size>0&&!o&&(n.canReadNextChunk||this.unfinishedMultiSegment);){let{nextChunkOffset:l}=n,c=this.appSegments.some(d=>!this.file.available(d.offset||d.start,d.length||d.size));if(o=e>l&&!c?!await n.readNextChunk(e):!await n.readNextChunk(l),(e=this.findAppSegmentsInRange(e,n.byteLength))===void 0)return}}}findAppSegmentsInRange(e,r){r-=2;let n,i,s,a,o,l,{file:c,findAll:d,wanted:f,remaining:h,options:p}=this;for(;e<r;e++)if(c.getUint8(e)===255){if(n=c.getUint8(e+1),sL(n)){if(i=c.getUint16(e+2),s=aL(c,e,i),s&&f.has(s)&&(a=Jn.get(s),o=a.findPosition(c,e),l=p[s],o.type=s,this.appSegments.push(o),!d&&(a.multiSegment&&l.multiSegment?(this.unfinishedMultiSegment=o.chunkNumber<o.chunkCount,this.unfinishedMultiSegment||h.delete(s)):h.delete(s),h.size===0)))break;p.recordUnknownSegments&&(o=Jo.findPosition(c,e),o.marker=n,this.unknownSegments.push(o)),e+=i+1}else if(iL(n)){if(i=c.getUint16(e+2),n===218&&p.stopAfterSos!==!1)return;p.recordJpegSegments&&this.jpegSegments.push({offset:e,length:i,marker:n}),e+=i+1}}return e}mergeMultiSegments(){if(!this.appSegments.some(r=>r.multiSegment))return;let e=function(r,n){let i,s,a,o=new Map;for(let l=0;l<r.length;l++)i=r[l],s=i[n],o.has(s)?a=o.get(s):o.set(s,a=[]),a.push(i);return Array.from(o)}(this.appSegments,"type");this.mergedAppSegments=e.map(([r,n])=>{let i=Jn.get(r,this.options);return i.handleMultiSegments?{type:r,chunk:i.handleMultiSegments(n)}:n[0]})}getSegment(e){return this.appSegments.find(r=>r.type===e)}async getOrFindSegment(e){let r=this.getSegment(e);return r===void 0&&(await this.findAppSegments(0,[e]),r=this.getSegment(e)),r}}tt(I_,"type","jpeg"),o8.set("jpeg",I_);const oL=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4];class lL extends Jo{parseHeader(){var e=this.chunk.getUint16();e===18761?this.le=!0:e===19789&&(this.le=!1),this.chunk.le=this.le,this.headerParsed=!0}parseTags(e,r,n=new Map){let{pick:i,skip:s}=this.options[r];i=new Set(i);let a=i.size>0,o=s.size===0,l=this.chunk.getUint16(e);e+=2;for(let c=0;c<l;c++){let d=this.chunk.getUint16(e);if(a){if(i.has(d)&&(n.set(d,this.parseTag(e,d,r)),i.delete(d),i.size===0))break}else!o&&s.has(d)||n.set(d,this.parseTag(e,d,r));e+=12}return n}parseTag(e,r,n){let{chunk:i}=this,s=i.getUint16(e+2),a=i.getUint32(e+4),o=oL[s];if(o*a<=4?e+=8:e=i.getUint32(e+8),(s<1||s>13)&&ur(`Invalid TIFF value type. block: ${n.toUpperCase()}, tag: ${r.toString(16)}, type: ${s}, offset ${e}`),e>i.byteLength&&ur(`Invalid TIFF value offset. block: ${n.toUpperCase()}, tag: ${r.toString(16)}, type: ${s}, offset ${e} is outside of chunk size ${i.byteLength}`),s===1)return i.getUint8Array(e,a);if(s===2)return(l=function(c){for(;c.endsWith("\0");)c=c.slice(0,-1);return c}(l=i.getString(e,a)).trim())===""?void 0:l;var l;if(s===7)return i.getUint8Array(e,a);if(a===1)return this.parseTagValue(s,e);{let c=new(function(f){switch(f){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 10:return Array;case 11:return Float32Array;case 12:return Float64Array;default:return Array}}(s))(a),d=o;for(let f=0;f<a;f++)c[f]=this.parseTagValue(s,e),e+=d;return c}}parseTagValue(e,r){let{chunk:n}=this;switch(e){case 1:return n.getUint8(r);case 3:return n.getUint16(r);case 4:return n.getUint32(r);case 5:return n.getUint32(r)/n.getUint32(r+4);case 6:return n.getInt8(r);case 8:return n.getInt16(r);case 9:return n.getInt32(r);case 10:return n.getInt32(r)/n.getInt32(r+4);case 11:return n.getFloat(r);case 12:return n.getDouble(r);case 13:return n.getUint32(r);default:ur(`Invalid tiff type ${e}`)}}}class t1 extends lL{static canHandle(e,r){return e.getUint8(r+1)===225&&e.getUint32(r+4)===1165519206&&e.getUint16(r+8)===0}async parse(){this.parseHeader();let{options:e}=this;return e.ifd0.enabled&&await this.parseIfd0Block(),e.exif.enabled&&await this.safeParse("parseExifBlock"),e.gps.enabled&&await this.safeParse("parseGpsBlock"),e.interop.enabled&&await this.safeParse("parseInteropBlock"),e.ifd1.enabled&&await this.safeParse("parseThumbnailBlock"),this.createOutput()}safeParse(e){let r=this[e]();return r.catch!==void 0&&(r=r.catch(this.handleError)),r}findIfd0Offset(){this.ifd0Offset===void 0&&(this.ifd0Offset=this.chunk.getUint32(4))}findIfd1Offset(){if(this.ifd1Offset===void 0){this.findIfd0Offset();let e=this.chunk.getUint16(this.ifd0Offset),r=this.ifd0Offset+2+12*e;this.ifd1Offset=this.chunk.getUint32(r)}}parseBlock(e,r){let n=new Map;return this[r]=n,this.parseTags(e,r,n),n}async parseIfd0Block(){if(this.ifd0)return;let{file:e}=this;this.findIfd0Offset(),this.ifd0Offset<8&&ur("Malformed EXIF data"),!e.chunked&&this.ifd0Offset>e.byteLength&&ur(`IFD0 offset points to outside of file.
this.ifd0Offset: ${this.ifd0Offset}, file.byteLength: ${e.byteLength}`),e.tiff&&await e.ensureChunk(this.ifd0Offset,C_(this.options));let r=this.parseBlock(this.ifd0Offset,"ifd0");return r.size!==0?(this.exifOffset=r.get(34665),this.interopOffset=r.get(40965),this.gpsOffset=r.get(34853),this.xmp=r.get(700),this.iptc=r.get(33723),this.icc=r.get(34675),this.options.sanitize&&(r.delete(34665),r.delete(40965),r.delete(34853),r.delete(700),r.delete(33723),r.delete(34675)),r):void 0}async parseExifBlock(){if(this.exif||(this.ifd0||await this.parseIfd0Block(),this.exifOffset===void 0))return;this.file.tiff&&await this.file.ensureChunk(this.exifOffset,C_(this.options));let e=this.parseBlock(this.exifOffset,"exif");return this.interopOffset||(this.interopOffset=e.get(40965)),this.makerNote=e.get(37500),this.userComment=e.get(37510),this.options.sanitize&&(e.delete(40965),e.delete(37500),e.delete(37510)),this.unpack(e,41728),this.unpack(e,41729),e}unpack(e,r){let n=e.get(r);n&&n.length===1&&e.set(r,n[0])}async parseGpsBlock(){if(this.gps||(this.ifd0||await this.parseIfd0Block(),this.gpsOffset===void 0))return;let e=this.parseBlock(this.gpsOffset,"gps");return e&&e.has(2)&&e.has(4)&&(e.set("latitude",P_(...e.get(2),e.get(1))),e.set("longitude",P_(...e.get(4),e.get(3)))),e}async parseInteropBlock(){if(!this.interop&&(this.ifd0||await this.parseIfd0Block(),this.interopOffset!==void 0||this.exif||await this.parseExifBlock(),this.interopOffset!==void 0))return this.parseBlock(this.interopOffset,"interop")}async parseThumbnailBlock(e=!1){if(!this.ifd1&&!this.ifd1Parsed&&(!this.options.mergeOutput||e))return this.findIfd1Offset(),this.ifd1Offset>0&&(this.parseBlock(this.ifd1Offset,"ifd1"),this.ifd1Parsed=!0),this.ifd1}async extractThumbnail(){if(this.headerParsed||this.parseHeader(),this.ifd1Parsed||await this.parseThumbnailBlock(!0),this.ifd1===void 0)return;let e=this.ifd1.get(513),r=this.ifd1.get(514);return this.chunk.getUint8Array(e,r)}get image(){return this.ifd0}get thumbnail(){return this.ifd1}createOutput(){let e,r,n,i={};for(r of nr)if(e=this[r],!a8(e))if(n=this.canTranslate?this.translateBlock(e,r):Object.fromEntries(e),this.options.mergeOutput){if(r==="ifd1")continue;Object.assign(i,n)}else i[r]=n;return this.makerNote&&(i.makerNote=this.makerNote),this.userComment&&(i.userComment=this.userComment),i}assignToOutput(e,r){if(this.globalOptions.mergeOutput)Object.assign(e,r);else for(let[n,i]of Object.entries(r))this.assignObjectToOutput(e,n,i)}}function P_(t,e,r,n){var i=t+e/60+r/3600;return n!=="S"&&n!=="W"||(i*=-1),i}tt(t1,"type","tiff"),tt(t1,"headerLength",10),Jn.set("tiff",t1);const Uy={ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1};Object.assign({},Uy,{firstChunkSize:4e4,gps:[1,2,3,4]});Object.assign({},Uy,{tiff:!1,ifd1:!0,mergeOutput:!1});const cL=Object.assign({},Uy,{firstChunkSize:4e4,ifd0:[274]});async function uL(t){let e=new nL(cL);await e.read(t);let r=await e.parse();if(r&&r.ifd0)return r.ifd0[274]}const dL=Object.freeze({1:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:0,rad:0},2:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:0,rad:0},3:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:180,rad:180*Math.PI/180},4:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:180,rad:180*Math.PI/180},5:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:90,rad:90*Math.PI/180},6:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:90,rad:90*Math.PI/180},7:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:270,rad:270*Math.PI/180},8:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:270,rad:270*Math.PI/180}});let Yc=!0,Zc=!0;if(typeof navigator=="object"){let t=navigator.userAgent;if(t.includes("iPad")||t.includes("iPhone")){let e=t.match(/OS (\d+)_(\d+)/);if(e){let[,r,n]=e;Yc=Number(r)+.1*Number(n)<13.4,Zc=!1}}else if(t.includes("OS X 10")){let[,e]=t.match(/OS X 10[_.](\d+)/);Yc=Zc=Number(e)<15}if(t.includes("Chrome/")){let[,e]=t.match(/Chrome\/(\d+)/);Yc=Zc=Number(e)<81}else if(t.includes("Firefox/")){let[,e]=t.match(/Firefox\/(\d+)/);Yc=Zc=Number(e)<77}}async function fL(t){let e=await uL(t);return Object.assign({canvas:Yc,css:Zc},dL[e])}class hL extends si{constructor(...e){super(...e),tt(this,"ranges",new pL),this.byteLength!==0&&this.ranges.add(0,this.byteLength)}_tryExtend(e,r,n){if(e===0&&this.byteLength===0&&n){let i=new DataView(n.buffer||n,n.byteOffset,n.byteLength);this._swapDataView(i)}else{let i=e+r;if(i>this.byteLength){let{dataView:s}=this._extend(i);this._swapDataView(s)}}}_extend(e){let r;r=s8?i8.allocUnsafe(e):new Uint8Array(e);let n=new DataView(r.buffer,r.byteOffset,r.byteLength);return r.set(new Uint8Array(this.buffer,this.byteOffset,this.byteLength),0),{uintView:r,dataView:n}}subarray(e,r,n=!1){return r=r||this._lengthToEnd(e),n&&this._tryExtend(e,r),this.ranges.add(e,r),super.subarray(e,r)}set(e,r,n=!1){n&&this._tryExtend(r,e.byteLength,e);let i=super.set(e,r);return this.ranges.add(r,i.byteLength),i}async ensureChunk(e,r){this.chunked&&(this.ranges.available(e,r)||await this.readChunk(e,r))}available(e,r){return this.ranges.available(e,r)}}class pL{constructor(){tt(this,"list",[])}get length(){return this.list.length}add(e,r,n=0){let i=e+r,s=this.list.filter(a=>O_(e,a.offset,i)||O_(e,a.end,i));if(s.length>0){e=Math.min(e,...s.map(o=>o.offset)),i=Math.max(i,...s.map(o=>o.end)),r=i-e;let a=s.shift();a.offset=e,a.length=r,a.end=i,this.list=this.list.filter(o=>!s.includes(o))}else this.list.push({offset:e,length:r,end:i})}available(e,r){let n=e+r;return this.list.some(i=>i.offset<=e&&n<=i.end)}}function O_(t,e,r){return t<=e&&e<=r}class mL extends hL{constructor(e,r){super(0),tt(this,"chunksRead",0),this.input=e,this.options=r}async readWhole(){this.chunked=!1,await this.readChunk(this.nextChunkOffset)}async readChunked(){this.chunked=!0,await this.readChunk(0,this.options.firstChunkSize)}async readNextChunk(e=this.nextChunkOffset){if(this.fullyRead)return this.chunksRead++,!1;let r=this.options.chunkSize,n=await this.readChunk(e,r);return!!n&&n.byteLength===r}async readChunk(e,r){if(this.chunksRead++,(r=this.safeWrapAddress(e,r))!==0)return this._readChunk(e,r)}safeWrapAddress(e,r){return this.size!==void 0&&e+r>this.size?Math.max(0,this.size-e):r}get nextChunkOffset(){if(this.ranges.list.length!==0)return this.ranges.list[0].length}get canReadNextChunk(){return this.chunksRead<this.options.chunkLimit}get fullyRead(){return this.size!==void 0&&this.nextChunkOffset===this.size}read(){return this.options.chunked?this.readChunked():this.readWhole()}close(){}}My.set("blob",class extends mL{async readWhole(){this.chunked=!1;let t=await fg(this.input);this._swapArrayBuffer(t)}readChunked(){return this.chunked=!0,this.size=this.input.size,super.readChunked()}async _readChunk(t,e){let r=e?t+e:void 0,n=this.input.slice(t,r),i=await fg(n);return this.set(i,t,!0)}});const gL="4.2.3",vL={version:gL},yL={strings:{generatingThumbnails:"Generating thumbnails..."}};function xL(t,e,r){try{t.getContext("2d").getImageData(0,0,1,1)}catch(n){if(n.code===18)return Promise.reject(new Error("cannot read image, probably an svg with external resources"))}return t.toBlob?new Promise(n=>{t.toBlob(n,e,r)}).then(n=>{if(n===null)throw new Error("cannot read image, probably an svg with external resources");return n}):Promise.resolve().then(()=>ZM(t.toDataURL(e,r),{})).then(n=>{if(n===null)throw new Error("could not extract blob, probably an old browser");return n})}function wL(t,e){let r=t.width,n=t.height;(e.deg===90||e.deg===270)&&(r=t.height,n=t.width);const i=document.createElement("canvas");i.width=r,i.height=n;const s=i.getContext("2d");return s.translate(r/2,n/2),e.canvas&&(s.rotate(e.rad),s.scale(e.scaleX,e.scaleY)),s.drawImage(t,-t.width/2,-t.height/2,t.width,t.height),i}function _L(t){const e=t.width/t.height,r=5e6,n=4096;let i=Math.floor(Math.sqrt(r*e)),s=Math.floor(r/Math.sqrt(r*e));if(i>n&&(i=n,s=Math.round(i/e)),s>n&&(s=n,i=Math.round(e*s)),t.width>i){const a=document.createElement("canvas");return a.width=i,a.height=s,a.getContext("2d").drawImage(t,0,0,i,s),a}return t}const bL={thumbnailWidth:null,thumbnailHeight:null,thumbnailType:"image/jpeg",waitForThumbnailsBeforeUpload:!1,lazy:!1};class d8 extends oc{constructor(r,n){super(r,{...bL,...n});W(this,"queue");W(this,"queueProcessing");W(this,"defaultThumbnailDimension");W(this,"thumbnailType");W(this,"onFileAdded",r=>{!r.preview&&r.data&&__(r.type)&&!r.isRemote&&this.addToQueue(r.id)});W(this,"onCancelRequest",r=>{const n=this.queue.indexOf(r.id);n!==-1&&this.queue.splice(n,1)});W(this,"onFileRemoved",r=>{const n=this.queue.indexOf(r.id);n!==-1&&this.queue.splice(n,1),r.preview&&w_(r.preview)&&URL.revokeObjectURL(r.preview)});W(this,"onRestored",()=>{this.uppy.getFiles().filter(n=>n.isRestored).forEach(n=>{(!n.preview||w_(n.preview))&&this.addToQueue(n.id)})});W(this,"onAllFilesRemoved",()=>{this.queue=[]});W(this,"waitUntilAllProcessed",r=>{r.forEach(i=>{const s=this.uppy.getFile(i);this.uppy.emit("preprocess-progress",s,{mode:"indeterminate",message:this.i18n("generatingThumbnails")})});const n=()=>{r.forEach(i=>{const s=this.uppy.getFile(i);this.uppy.emit("preprocess-complete",s)})};return new Promise(i=>{this.queueProcessing?this.uppy.once("thumbnail:all-generated",()=>{n(),i()}):(n(),i())})});if(this.type="modifier",this.id=this.opts.id||"ThumbnailGenerator",this.title="Thumbnail Generator",this.queue=[],this.queueProcessing=!1,this.defaultThumbnailDimension=200,this.thumbnailType=this.opts.thumbnailType,this.defaultLocale=yL,this.i18nInit(),this.opts.lazy&&this.opts.waitForThumbnailsBeforeUpload)throw new Error("ThumbnailGenerator: The `lazy` and `waitForThumbnailsBeforeUpload` options are mutually exclusive. Please ensure at most one of them is set to `true`.")}createThumbnail(r,n,i){const s=URL.createObjectURL(r.data),a=new Promise((l,c)=>{const d=new Image;d.src=s,d.addEventListener("load",()=>{URL.revokeObjectURL(s),l(d)}),d.addEventListener("error",f=>{URL.revokeObjectURL(s),c(f.error||new Error("Could not create thumbnail"))})}),o=fL(r.data).catch(()=>1);return Promise.all([a,o]).then(([l,c])=>{const d=this.getProportionalDimensions(l,n,i,c.deg),f=wL(l,c),h=this.resizeImage(f,d.width,d.height);return xL(h,this.thumbnailType,80)}).then(l=>URL.createObjectURL(l))}getProportionalDimensions(r,n,i,s){let a=r.width/r.height;if((s===90||s===270)&&(a=r.height/r.width),n!=null){let o=n;return r.width<n&&(o=r.width),{width:o,height:Math.round(o/a)}}if(i!=null){let o=i;return r.height<i&&(o=r.height),{width:Math.round(o*a),height:o}}return{width:this.defaultThumbnailDimension,height:Math.round(this.defaultThumbnailDimension/a)}}resizeImage(r,n,i){let s=_L(r),a=Math.ceil(Math.log2(s.width/n));a<1&&(a=1);let o=n*2**(a-1),l=i*2**(a-1);const c=2;for(;a--;){const d=document.createElement("canvas");d.width=o,d.height=l,d.getContext("2d").drawImage(s,0,0,o,l),s=d,o=Math.round(o/c),l=Math.round(l/c)}return s}setPreviewURL(r,n){this.uppy.setFileState(r,{preview:n})}addToQueue(r){this.queue.push(r),this.queueProcessing===!1&&this.processQueue()}processQueue(){if(this.queueProcessing=!0,this.queue.length>0){const r=this.uppy.getFile(this.queue.shift());return r?this.requestThumbnail(r).catch(()=>{}).then(()=>this.processQueue()):(this.uppy.log("[ThumbnailGenerator] file was removed before a thumbnail could be generated, but not removed from the queue. This is probably a bug","error"),Promise.resolve())}return this.queueProcessing=!1,this.uppy.log("[ThumbnailGenerator] Emptied thumbnail queue"),this.uppy.emit("thumbnail:all-generated"),Promise.resolve()}requestThumbnail(r){return __(r.type)&&!r.isRemote?this.createThumbnail(r,this.opts.thumbnailWidth,this.opts.thumbnailHeight).then(n=>{this.setPreviewURL(r.id,n),this.uppy.log(`[ThumbnailGenerator] Generated thumbnail for ${r.id}`),this.uppy.emit("thumbnail:generated",this.uppy.getFile(r.id),n)}).catch(n=>{this.uppy.log(`[ThumbnailGenerator] Failed thumbnail for ${r.id}:`,"warning"),this.uppy.log(n,"warning"),this.uppy.emit("thumbnail:error",this.uppy.getFile(r.id),n)}):Promise.resolve()}install(){this.uppy.on("file-removed",this.onFileRemoved),this.uppy.on("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.on("thumbnail:request",this.onFileAdded),this.uppy.on("thumbnail:cancel",this.onCancelRequest)):(this.uppy.on("thumbnail:request",this.onFileAdded),this.uppy.on("file-added",this.onFileAdded),this.uppy.on("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.addPreProcessor(this.waitUntilAllProcessed)}uninstall(){this.uppy.off("file-removed",this.onFileRemoved),this.uppy.off("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.off("thumbnail:request",this.onFileAdded),this.uppy.off("thumbnail:cancel",this.onCancelRequest)):(this.uppy.off("thumbnail:request",this.onFileAdded),this.uppy.off("file-added",this.onFileAdded),this.uppy.off("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.removePreProcessor(this.waitUntilAllProcessed)}}W(d8,"VERSION",vL.version);function R_(t){if(typeof t=="string"){const e=document.querySelectorAll(t);return e.length===0?null:Array.from(e)}return typeof t=="object"&&v4(t)?[t]:null}const gu=Array.from;function CL(t){const e=gu(t.files);return Promise.resolve(e)}function f8(t,e,r,{onSuccess:n}){t.readEntries(i=>{const s=[...e,...i];i.length?queueMicrotask(()=>{f8(t,s,r,{onSuccess:n})}):n(s)},i=>{r(i),n(e)})}function h8(t,e){return t==null?t:{kind:t.isFile?"file":t.isDirectory?"directory":void 0,name:t.name,getFile(){return new Promise((r,n)=>t.file(r,n))},async*values(){const r=t.createReader();yield*await new Promise(i=>{f8(r,[],e,{onSuccess:s=>i(s.map(a=>h8(a,e)))})})},isSameEntry:void 0}}async function*p8(t,e,r=void 0){const n=()=>`${e}/${t.name}`;if(t.kind==="file"){const i=await t.getFile();i!=null?(i.relativePath=e?n():null,yield i):r!=null&&(yield r)}else if(t.kind==="directory")for await(const i of t.values())yield*p8(i,e?n():t.name);else r!=null&&(yield r)}async function*SL(t,e){const r=await Promise.all(Array.from(t.items,async n=>{let i;return i??(i=h8(typeof n.getAsEntry=="function"?n.getAsEntry():n.webkitGetAsEntry(),e)),{fileSystemHandle:i,lastResortFile:n.getAsFile()}}));for(const{lastResortFile:n,fileSystemHandle:i}of r)if(i!=null)try{yield*p8(i,"",n)}catch(s){n!=null?yield n:e(s)}else n!=null&&(yield n)}async function EL(t,e){const r=(e==null?void 0:e.logDropError)??Function.prototype;try{const n=[];for await(const i of SL(t,r))n.push(i);return n}catch{return CL(t)}}const AL="4.4.3",NL={version:AL};function TL(){const t=document.body;return!(!("draggable"in t)||!("ondragstart"in t&&"ondrop"in t)||!("FormData"in window)||!("FileReader"in window))}class m8 extends rn{constructor(){super(...arguments);W(this,"fileInput",null);W(this,"folderInput",null);W(this,"mobilePhotoFileInput",null);W(this,"mobileVideoFileInput",null);W(this,"triggerFileInputClick",()=>{var r;(r=this.fileInput)==null||r.click()});W(this,"triggerFolderInputClick",()=>{var r;(r=this.folderInput)==null||r.click()});W(this,"triggerVideoCameraInputClick",()=>{var r;(r=this.mobileVideoFileInput)==null||r.click()});W(this,"triggerPhotoCameraInputClick",()=>{var r;(r=this.mobilePhotoFileInput)==null||r.click()});W(this,"onFileInputChange",r=>{this.props.handleInputChange(r),r.currentTarget.value=""});W(this,"renderHiddenInput",(r,n)=>{var i;return I("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,webkitdirectory:r,type:"file",name:"files[]",multiple:this.props.maxNumberOfFiles!==1,onChange:this.onFileInputChange,accept:(i=this.props.allowedFileTypes)==null?void 0:i.join(", "),ref:n})});W(this,"renderHiddenCameraInput",(r,n,i)=>{const a={photo:"image/*",video:"video/*"}[r];return I("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,type:"file",name:`camera-${r}`,onChange:this.onFileInputChange,capture:n===""?"environment":n,accept:a,ref:i})});W(this,"renderMyDeviceAcquirer",()=>I("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MyDevice",children:I("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerFileInputClick,children:[I("div",{className:"uppy-DashboardTab-inner",children:I("svg",{className:"uppy-DashboardTab-iconMyDevice","aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32",children:I("path",{d:"M8.45 22.087l-1.305-6.674h17.678l-1.572 6.674H8.45zm4.975-12.412l1.083 1.765a.823.823 0 00.715.386h7.951V13.5H8.587V9.675h4.838zM26.043 13.5h-1.195v-2.598c0-.463-.336-.75-.798-.75h-8.356l-1.082-1.766A.823.823 0 0013.897 8H7.728c-.462 0-.815.256-.815.718V13.5h-.956a.97.97 0 00-.746.37.972.972 0 00-.19.81l1.724 8.565c.095.44.484.755.933.755H24c.44 0 .824-.3.929-.727l2.043-8.568a.972.972 0 00-.176-.825.967.967 0 00-.753-.38z",fill:"currentcolor","fill-rule":"evenodd"})})}),I("div",{className:"uppy-DashboardTab-name",children:this.props.i18n("myDevice")})]})}));W(this,"renderPhotoCamera",()=>I("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MobilePhotoCamera",children:I("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerPhotoCameraInputClick,children:[I("div",{className:"uppy-DashboardTab-inner",children:I("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32",children:I("path",{d:"M23.5 9.5c1.417 0 2.5 1.083 2.5 2.5v9.167c0 1.416-1.083 2.5-2.5 2.5h-15c-1.417 0-2.5-1.084-2.5-2.5V12c0-1.417 1.083-2.5 2.5-2.5h2.917l1.416-2.167C13 7.167 13.25 7 13.5 7h5c.25 0 .5.167.667.333L20.583 9.5H23.5zM16 11.417a4.706 4.706 0 00-4.75 4.75 4.704 4.704 0 004.75 4.75 4.703 4.703 0 004.75-4.75c0-2.663-2.09-4.75-4.75-4.75zm0 7.825c-1.744 0-3.076-1.332-3.076-3.074 0-1.745 1.333-3.077 3.076-3.077 1.744 0 3.074 1.333 3.074 3.076s-1.33 3.075-3.074 3.075z",fill:"#02B383","fill-rule":"nonzero"})})}),I("div",{className:"uppy-DashboardTab-name",children:this.props.i18n("takePictureBtn")})]})}));W(this,"renderVideoCamera",()=>I("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MobileVideoCamera",children:I("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerVideoCameraInputClick,children:[I("div",{className:"uppy-DashboardTab-inner",children:I("svg",{"aria-hidden":"true",width:"32",height:"32",viewBox:"0 0 32 32",children:I("path",{fill:"#FF675E",fillRule:"nonzero",d:"m21.254 14.277 2.941-2.588c.797-.313 1.243.818 1.09 1.554-.01 2.094.02 4.189-.017 6.282-.126.915-1.145 1.08-1.58.34l-2.434-2.142c-.192.287-.504 1.305-.738.468-.104-1.293-.028-2.596-.05-3.894.047-.312.381.823.426 1.069.063-.384.206-.744.362-1.09zm-12.939-3.73c3.858.013 7.717-.025 11.574.02.912.129 1.492 1.237 1.351 2.217-.019 2.412.04 4.83-.03 7.239-.17 1.025-1.166 1.59-2.029 1.429-3.705-.012-7.41.025-11.114-.019-.913-.129-1.492-1.237-1.352-2.217.018-2.404-.036-4.813.029-7.214.136-.82.83-1.473 1.571-1.454z "})})}),I("div",{className:"uppy-DashboardTab-name",children:this.props.i18n("recordVideoBtn")})]})}));W(this,"renderBrowseButton",(r,n)=>{const i=this.props.acquirers.length;return I("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-browse",onClick:n,"data-uppy-super-focusable":i===0,children:r})});W(this,"renderDropPasteBrowseTagline",r=>{const n=this.renderBrowseButton(this.props.i18n("browseFiles"),this.triggerFileInputClick),i=this.renderBrowseButton(this.props.i18n("browseFolders"),this.triggerFolderInputClick),s=this.props.fileManagerSelectionType,a=s.charAt(0).toUpperCase()+s.slice(1);return I("div",{class:"uppy-Dashboard-AddFiles-title",children:this.props.disableLocalFiles?this.props.i18n("importFiles"):r>0?this.props.i18nArray(`dropPasteImport${a}`,{browseFiles:n,browseFolders:i,browse:n}):this.props.i18nArray(`dropPaste${a}`,{browseFiles:n,browseFolders:i,browse:n})})});W(this,"renderAcquirer",r=>{var n;return I("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":r.id,children:I("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-cy":r.id,"aria-controls":`uppy-DashboardContent-panel--${r.id}`,"aria-selected":((n=this.props.activePickerPanel)==null?void 0:n.id)===r.id,"data-uppy-super-focusable":!0,onClick:()=>this.props.showPanel(r.id),children:[I("div",{className:"uppy-DashboardTab-inner",children:r.icon()}),I("div",{className:"uppy-DashboardTab-name",children:r.name})]})})});W(this,"renderAcquirers",r=>{const n=[...r],i=n.splice(r.length-2,r.length);return I(ci,{children:[n.map(s=>this.renderAcquirer(s)),I("span",{role:"presentation",style:{"white-space":"nowrap"},children:i.map(s=>this.renderAcquirer(s))})]})});W(this,"renderSourcesList",(r,n)=>{const{showNativePhotoCameraButton:i,showNativeVideoCameraButton:s}=this.props;let a=[];const o="myDevice";n||a.push({key:o,elements:this.renderMyDeviceAcquirer()}),i&&a.push({key:"nativePhotoCameraButton",elements:this.renderPhotoCamera()}),s&&a.push({key:"nativePhotoCameraButton",elements:this.renderVideoCamera()}),a.push(...r.map(f=>({key:f.id,elements:this.renderAcquirer(f)}))),a.length===1&&a[0].key===o&&(a=[]);const c=[...a],d=c.splice(a.length-2,a.length);return I(ci,{children:[this.renderDropPasteBrowseTagline(a.length),I("div",{className:"uppy-Dashboard-AddFiles-list",role:"tablist",children:[c.map(({key:f,elements:h})=>I(ci,{children:h},f)),I("span",{role:"presentation",style:{"white-space":"nowrap"},children:d.map(({key:f,elements:h})=>I(ci,{children:h},f))})]})]})})}[Symbol.for("uppy test: disable unused locale key warning")](){this.props.i18nArray("dropPasteBoth"),this.props.i18nArray("dropPasteFiles"),this.props.i18nArray("dropPasteFolders"),this.props.i18nArray("dropPasteImportBoth"),this.props.i18nArray("dropPasteImportFiles"),this.props.i18nArray("dropPasteImportFolders")}renderPoweredByUppy(){const{i18nArray:r}=this.props,n=I("span",{children:[I("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-poweredByIcon",width:"11",height:"11",viewBox:"0 0 11 11",children:I("path",{d:"M7.365 10.5l-.01-4.045h2.612L5.5.806l-4.467 5.65h2.604l.01 4.044h3.718z",fillRule:"evenodd"})}),I("span",{className:"uppy-Dashboard-poweredByUppy",children:"Uppy"})]}),i=r("poweredBy",{uppy:n});return I("a",{tabIndex:-1,href:"https://uppy.io",rel:"noreferrer noopener",target:"_blank",className:"uppy-Dashboard-poweredBy",children:i})}render(){const{showNativePhotoCameraButton:r,showNativeVideoCameraButton:n,nativeCameraFacingMode:i}=this.props;return I("div",{className:"uppy-Dashboard-AddFiles",children:[this.renderHiddenInput(!1,s=>{this.fileInput=s}),this.renderHiddenInput(!0,s=>{this.folderInput=s}),r&&this.renderHiddenCameraInput("photo",i,s=>{this.mobilePhotoFileInput=s}),n&&this.renderHiddenCameraInput("video",i,s=>{this.mobileVideoFileInput=s}),this.renderSourcesList(this.props.acquirers,this.props.disableLocalFiles),I("div",{className:"uppy-Dashboard-AddFiles-info",children:[this.props.note&&I("div",{className:"uppy-Dashboard-note",children:this.props.note}),this.props.proudlyDisplayPoweredByUppy&&this.renderPoweredByUppy()]})]})}}const IL=t=>I("div",{className:gi("uppy-Dashboard-AddFilesPanel",t.className),"data-uppy-panelType":"AddFiles","aria-hidden":!t.showAddFilesPanel,children:[I("div",{className:"uppy-DashboardContent-bar",children:[I("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":1,children:t.i18n("addingMoreFiles")}),I("button",{className:"uppy-DashboardContent-back",type:"button",onClick:()=>t.toggleAddFilesPanel(!1),children:t.i18n("back")})]}),I(m8,{...t})]});function PL(t){const e=t.files[t.fileCardFor],r=()=>{t.uppy.emit("file-editor:cancel",e),t.closeFileEditor()};return I("div",{className:gi("uppy-DashboardContent-panel",t.className),role:"tabpanel","data-uppy-panelType":"FileEditor",id:"uppy-DashboardContent-panel--editor",children:[I("div",{className:"uppy-DashboardContent-bar",children:[I("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":1,children:t.i18nArray("editing",{file:I("span",{className:"uppy-DashboardContent-titleFile",children:e.meta?e.meta.name:e.name})})}),I("button",{className:"uppy-DashboardContent-back",type:"button",onClick:r,children:t.i18n("cancel")}),I("button",{className:"uppy-DashboardContent-save",type:"button",onClick:t.saveFileEditor,children:t.i18n("save")})]}),I("div",{className:"uppy-DashboardContent-panelBody",children:t.editors.map(n=>t.uppy.getPlugin(n.id).render(t.state))})]})}function OL(){return I("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25",children:I("g",{fill:"#686DE0",fillRule:"evenodd",children:[I("path",{d:"M5 7v10h15V7H5zm0-1h15a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1z",fillRule:"nonzero"}),I("path",{d:"M6.35 17.172l4.994-5.026a.5.5 0 0 1 .707 0l2.16 2.16 3.505-3.505a.5.5 0 0 1 .707 0l2.336 2.31-.707.72-1.983-1.97-3.505 3.505a.5.5 0 0 1-.707 0l-2.16-2.159-3.938 3.939-1.409.026z",fillRule:"nonzero"}),I("circle",{cx:"7.5",cy:"9.5",r:"1.5"})]})})}function RL(){return I("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:I("path",{d:"M9.5 18.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V7.25a.5.5 0 0 1 .379-.485l9-2.25A.5.5 0 0 1 18.5 5v11.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V8.67l-8 2v7.97zm8-11v-2l-8 2v2l8-2zM7 19.64c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1zm9-2c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1z",fill:"#049BCF",fillRule:"nonzero"})})}function kL(){return I("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:I("path",{d:"M16 11.834l4.486-2.691A1 1 0 0 1 22 10v6a1 1 0 0 1-1.514.857L16 14.167V17a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v2.834zM15 9H5v8h10V9zm1 4l5 3v-6l-5 3z",fill:"#19AF67",fillRule:"nonzero"})})}function DL(){return I("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:I("path",{d:"M9.766 8.295c-.691-1.843-.539-3.401.747-3.726 1.643-.414 2.505.938 2.39 3.299-.039.79-.194 1.662-.537 3.148.324.49.66.967 1.055 1.51.17.231.382.488.629.757 1.866-.128 3.653.114 4.918.655 1.487.635 2.192 1.685 1.614 2.84-.566 1.133-1.839 1.084-3.416.249-1.141-.604-2.457-1.634-3.51-2.707a13.467 13.467 0 0 0-2.238.426c-1.392 4.051-4.534 6.453-5.707 4.572-.986-1.58 1.38-4.206 4.914-5.375.097-.322.185-.656.264-1.001.08-.353.306-1.31.407-1.737-.678-1.059-1.2-2.031-1.53-2.91zm2.098 4.87c-.033.144-.068.287-.104.427l.033-.01-.012.038a14.065 14.065 0 0 1 1.02-.197l-.032-.033.052-.004a7.902 7.902 0 0 1-.208-.271c-.197-.27-.38-.526-.555-.775l-.006.028-.002-.003c-.076.323-.148.632-.186.8zm5.77 2.978c1.143.605 1.832.632 2.054.187.26-.519-.087-1.034-1.113-1.473-.911-.39-2.175-.608-3.55-.608.845.766 1.787 1.459 2.609 1.894zM6.559 18.789c.14.223.693.16 1.425-.413.827-.648 1.61-1.747 2.208-3.206-2.563 1.064-4.102 2.867-3.633 3.62zm5.345-10.97c.088-1.793-.351-2.48-1.146-2.28-.473.119-.564 1.05-.056 2.405.213.566.52 1.188.908 1.859.18-.858.268-1.453.294-1.984z",fill:"#E2514A",fillRule:"nonzero"})})}function jL(){return I("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25",children:I("path",{d:"M10.45 2.05h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V2.55a.5.5 0 0 1 .5-.5zm2.05 1.024h1.05a.5.5 0 0 1 .5.5V3.6a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5v-.001zM10.45 0h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V.5a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 3.074h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 1.024h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm-2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-1.656 3.074l-.82 5.946c.52.302 1.174.458 1.976.458.803 0 1.455-.156 1.975-.458l-.82-5.946h-2.311zm0-1.025h2.312c.512 0 .946.378 1.015.885l.82 5.946c.056.412-.142.817-.501 1.026-.686.398-1.515.597-2.49.597-.974 0-1.804-.199-2.49-.597a1.025 1.025 0 0 1-.5-1.026l.819-5.946c.07-.507.503-.885 1.015-.885zm.545 6.6a.5.5 0 0 1-.397-.561l.143-.999a.5.5 0 0 1 .495-.429h.74a.5.5 0 0 1 .495.43l.143.998a.5.5 0 0 1-.397.561c-.404.08-.819.08-1.222 0z",fill:"#00C469",fillRule:"nonzero"})})}function FL(){return I("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:I("g",{fill:"#A7AFB7",fillRule:"nonzero",children:[I("path",{d:"M5.5 22a.5.5 0 0 1-.5-.5v-18a.5.5 0 0 1 .5-.5h10.719a.5.5 0 0 1 .367.16l3.281 3.556a.5.5 0 0 1 .133.339V21.5a.5.5 0 0 1-.5.5h-14zm.5-1h13V7.25L16 4H6v17z"}),I("path",{d:"M15 4v3a1 1 0 0 0 1 1h3V7h-3V4h-1z"})]})})}function ML(){return I("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:I("path",{d:"M4.5 7h13a.5.5 0 1 1 0 1h-13a.5.5 0 0 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h10a.5.5 0 1 1 0 1h-10a.5.5 0 1 1 0-1z",fill:"#5A5E69",fillRule:"nonzero"})})}function $y(t){const e={color:"#838999",icon:FL()};if(!t)return e;const r=t.split("/")[0],n=t.split("/")[1];return r==="text"?{color:"#5a5e69",icon:ML()}:r==="image"?{color:"#686de0",icon:OL()}:r==="audio"?{color:"#068dbb",icon:RL()}:r==="video"?{color:"#19af67",icon:kL()}:r==="application"&&n==="pdf"?{color:"#e25149",icon:DL()}:r==="application"&&["zip","x-7z-compressed","x-zip-compressed","x-rar-compressed","x-tar","x-gzip","x-apple-diskimage"].indexOf(n)!==-1?{color:"#00C469",icon:jL()}:e}function Xs(t){const{tagName:e}=t.target;if(e==="INPUT"||e==="TEXTAREA"){t.stopPropagation();return}t.preventDefault(),t.stopPropagation()}function g8(t){const{file:e}=t;if(e.preview)return I("img",{draggable:!1,className:"uppy-Dashboard-Item-previewImg",alt:e.name,src:e.preview});const{color:r,icon:n}=$y(e.type);return I("div",{className:"uppy-Dashboard-Item-previewIconWrap",children:[I("span",{className:"uppy-Dashboard-Item-previewIcon",style:{color:r},children:n}),I("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-Dashboard-Item-previewIconBg",width:"58",height:"76",viewBox:"0 0 58 76",children:I("rect",{fill:"#FFF",width:"58",height:"76",rx:"3",fillRule:"evenodd"})})]})}function LL(t){const{computedMetaFields:e,requiredMetaFields:r,updateMeta:n,form:i,formState:s}=t,a={text:"uppy-u-reset uppy-c-textInput uppy-Dashboard-FileCard-input"};return e.map(o=>{const l=`uppy-Dashboard-FileCard-input-${o.id}`,c=r.includes(o.id);return I("fieldset",{className:"uppy-Dashboard-FileCard-fieldset",children:[I("label",{className:"uppy-Dashboard-FileCard-label",htmlFor:l,children:o.name}),o.render!==void 0?o.render({value:s[o.id],onChange:d=>n(d,o.id),fieldCSSClasses:a,required:c,form:i.id},Vu):I("input",{className:a.text,id:l,form:i.id,type:o.type||"text",required:c,value:s[o.id],placeholder:o.placeholder,onInput:d=>n(d.target.value,o.id),"data-uppy-super-focusable":!0})]},o.id)})}function BL(t){const{files:e,fileCardFor:r,toggleFileCard:n,saveFileCard:i,metaFields:s,requiredMetaFields:a,openFileEditor:o,i18n:l,i18nArray:c,className:d,canEditFile:f}=t,h=()=>typeof s=="function"?s(e[r]):s,p=e[r],g=h()??[],m=f(p),x={};g.forEach(E=>{x[E.id]=p.meta[E.id]??""});const[y,v]=zh(x),_=C7(E=>{E.preventDefault(),i(y,r)},[i,y,r]),w=(E,P)=>{v({...y,[P]:E})},S=()=>{n(!1)},[A]=zh(()=>{const E=document.createElement("form");return E.setAttribute("tabindex","-1"),E.id=jy(),E});return Jm(()=>(document.body.appendChild(A),A.addEventListener("submit",_),()=>{A.removeEventListener("submit",_),document.body.removeChild(A)}),[A,_]),I("div",{className:gi("uppy-Dashboard-FileCard",d),"data-uppy-panelType":"FileCard",onDragOver:Xs,onDragLeave:Xs,onDrop:Xs,onPaste:Xs,children:[I("div",{className:"uppy-DashboardContent-bar",children:[I("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":1,children:c("editing",{file:I("span",{className:"uppy-DashboardContent-titleFile",children:p.meta?p.meta.name:p.name})})}),I("button",{className:"uppy-DashboardContent-back",type:"button",form:A.id,title:l("finishEditingFile"),onClick:S,children:l("cancel")})]}),I("div",{className:"uppy-Dashboard-FileCard-inner",children:[I("div",{className:"uppy-Dashboard-FileCard-preview",style:{backgroundColor:$y(p.type).color},children:[I(g8,{file:p}),m&&I("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-FileCard-edit",onClick:E=>{_(E),o(p)},children:l("editImage")})]}),I("div",{className:"uppy-Dashboard-FileCard-info",children:I(LL,{computedMetaFields:g,requiredMetaFields:a,updateMeta:w,form:A,formState:y})}),I("div",{className:"uppy-Dashboard-FileCard-actions",children:[I("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Dashboard-FileCard-actionsBtn",type:"submit",form:A.id,children:l("saveChanges")}),I("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-link uppy-Dashboard-FileCard-actionsBtn",type:"button",onClick:S,form:A.id,children:l("cancel")})]})]})]})}function UL(t,e){if(t===e)return!0;if(!t||!e)return!1;const r=Object.keys(t),n=Object.keys(e),i=r.length;if(n.length!==i)return!1;for(let s=0;s<i;s++){const a=r[s];if(t[a]!==e[a]||!Object.prototype.hasOwnProperty.call(e,a))return!1}return!0}function $L(t,e="Copy the URL below"){return new Promise(r=>{const n=document.createElement("textarea");n.setAttribute("style",{position:"fixed",top:0,left:0,width:"2em",height:"2em",padding:0,border:"none",outline:"none",boxShadow:"none",background:"transparent"}),n.value=t,document.body.appendChild(n),n.select();const i=()=>{document.body.removeChild(n),window.prompt(e,t),r()};try{return document.execCommand("copy")?(document.body.removeChild(n),r()):i()}catch{return document.body.removeChild(n),i()}})}function VL({file:t,uploadInProgressOrComplete:e,metaFields:r,canEditFile:n,i18n:i,onClick:s}){return!e&&r&&r.length>0||!e&&n(t)?I("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-action uppy-Dashboard-Item-action--edit",type:"button","aria-label":i("editFileWithFilename",{file:t.meta.name}),title:i("editFileWithFilename",{file:t.meta.name}),onClick:()=>s(),children:I("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 14",children:I("g",{fillRule:"evenodd",children:[I("path",{d:"M1.5 10.793h2.793A1 1 0 0 0 5 10.5L11.5 4a1 1 0 0 0 0-1.414L9.707.793a1 1 0 0 0-1.414 0l-6.5 6.5A1 1 0 0 0 1.5 8v2.793zm1-1V8L9 1.5l1.793 1.793-6.5 6.5H2.5z",fillRule:"nonzero"}),I("rect",{x:"1",y:"12.293",width:"11",height:"1",rx:".5"}),I("path",{fillRule:"nonzero",d:"M6.793 2.5L9.5 5.207l.707-.707L7.5 1.793z"})]})})}):null}function zL({i18n:t,onClick:e,file:r}){return I("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--remove",type:"button","aria-label":t("removeFile",{file:r.meta.name}),title:t("removeFile",{file:r.meta.name}),onClick:()=>e(),children:I("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"18",height:"18",viewBox:"0 0 18 18",children:[I("path",{d:"M9 0C4.034 0 0 4.034 0 9s4.034 9 9 9 9-4.034 9-9-4.034-9-9-9z"}),I("path",{fill:"#FFF",d:"M13 12.222l-.778.778L9 9.778 5.778 13 5 12.222 8.222 9 5 5.778 5.778 5 9 8.222 12.222 5l.778.778L9.778 9z"})]})})}function HL({file:t,uppy:e,i18n:r}){const n=i=>{$L(t.uploadURL,r("copyLinkToClipboardFallback")).then(()=>{e.log("Link copied to clipboard."),e.info(r("copyLinkToClipboardSuccess"),"info",3e3)}).catch(e.log).then(()=>i.target.focus({preventScroll:!0}))};return I("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--copyLink",type:"button","aria-label":r("copyLink"),title:r("copyLink"),onClick:i=>n(i),children:I("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 12",children:I("path",{d:"M7.94 7.703a2.613 2.613 0 0 1-.626 2.681l-.852.851a2.597 2.597 0 0 1-1.849.766A2.616 2.616 0 0 1 2.764 7.54l.852-.852a2.596 2.596 0 0 1 2.69-.625L5.267 7.099a1.44 1.44 0 0 0-.833.407l-.852.851a1.458 1.458 0 0 0 1.03 2.486c.39 0 .755-.152 1.03-.426l.852-.852c.231-.231.363-.522.406-.824l1.04-1.038zm4.295-5.937A2.596 2.596 0 0 0 10.387 1c-.698 0-1.355.272-1.849.766l-.852.851a2.614 2.614 0 0 0-.624 2.688l1.036-1.036c.041-.304.173-.6.407-.833l.852-.852c.275-.275.64-.426 1.03-.426a1.458 1.458 0 0 1 1.03 2.486l-.852.851a1.442 1.442 0 0 1-.824.406l-1.04 1.04a2.596 2.596 0 0 0 2.683-.628l.851-.85a2.616 2.616 0 0 0 0-3.697zm-6.88 6.883a.577.577 0 0 0 .82 0l3.474-3.474a.579.579 0 1 0-.819-.82L5.355 7.83a.579.579 0 0 0 0 .819z"})})})}function WL(t){const{uppy:e,file:r,uploadInProgressOrComplete:n,canEditFile:i,metaFields:s,showLinkToFileUploadResult:a,showRemoveButton:o,i18n:l,toggleFileCard:c,openFileEditor:d}=t;return I("div",{className:"uppy-Dashboard-Item-actionWrapper",children:[I(VL,{i18n:l,file:r,uploadInProgressOrComplete:n,canEditFile:i,metaFields:s,onClick:()=>{s&&s.length>0?c(!0,r.id):d(r)}}),a&&r.uploadURL?I(HL,{file:r,uppy:e,i18n:l}):null,o?I(zL,{i18n:l,file:r,onClick:()=>e.removeFile(r.id)}):null]})}const r1="...";function v8(t,e){if(e===0)return"";if(t.length<=e)return t;if(e<=r1.length+1)return`${t.slice(0,e-1)}`;const r=e-r1.length,n=Math.ceil(r/2),i=Math.floor(r/2);return t.slice(0,n)+r1+t.slice(-i)}const GL=(t,e)=>(typeof e=="function"?e():e).filter(i=>i.id===t)[0].name;function y8(t){const{file:e,toggleFileCard:r,i18n:n,metaFields:i}=t,{missingRequiredMetaFields:s}=e;if(!(s!=null&&s.length))return null;const a=s.map(o=>GL(o,i)).join(", ");return I("div",{className:"uppy-Dashboard-Item-errorMessage",children:[n("missingRequiredMetaFields",{smart_count:s.length,fields:a})," ",I("button",{type:"button",class:"uppy-u-reset uppy-Dashboard-Item-errorMessageBtn",onClick:()=>r(!0,e.id),children:n("editFile")})]})}const qL=t=>{const{author:e,name:r}=t.file.meta;function n(){return t.isSingleFile&&t.containerHeight>=350?90:t.containerWidth<=352?35:t.containerWidth<=576?60:e?20:30}return I("div",{className:"uppy-Dashboard-Item-name",title:r,children:v8(r,n())})},XL=t=>{var i;const{author:e}=t.file.meta,r=(i=t.file.remote)==null?void 0:i.providerName,n="";return e?I("div",{className:"uppy-Dashboard-Item-author",children:[I("a",{href:`${e.url}?utm_source=Companion&utm_medium=referral`,target:"_blank",rel:"noopener noreferrer",children:v8(e.name,13)}),r?I(ci,{children:[` ${n} `,r,` ${n} `]}):null]}):null},KL=t=>t.file.size&&I("div",{className:"uppy-Dashboard-Item-statusSize",children:La(t.file.size)}),YL=t=>t.file.isGhost&&I("span",{children:["  ",I("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-reSelect",type:"button",onClick:()=>t.toggleAddFilesPanel(!0),children:t.i18n("reSelect")})]}),ZL=({file:t,onClick:e})=>t.error?I("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-errorDetails","aria-label":t.error,"data-microtip-position":"bottom","data-microtip-size":"medium",onClick:e,type:"button",children:"?"}):null;function QL(t){const{file:e,i18n:r,toggleFileCard:n,metaFields:i,toggleAddFilesPanel:s,isSingleFile:a,containerHeight:o,containerWidth:l}=t;return I("div",{className:"uppy-Dashboard-Item-fileInfo","data-uppy-file-source":e.source,children:[I("div",{className:"uppy-Dashboard-Item-fileName",children:[qL({file:e,isSingleFile:a,containerHeight:o,containerWidth:l}),I(ZL,{file:e,onClick:()=>alert(e.error)})]}),I("div",{className:"uppy-Dashboard-Item-status",children:[XL({file:e}),KL({file:e}),YL({file:e,toggleAddFilesPanel:s,i18n:r})]}),I(y8,{file:e,i18n:r,toggleFileCard:n,metaFields:i})]})}function JL(t){const{file:e,i18n:r,toggleFileCard:n,metaFields:i,showLinkToFileUploadResult:s}=t,o=e.preview?"rgba(255, 255, 255, 0.5)":$y(e.type).color;return I("div",{className:"uppy-Dashboard-Item-previewInnerWrap",style:{backgroundColor:o},children:[s&&e.uploadURL&&I("a",{className:"uppy-Dashboard-Item-previewLink",href:e.uploadURL,rel:"noreferrer noopener",target:"_blank","aria-label":e.meta.name,children:I("span",{hidden:!0,children:e.meta.name})}),I(g8,{file:e}),I(y8,{file:e,i18n:r,toggleFileCard:n,metaFields:i})]})}function eB(t){if(!t.isUploaded){if(t.error&&!t.hideRetryButton){t.uppy.retryUpload(t.file.id);return}t.resumableUploads&&!t.hidePauseResumeButton?t.uppy.pauseResume(t.file.id):t.individualCancellation&&!t.hideCancelButton&&t.uppy.removeFile(t.file.id)}}function k_(t){return t.isUploaded?t.i18n("uploadComplete"):t.error?t.i18n("retryUpload"):t.resumableUploads?t.file.isPaused?t.i18n("resumeUpload"):t.i18n("pauseUpload"):t.individualCancellation?t.i18n("cancelUpload"):""}function n1(t){return I("div",{className:"uppy-Dashboard-Item-progress",children:I("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-progressIndicator",type:"button","aria-label":k_(t),title:k_(t),onClick:()=>eB(t),children:t.children})})}function yf({children:t}){return I("svg",{"aria-hidden":"true",focusable:"false",width:"70",height:"70",viewBox:"0 0 36 36",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--circle",children:t})}function i1({progress:t}){const e=2*Math.PI*15;return I("g",{children:[I("circle",{className:"uppy-Dashboard-Item-progressIcon--bg",r:"15",cx:"18",cy:"18","stroke-width":"2",fill:"none"}),I("circle",{className:"uppy-Dashboard-Item-progressIcon--progress",r:"15",cx:"18",cy:"18",transform:"rotate(-90, 18, 18)",fill:"none","stroke-width":"2","stroke-dasharray":e,"stroke-dashoffset":e-e/100*t})]})}function tB(t){return!t.file.progress.uploadStarted||t.file.progress.percentage===void 0?null:t.isUploaded?I("div",{className:"uppy-Dashboard-Item-progress",children:I("div",{className:"uppy-Dashboard-Item-progressIndicator",children:I(yf,{children:[I("circle",{r:"15",cx:"18",cy:"18",fill:"#1bb240"}),I("polygon",{className:"uppy-Dashboard-Item-progressIcon--check",transform:"translate(2, 3)",points:"14 22.5 7 15.2457065 8.99985857 13.1732815 14 18.3547104 22.9729883 9 25 11.1005634"})]})})}):t.recoveredState?null:t.error&&!t.hideRetryButton?I(n1,{...t,children:I("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--retry",width:"28",height:"31",viewBox:"0 0 16 19",children:[I("path",{d:"M16 11a8 8 0 1 1-8-8v2a6 6 0 1 0 6 6h2z"}),I("path",{d:"M7.9 3H10v2H7.9z"}),I("path",{d:"M8.536.5l3.535 3.536-1.414 1.414L7.12 1.914z"}),I("path",{d:"M10.657 2.621l1.414 1.415L8.536 7.57 7.12 6.157z"})]})}):t.resumableUploads&&!t.hidePauseResumeButton?I(n1,{...t,children:I(yf,{children:[I(i1,{progress:t.file.progress.percentage}),t.file.isPaused?I("polygon",{className:"uppy-Dashboard-Item-progressIcon--play",transform:"translate(3, 3)",points:"12 20 12 10 20 15"}):I("g",{className:"uppy-Dashboard-Item-progressIcon--pause",transform:"translate(14.5, 13)",children:[I("rect",{x:"0",y:"0",width:"2",height:"10",rx:"0"}),I("rect",{x:"5",y:"0",width:"2",height:"10",rx:"0"})]})]})}):!t.resumableUploads&&t.individualCancellation&&!t.hideCancelButton?I(n1,{...t,children:I(yf,{children:[I(i1,{progress:t.file.progress.percentage}),I("polygon",{className:"cancel",transform:"translate(2, 2)",points:"19.8856516 11.0625 16 14.9481516 12.1019737 11.0625 11.0625 12.1143484 14.9481516 16 11.0625 19.8980263 12.1019737 20.9375 16 17.0518484 19.8856516 20.9375 20.9375 19.8980263 17.0518484 16 20.9375 12"})]})}):I("div",{className:"uppy-Dashboard-Item-progress",children:I("div",{className:"uppy-Dashboard-Item-progressIndicator",children:I(yf,{children:I(i1,{progress:t.file.progress.percentage})})})})}class rB extends rn{componentDidMount(){const{file:e}=this.props;e.preview||this.props.handleRequestThumbnail(e)}shouldComponentUpdate(e){return!UL(this.props,e)}componentDidUpdate(){const{file:e}=this.props;e.preview||this.props.handleRequestThumbnail(e)}componentWillUnmount(){const{file:e}=this.props;e.preview||this.props.handleCancelThumbnail(e)}render(){const{file:e}=this.props,r=e.progress.preprocess||e.progress.postprocess,n=!!e.progress.uploadComplete&&!r&&!e.error,i=!!e.progress.uploadStarted||!!r,s=e.progress.uploadStarted&&!e.progress.uploadComplete||r,a=e.error||!1,{isGhost:o}=e;let l=(this.props.individualCancellation||!s)&&!n;n&&this.props.showRemoveButtonAfterComplete&&(l=!0);const c=gi({"uppy-Dashboard-Item":!0,"is-inprogress":s&&!this.props.recoveredState,"is-processing":r,"is-complete":n,"is-error":!!a,"is-resumable":this.props.resumableUploads,"is-noIndividualCancellation":!this.props.individualCancellation,"is-ghost":o});return I("div",{className:c,id:`uppy_${e.id}`,role:this.props.role,children:[I("div",{className:"uppy-Dashboard-Item-preview",children:[I(JL,{file:e,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,i18n:this.props.i18n,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields}),I(tB,{uppy:this.props.uppy,file:e,error:a,isUploaded:n,hideRetryButton:this.props.hideRetryButton,hideCancelButton:this.props.hideCancelButton,hidePauseResumeButton:this.props.hidePauseResumeButton,recoveredState:this.props.recoveredState,resumableUploads:this.props.resumableUploads,individualCancellation:this.props.individualCancellation,i18n:this.props.i18n})]}),I("div",{className:"uppy-Dashboard-Item-fileInfoAndButtons",children:[I(QL,{file:e,containerWidth:this.props.containerWidth,containerHeight:this.props.containerHeight,i18n:this.props.i18n,toggleAddFilesPanel:this.props.toggleAddFilesPanel,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields,isSingleFile:this.props.isSingleFile}),I(WL,{file:e,metaFields:this.props.metaFields,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,showRemoveButton:l,canEditFile:this.props.canEditFile,uploadInProgressOrComplete:i,toggleFileCard:this.props.toggleFileCard,openFileEditor:this.props.openFileEditor,uppy:this.props.uppy,i18n:this.props.i18n})]})]})}}function nB(t,e){const r=[];let n=[];return t.forEach(i=>{n.length<e?n.push(i):(r.push(n),n=[i])}),n.length&&r.push(n),r}function iB({id:t,i18n:e,uppy:r,files:n,resumableUploads:i,hideRetryButton:s,hidePauseResumeButton:a,hideCancelButton:o,showLinkToFileUploadResult:l,showRemoveButtonAfterComplete:c,metaFields:d,isSingleFile:f,toggleFileCard:h,handleRequestThumbnail:p,handleCancelThumbnail:g,recoveredState:m,individualCancellation:x,itemsPerRow:y,openFileEditor:v,canEditFile:_,toggleAddFilesPanel:w,containerWidth:S,containerHeight:A}){const E=y===1?71:200,P=ky(()=>{const F=(L,N)=>Number(n[N].isGhost)-Number(n[L].isGhost),H=Object.keys(n);return m&&H.sort(F),nB(H,y)},[n,y,m]),j=F=>I("div",{class:"uppy-Dashboard-filesInner",role:"presentation",children:F.map(H=>I(rB,{uppy:r,id:t,i18n:e,resumableUploads:i,individualCancellation:x,hideRetryButton:s,hidePauseResumeButton:a,hideCancelButton:o,showLinkToFileUploadResult:l,showRemoveButtonAfterComplete:c,metaFields:d,recoveredState:m,isSingleFile:f,containerWidth:S,containerHeight:A,toggleFileCard:h,handleRequestThumbnail:p,handleCancelThumbnail:g,role:"listitem",openFileEditor:v,canEditFile:_,toggleAddFilesPanel:w,file:n[H]},H))},F[0]);return f?I("div",{class:"uppy-Dashboard-files",children:j(P[0])}):I(SM,{class:"uppy-Dashboard-files",role:"list",data:P,renderRow:j,rowHeight:E})}function sB({activePickerPanel:t,className:e,hideAllPanels:r,i18n:n,state:i,uppy:s}){const a=Wf(null);return I("div",{className:gi("uppy-DashboardContent-panel",e),role:"tabpanel","data-uppy-panelType":"PickerPanel",id:`uppy-DashboardContent-panel--${t.id}`,onDragOver:Xs,onDragLeave:Xs,onDrop:Xs,onPaste:Xs,children:[I("div",{className:"uppy-DashboardContent-bar",children:[I("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":1,children:n("importFrom",{name:t.name})}),I("button",{className:"uppy-DashboardContent-back",type:"button",onClick:r,children:n("cancel")})]}),I("div",{ref:a,className:"uppy-DashboardContent-panelBody",children:s.getPlugin(t.id).render(i,a.current)})]})}const wi={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete",STATE_PAUSED:"paused"};function aB(t,e,r,n={}){if(t)return wi.STATE_ERROR;if(e)return wi.STATE_COMPLETE;if(r)return wi.STATE_PAUSED;let i=wi.STATE_WAITING;const s=Object.keys(n);for(let a=0;a<s.length;a++){const{progress:o}=n[s[a]];if(o.uploadStarted&&!o.uploadComplete)return wi.STATE_UPLOADING;o.preprocess&&i!==wi.STATE_UPLOADING&&(i=wi.STATE_PREPROCESSING),o.postprocess&&i!==wi.STATE_UPLOADING&&i!==wi.STATE_PREPROCESSING&&(i=wi.STATE_POSTPROCESSING)}return i}function oB({files:t,i18n:e,isAllComplete:r,isAllErrored:n,isAllPaused:i,inProgressNotPausedFiles:s,newFiles:a,processingFiles:o}){switch(aB(n,r,i,t)){case"uploading":return e("uploadingXFiles",{smart_count:s.length});case"preprocessing":case"postprocessing":return e("processingXFiles",{smart_count:o.length});case"paused":return e("uploadPaused");case"waiting":return e("xFilesSelected",{smart_count:a.length});case"complete":return e("uploadComplete");case"error":return e("error")}}function lB(t){const{i18n:e,isAllComplete:r,hideCancelButton:n,maxNumberOfFiles:i,toggleAddFilesPanel:s,uppy:a}=t;let{allowNewUpload:o}=t;return o&&i&&(o=t.totalFileCount<t.maxNumberOfFiles),I("div",{className:"uppy-DashboardContent-bar",children:[!r&&!n?I("button",{className:"uppy-DashboardContent-back",type:"button",onClick:()=>a.cancelAll(),children:e("cancel")}):I("div",{}),I("div",{className:"uppy-DashboardContent-title",children:I(oB,{...t})}),o?I("button",{className:"uppy-DashboardContent-addMore",type:"button","aria-label":e("addMoreFiles"),title:e("addMoreFiles"),onClick:()=>s(!0),children:[I("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"15",height:"15",viewBox:"0 0 15 15",children:I("path",{d:"M8 6.5h6a.5.5 0 0 1 .5.5v.5a.5.5 0 0 1-.5.5H8v6a.5.5 0 0 1-.5.5H7a.5.5 0 0 1-.5-.5V8h-6a.5.5 0 0 1-.5-.5V7a.5.5 0 0 1 .5-.5h6v-6A.5.5 0 0 1 7 0h.5a.5.5 0 0 1 .5.5v6z"})}),I("span",{className:"uppy-DashboardContent-addMoreCaption",children:e("addMore")})]}):I("div",{})]})}const Fo="uppy-transition-slideDownUp",D_=250;function xf({children:t}){const[e,r]=zh(null),[n,i]=zh(""),s=Wf(),a=Wf(),o=Wf(),l=()=>{i(`${Fo}-enter`),cancelAnimationFrame(o.current),clearTimeout(a.current),a.current=void 0,o.current=requestAnimationFrame(()=>{i(`${Fo}-enter ${Fo}-enter-active`),s.current=setTimeout(()=>{i("")},D_)})},c=()=>{i(`${Fo}-leave`),cancelAnimationFrame(o.current),clearTimeout(s.current),s.current=void 0,o.current=requestAnimationFrame(()=>{i(`${Fo}-leave ${Fo}-leave-active`),a.current=setTimeout(()=>{r(null),i("")},D_)})};return Jm(()=>{const d=ti(t)[0];e!==d&&(d&&!e?l():e&&!d&&!a.current&&c(),r(d))},[t,e]),Jm(()=>()=>{clearTimeout(s.current),clearTimeout(a.current),cancelAnimationFrame(o.current)},[]),e?P4(e,{className:gi(n,e.props.className)}):null}const j_=900,F_=700,s1=576,M_=330;function cB(t){const e=t.totalFileCount===0,r=t.totalFileCount===1,n=t.containerWidth>s1,i=t.containerHeight>M_,s=gi({"uppy-Dashboard":!0,"uppy-Dashboard--isDisabled":t.disabled,"uppy-Dashboard--animateOpenClose":t.animateOpenClose,"uppy-Dashboard--isClosing":t.isClosing,"uppy-Dashboard--isDraggingOver":t.isDraggingOver,"uppy-Dashboard--modal":!t.inline,"uppy-size--md":t.containerWidth>s1,"uppy-size--lg":t.containerWidth>F_,"uppy-size--xl":t.containerWidth>j_,"uppy-size--height-md":t.containerHeight>M_,"uppy-Dashboard--isAddFilesPanelVisible":t.showAddFilesPanel,"uppy-Dashboard--isInnerWrapVisible":t.areInsidesReadyToBeVisible,"uppy-Dashboard--singleFile":t.singleFileFullScreen&&r&&i});let a=1;t.containerWidth>j_?a=5:t.containerWidth>F_?a=4:t.containerWidth>s1&&(a=3);const o=t.showSelectedFiles&&!e,l=t.recoveredState?Object.keys(t.recoveredState.files).length:null,c=t.files?Object.keys(t.files).filter(h=>t.files[h].isGhost).length:0,d=()=>c>0?t.i18n("recoveredXFiles",{smart_count:c}):t.i18n("recoveredAllFiles");return I("div",{className:s,"data-uppy-theme":t.theme,"data-uppy-num-acquirers":t.acquirers.length,"data-uppy-drag-drop-supported":!t.disableLocalFiles&&TL(),"aria-hidden":t.inline?"false":t.isHidden,"aria-disabled":t.disabled,"aria-label":t.inline?t.i18n("dashboardTitle"):t.i18n("dashboardWindowTitle"),onPaste:t.handlePaste,onDragOver:t.handleDragOver,onDragLeave:t.handleDragLeave,onDrop:t.handleDrop,children:[I("div",{"aria-hidden":"true",className:"uppy-Dashboard-overlay",tabIndex:-1,onClick:t.handleClickOutside}),I("div",{className:"uppy-Dashboard-inner",role:t.inline?void 0:"dialog",style:{width:t.inline&&t.width?t.width:"",height:t.inline&&t.height?t.height:""},children:[t.inline?null:I("button",{className:"uppy-u-reset uppy-Dashboard-close",type:"button","aria-label":t.i18n("closeModal"),title:t.i18n("closeModal"),onClick:t.closeModal,children:I("span",{"aria-hidden":"true",children:""})}),I("div",{className:"uppy-Dashboard-innerWrap",children:[I("div",{className:"uppy-Dashboard-dropFilesHereHint",children:t.i18n("dropHint")}),o&&I(lB,{...t}),l&&I("div",{className:"uppy-Dashboard-serviceMsg",children:[I("svg",{className:"uppy-Dashboard-serviceMsg-icon","aria-hidden":"true",focusable:"false",width:"21",height:"16",viewBox:"0 0 24 19",children:I("g",{transform:"translate(0 -1)",fill:"none",fillRule:"evenodd",children:[I("path",{d:"M12.857 1.43l10.234 17.056A1 1 0 0122.234 20H1.766a1 1 0 01-.857-1.514L11.143 1.429a1 1 0 011.714 0z",fill:"#FFD300"}),I("path",{fill:"#000",d:"M11 6h2l-.3 8h-1.4z"}),I("circle",{fill:"#000",cx:"12",cy:"17",r:"1"})]})}),I("strong",{className:"uppy-Dashboard-serviceMsg-title",children:t.i18n("sessionRestored")}),I("div",{className:"uppy-Dashboard-serviceMsg-text",children:d()})]}),o?I(iB,{id:t.id,i18n:t.i18n,uppy:t.uppy,files:t.files,resumableUploads:t.resumableUploads,hideRetryButton:t.hideRetryButton,hidePauseResumeButton:t.hidePauseResumeButton,hideCancelButton:t.hideCancelButton,showLinkToFileUploadResult:t.showLinkToFileUploadResult,showRemoveButtonAfterComplete:t.showRemoveButtonAfterComplete,metaFields:t.metaFields,toggleFileCard:t.toggleFileCard,handleRequestThumbnail:t.handleRequestThumbnail,handleCancelThumbnail:t.handleCancelThumbnail,recoveredState:t.recoveredState,individualCancellation:t.individualCancellation,openFileEditor:t.openFileEditor,canEditFile:t.canEditFile,toggleAddFilesPanel:t.toggleAddFilesPanel,isSingleFile:r,itemsPerRow:a,containerWidth:t.containerWidth,containerHeight:t.containerHeight}):I(m8,{i18n:t.i18n,i18nArray:t.i18nArray,acquirers:t.acquirers,handleInputChange:t.handleInputChange,maxNumberOfFiles:t.maxNumberOfFiles,allowedFileTypes:t.allowedFileTypes,showNativePhotoCameraButton:t.showNativePhotoCameraButton,showNativeVideoCameraButton:t.showNativeVideoCameraButton,nativeCameraFacingMode:t.nativeCameraFacingMode,showPanel:t.showPanel,activePickerPanel:t.activePickerPanel,disableLocalFiles:t.disableLocalFiles,fileManagerSelectionType:t.fileManagerSelectionType,note:t.note,proudlyDisplayPoweredByUppy:t.proudlyDisplayPoweredByUppy}),I(xf,{children:t.showAddFilesPanel?I(IL,{...t,isSizeMD:n},"AddFiles"):null}),I(xf,{children:t.fileCardFor?I(BL,{...t},"FileCard"):null}),I(xf,{children:t.activePickerPanel?I(sB,{...t},"Picker"):null}),I(xf,{children:t.showFileEditor?I(PL,{...t},"Editor"):null}),I("div",{className:"uppy-Dashboard-progressindicators",children:t.progressindicators.map(h=>t.uppy.getPlugin(h.id).render(t.state))})]})]})]})}const uB={strings:{closeModal:"Close Modal",addMoreFiles:"Add more files",addingMoreFiles:"Adding more files",importFrom:"Import from %{name}",dashboardWindowTitle:"Uppy Dashboard Window (Press escape to close)",dashboardTitle:"Uppy Dashboard",copyLinkToClipboardSuccess:"Link copied to clipboard.",copyLinkToClipboardFallback:"Copy the URL below",copyLink:"Copy link",back:"Back",removeFile:"Remove file",editFile:"Edit file",editImage:"Edit image",editing:"Editing %{file}",error:"Error",finishEditingFile:"Finish editing file",saveChanges:"Save changes",myDevice:"My Device",dropHint:"Drop your files here",uploadComplete:"Upload complete",uploadPaused:"Upload paused",resumeUpload:"Resume upload",pauseUpload:"Pause upload",retryUpload:"Retry upload",cancelUpload:"Cancel upload",xFilesSelected:{0:"%{smart_count} file selected",1:"%{smart_count} files selected"},uploadingXFiles:{0:"Uploading %{smart_count} file",1:"Uploading %{smart_count} files"},processingXFiles:{0:"Processing %{smart_count} file",1:"Processing %{smart_count} files"},poweredBy:"Powered by %{uppy}",addMore:"Add more",editFileWithFilename:"Edit file %{file}",save:"Save",cancel:"Cancel",dropPasteFiles:"Drop files here or %{browseFiles}",dropPasteFolders:"Drop files here or %{browseFolders}",dropPasteBoth:"Drop files here, %{browseFiles} or %{browseFolders}",dropPasteImportFiles:"Drop files here, %{browseFiles} or import from:",dropPasteImportFolders:"Drop files here, %{browseFolders} or import from:",dropPasteImportBoth:"Drop files here, %{browseFiles}, %{browseFolders} or import from:",importFiles:"Import files from:",browseFiles:"browse files",browseFolders:"browse folders",recoveredXFiles:{0:"We could not fully recover 1 file. Please re-select it and resume the upload.",1:"We could not fully recover %{smart_count} files. Please re-select them and resume the upload."},recoveredAllFiles:"We restored all files. You can now resume the upload.",sessionRestored:"Session restored",reSelect:"Re-select",missingRequiredMetaFields:{0:"Missing required meta field: %{fields}.",1:"Missing required meta fields: %{fields}."},takePictureBtn:"Take Picture",recordVideoBtn:"Record Video"}},x8=['a[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','area[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])',"input:not([disabled]):not([inert]):not([aria-hidden])","select:not([disabled]):not([inert]):not([aria-hidden])","textarea:not([disabled]):not([inert]):not([aria-hidden])","button:not([disabled]):not([inert]):not([aria-hidden])",'iframe:not([tabindex^="-"]):not([inert]):not([aria-hidden])','object:not([tabindex^="-"]):not([inert]):not([aria-hidden])','embed:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[contenteditable]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[tabindex]:not([tabindex^="-"]):not([inert]):not([aria-hidden])'];function w8(t,e){if(e){const r=t.querySelector(`[data-uppy-paneltype="${e}"]`);if(r)return r}return t}function dB(){let t=!1;return z9((r,n)=>{const i=w8(r,n),s=i.contains(document.activeElement);if(s&&t)return;const a=i.querySelector("[data-uppy-super-focusable]");if(!(s&&!a))if(a)a.focus({preventScroll:!0}),t=!0;else{const o=i.querySelector(x8);o==null||o.focus({preventScroll:!0}),t=!1}},260)}function L_(t,e){const r=e[0];r&&(r.focus(),t.preventDefault())}function fB(t,e){const r=e[e.length-1];r&&(r.focus(),t.preventDefault())}function hB(t){return t.contains(document.activeElement)}function _8(t,e,r){const n=w8(r,e),i=gu(n.querySelectorAll(x8)),s=i.indexOf(document.activeElement);hB(n)?t.shiftKey&&s===0?fB(t,i):!t.shiftKey&&s===i.length-1&&L_(t,i):L_(t,i)}function pB(t,e,r){e===null||_8(t,e,r)}const B_=9,mB=27;function U_(){const t={};return t.promise=new Promise((e,r)=>{t.resolve=e,t.reject=r}),t}const gB={target:"body",metaFields:[],thumbnailWidth:280,thumbnailType:"image/jpeg",waitForThumbnailsBeforeUpload:!1,defaultPickerIcon:EM,showLinkToFileUploadResult:!1,showProgressDetails:!1,hideUploadButton:!1,hideCancelButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideProgressAfterFinish:!1,note:null,singleFileFullScreen:!0,disableStatusBar:!1,disableInformer:!1,disableThumbnailGenerator:!1,fileManagerSelectionType:"files",proudlyDisplayPoweredByUppy:!0,showSelectedFiles:!0,showRemoveButtonAfterComplete:!1,showNativePhotoCameraButton:!1,showNativeVideoCameraButton:!1,theme:"light",autoOpen:null,disabled:!1,disableLocalFiles:!1,nativeCameraFacingMode:"",onDragLeave:()=>{},onDragOver:()=>{},onDrop:()=>{},plugins:[],doneButtonHandler:void 0,onRequestCloseModal:null,inline:!1,animateOpenClose:!0,browserBackButtonClose:!1,closeAfterFinish:!1,closeModalOnClickOutside:!1,disablePageScrollWhenModalOpen:!0,trigger:null,width:750,height:550};var y1,Tl,Ja,nd,Il,Jh,ep,tp,eo,rp,np,Pl,dr,pg,mg,b8,gg,vg,C8;let vB=(y1=class extends oc{constructor(r,n){var s;const i=(n==null?void 0:n.autoOpen)??null;super(r,{...gB,...n,autoOpen:i});z(this,dr);z(this,Tl);W(this,"modalName",`uppy-Dashboard-${jy()}`);W(this,"superFocus",dB());W(this,"ifFocusedOnUppyRecently",!1);W(this,"dashboardIsDisabled");W(this,"savedScrollPosition");W(this,"savedActiveElement");W(this,"resizeObserver");W(this,"darkModeMediaQuery");W(this,"makeDashboardInsidesVisibleAnywayTimeout");W(this,"removeTarget",r=>{const i=this.getPluginState().targets.filter(s=>s.id!==r.id);this.setPluginState({targets:i})});W(this,"addTarget",r=>{const n=r.id||r.constructor.name,i=r.title||n,s=r.type;if(s!=="acquirer"&&s!=="progressindicator"&&s!=="editor")return this.uppy.log("Dashboard: can only be targeted by plugins of types: acquirer, progressindicator, editor","error"),null;const a={id:n,name:i,type:s},l=this.getPluginState().targets.slice();return l.push(a),this.setPluginState({targets:l}),this.el});W(this,"hideAllPanels",()=>{var i;const r=this.getPluginState(),n={activePickerPanel:void 0,showAddFilesPanel:!1,activeOverlayType:null,fileCardFor:null,showFileEditor:!1};r.activePickerPanel===n.activePickerPanel&&r.showAddFilesPanel===n.showAddFilesPanel&&r.showFileEditor===n.showFileEditor&&r.activeOverlayType===n.activeOverlayType||(this.setPluginState(n),this.uppy.emit("dashboard:close-panel",(i=r.activePickerPanel)==null?void 0:i.id))});W(this,"showPanel",r=>{const{targets:n}=this.getPluginState(),i=n.find(s=>s.type==="acquirer"&&s.id===r);this.setPluginState({activePickerPanel:i,activeOverlayType:"PickerPanel"}),this.uppy.emit("dashboard:show-panel",r)});W(this,"canEditFile",r=>{const{targets:n}=this.getPluginState();return C(this,eo).call(this,n).some(s=>this.uppy.getPlugin(s.id).canEditFile(r))});W(this,"openFileEditor",r=>{const{targets:n}=this.getPluginState(),i=C(this,eo).call(this,n);this.setPluginState({showFileEditor:!0,fileCardFor:r.id||null,activeOverlayType:"FileEditor"}),i.forEach(s=>{this.uppy.getPlugin(s.id).selectFile(r)})});W(this,"closeFileEditor",()=>{const{metaFields:r}=this.getPluginState();r&&r.length>0?this.setPluginState({showFileEditor:!1,activeOverlayType:"FileCard"}):this.setPluginState({showFileEditor:!1,fileCardFor:null,activeOverlayType:"AddFiles"})});W(this,"saveFileEditor",()=>{const{targets:r}=this.getPluginState();C(this,eo).call(this,r).forEach(i=>{this.uppy.getPlugin(i.id).save()}),this.closeFileEditor()});W(this,"openModal",()=>{const{promise:r,resolve:n}=U_();if(this.savedScrollPosition=window.pageYOffset,this.savedActiveElement=document.activeElement,this.opts.disablePageScrollWhenModalOpen&&document.body.classList.add("uppy-Dashboard-isFixed"),this.opts.animateOpenClose&&this.getPluginState().isClosing){const i=()=>{this.setPluginState({isHidden:!1}),this.el.removeEventListener("animationend",i,!1),n()};this.el.addEventListener("animationend",i,!1)}else this.setPluginState({isHidden:!1}),n();return this.opts.browserBackButtonClose&&this.updateBrowserHistory(),document.addEventListener("keydown",this.handleKeyDownInModal),this.uppy.emit("dashboard:modal-open"),r});W(this,"closeModal",r=>{var l;const n=(r==null?void 0:r.manualClose)??!0,{isHidden:i,isClosing:s}=this.getPluginState();if(i||s)return;const{promise:a,resolve:o}=U_();if(this.opts.disablePageScrollWhenModalOpen&&document.body.classList.remove("uppy-Dashboard-isFixed"),this.opts.animateOpenClose){this.setPluginState({isClosing:!0});const c=()=>{this.setPluginState({isHidden:!0,isClosing:!1}),this.superFocus.cancel(),this.savedActiveElement.focus(),this.el.removeEventListener("animationend",c,!1),o()};this.el.addEventListener("animationend",c,!1)}else this.setPluginState({isHidden:!0}),this.superFocus.cancel(),this.savedActiveElement.focus(),o();return document.removeEventListener("keydown",this.handleKeyDownInModal),n&&this.opts.browserBackButtonClose&&(l=history.state)!=null&&l[this.modalName]&&history.back(),this.uppy.emit("dashboard:modal-closed"),a});W(this,"isModalOpen",()=>!this.getPluginState().isHidden||!1);W(this,"requestCloseModal",()=>this.opts.onRequestCloseModal?this.opts.onRequestCloseModal():this.closeModal());W(this,"setDarkModeCapability",r=>{const{capabilities:n}=this.uppy.getState();this.uppy.setState({capabilities:{...n,darkMode:r}})});W(this,"handleSystemDarkModeChange",r=>{const n=r.matches;this.uppy.log(`[Dashboard] Dark mode is ${n?"on":"off"}`),this.setDarkModeCapability(n)});W(this,"toggleFileCard",(r,n)=>{const i=this.uppy.getFile(n);r?this.uppy.emit("dashboard:file-edit-start",i):this.uppy.emit("dashboard:file-edit-complete",i),this.setPluginState({fileCardFor:r?n:null,activeOverlayType:r?"FileCard":null})});W(this,"toggleAddFilesPanel",r=>{this.setPluginState({showAddFilesPanel:r,activeOverlayType:r?"AddFiles":null})});W(this,"addFiles",r=>{const n=r.map(i=>({source:this.id,name:i.name,type:i.type,data:i,meta:{relativePath:i.relativePath||i.webkitRelativePath||null}}));try{this.uppy.addFiles(n)}catch(i){this.uppy.log(i)}});W(this,"startListeningToResize",()=>{this.resizeObserver=new ResizeObserver(r=>{const n=r[0],{width:i,height:s}=n.contentRect;this.setPluginState({containerWidth:i,containerHeight:s,areInsidesReadyToBeVisible:!0})}),this.resizeObserver.observe(this.el.querySelector(".uppy-Dashboard-inner")),this.makeDashboardInsidesVisibleAnywayTimeout=setTimeout(()=>{const r=this.getPluginState(),n=!this.opts.inline&&r.isHidden;!r.areInsidesReadyToBeVisible&&!n&&(this.uppy.log("[Dashboard] resize event didnt fire on time: defaulted to mobile layout","warning"),this.setPluginState({areInsidesReadyToBeVisible:!0}))},1e3)});W(this,"stopListeningToResize",()=>{this.resizeObserver.disconnect(),clearTimeout(this.makeDashboardInsidesVisibleAnywayTimeout)});W(this,"recordIfFocusedOnUppyRecently",r=>{this.el.contains(r.target)?this.ifFocusedOnUppyRecently=!0:(this.ifFocusedOnUppyRecently=!1,this.superFocus.cancel())});W(this,"disableInteractiveElements",r=>{const n=["a[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])",'[role="button"]:not([disabled])'],i=C(this,Tl)??gu(this.el.querySelectorAll(n)).filter(s=>!s.classList.contains("uppy-Dashboard-close"));for(const s of i)s.tagName==="A"?s.setAttribute("aria-disabled",r):s.disabled=r;r?G(this,Tl,i):G(this,Tl,null),this.dashboardIsDisabled=r});W(this,"updateBrowserHistory",()=>{var r;(r=history.state)!=null&&r[this.modalName]||history.pushState({...history.state,[this.modalName]:!0},""),window.addEventListener("popstate",this.handlePopState,!1)});W(this,"handlePopState",r=>{var n;this.isModalOpen()&&(!r.state||!r.state[this.modalName])&&this.closeModal({manualClose:!1}),!this.isModalOpen()&&((n=r.state)!=null&&n[this.modalName])&&history.back()});W(this,"handleKeyDownInModal",r=>{r.keyCode===mB&&this.requestCloseModal(),r.keyCode===B_&&_8(r,this.getPluginState().activeOverlayType,this.el)});W(this,"handleClickOutside",()=>{this.opts.closeModalOnClickOutside&&this.requestCloseModal()});W(this,"handlePaste",r=>{this.uppy.iteratePlugins(i=>{var s;i.type==="acquirer"&&((s=i.handleRootPaste)==null||s.call(i,r))});const n=gu(r.clipboardData.files);n.length>0&&(this.uppy.log("[Dashboard] Files pasted"),this.addFiles(n))});W(this,"handleInputChange",r=>{r.preventDefault();const n=gu(r.currentTarget.files||[]);n.length>0&&(this.uppy.log("[Dashboard] Files selected through input"),this.addFiles(n))});W(this,"handleDragOver",r=>{r.preventDefault(),r.stopPropagation();const n=()=>{let o=!0;return this.uppy.iteratePlugins(l=>{var c;(c=l.canHandleRootDrop)!=null&&c.call(l,r)&&(o=!0)}),o},i=()=>{const{types:o}=r.dataTransfer;return o.some(l=>l==="Files")},s=n(),a=i();if(!s&&!a||this.opts.disabled||this.opts.disableLocalFiles&&(a||!s)||!this.uppy.getState().allowNewUpload){r.dataTransfer.dropEffect="none";return}r.dataTransfer.dropEffect="copy",this.setPluginState({isDraggingOver:!0}),this.opts.onDragOver(r)});W(this,"handleDragLeave",r=>{r.preventDefault(),r.stopPropagation(),this.setPluginState({isDraggingOver:!1}),this.opts.onDragLeave(r)});W(this,"handleDrop",async r=>{r.preventDefault(),r.stopPropagation(),this.setPluginState({isDraggingOver:!1}),this.uppy.iteratePlugins(a=>{var o;a.type==="acquirer"&&((o=a.handleRootDrop)==null||o.call(a,r))});let n=!1;const i=a=>{this.uppy.log(a,"error"),n||(this.uppy.info(a.message,"error"),n=!0)};this.uppy.log("[Dashboard] Processing dropped files");const s=await EL(r.dataTransfer,{logDropError:i});s.length>0&&(this.uppy.log("[Dashboard] Files dropped"),this.addFiles(s)),this.opts.onDrop(r)});W(this,"handleRequestThumbnail",r=>{this.opts.waitForThumbnailsBeforeUpload||this.uppy.emit("thumbnail:request",r)});W(this,"handleCancelThumbnail",r=>{this.opts.waitForThumbnailsBeforeUpload||this.uppy.emit("thumbnail:cancel",r)});W(this,"handleKeyDownInInline",r=>{r.keyCode===B_&&pB(r,this.getPluginState().activeOverlayType,this.el)});W(this,"handlePasteOnBody",r=>{this.el.contains(document.activeElement)&&this.handlePaste(r)});W(this,"handleComplete",({failed:r})=>{this.opts.closeAfterFinish&&!(r!=null&&r.length)&&this.requestCloseModal()});W(this,"handleCancelRestore",()=>{this.uppy.emit("restore-canceled")});z(this,Ja,()=>{if(this.opts.disableThumbnailGenerator)return;const r=600,n=this.uppy.getFiles();if(n.length===1){const i=this.uppy.getPlugin(`${this.id}:ThumbnailGenerator`);i==null||i.setOptions({thumbnailWidth:r});const s={...n[0],preview:void 0};i==null||i.requestThumbnail(s).then(()=>{i==null||i.setOptions({thumbnailWidth:this.opts.thumbnailWidth})})}});z(this,nd,r=>{const n=r[0],{metaFields:i}=this.getPluginState(),s=i&&i.length>0,a=this.canEditFile(n);s&&this.opts.autoOpen==="metaEditor"?this.toggleFileCard(!0,n.id):a&&this.opts.autoOpen==="imageEditor"&&this.openFileEditor(n)});W(this,"initEvents",()=>{if(this.opts.trigger&&!this.opts.inline){const r=R_(this.opts.trigger);r?r.forEach(n=>n.addEventListener("click",this.openModal)):this.uppy.log("Dashboard modal trigger not found. Make sure `trigger` is set in Dashboard options, unless you are planning to call `dashboard.openModal()` method yourself","warning")}this.startListeningToResize(),document.addEventListener("paste",this.handlePasteOnBody),this.uppy.on("plugin-added",C(this,Pl)),this.uppy.on("plugin-remove",this.removeTarget),this.uppy.on("file-added",this.hideAllPanels),this.uppy.on("dashboard:modal-closed",this.hideAllPanels),this.uppy.on("complete",this.handleComplete),this.uppy.on("files-added",C(this,Ja)),this.uppy.on("file-removed",C(this,Ja)),document.addEventListener("focus",this.recordIfFocusedOnUppyRecently,!0),document.addEventListener("click",this.recordIfFocusedOnUppyRecently,!0),this.opts.inline&&this.el.addEventListener("keydown",this.handleKeyDownInInline),this.opts.autoOpen&&this.uppy.on("files-added",C(this,nd))});W(this,"removeEvents",()=>{const r=R_(this.opts.trigger);!this.opts.inline&&r&&r.forEach(n=>n.removeEventListener("click",this.openModal)),this.stopListeningToResize(),document.removeEventListener("paste",this.handlePasteOnBody),window.removeEventListener("popstate",this.handlePopState,!1),this.uppy.off("plugin-added",C(this,Pl)),this.uppy.off("plugin-remove",this.removeTarget),this.uppy.off("file-added",this.hideAllPanels),this.uppy.off("dashboard:modal-closed",this.hideAllPanels),this.uppy.off("complete",this.handleComplete),this.uppy.off("files-added",C(this,Ja)),this.uppy.off("file-removed",C(this,Ja)),document.removeEventListener("focus",this.recordIfFocusedOnUppyRecently),document.removeEventListener("click",this.recordIfFocusedOnUppyRecently),this.opts.inline&&this.el.removeEventListener("keydown",this.handleKeyDownInInline),this.opts.autoOpen&&this.uppy.off("files-added",C(this,nd))});W(this,"superFocusOnEachUpdate",()=>{const r=this.el.contains(document.activeElement),n=document.activeElement===document.body||document.activeElement===null,i=this.uppy.getState().info.length===0,s=!this.opts.inline;i&&(s||r||n&&this.ifFocusedOnUppyRecently)?this.superFocus(this.el,this.getPluginState().activeOverlayType):this.superFocus.cancel()});W(this,"afterUpdate",()=>{if(this.opts.disabled&&!this.dashboardIsDisabled){this.disableInteractiveElements(!0);return}!this.opts.disabled&&this.dashboardIsDisabled&&this.disableInteractiveElements(!1),this.superFocusOnEachUpdate()});W(this,"saveFileCard",(r,n)=>{this.uppy.setFileMeta(n,r),this.toggleFileCard(!1,n)});z(this,Il,r=>{const n=this.uppy.getPlugin(r.id);return{...r,icon:n.icon||this.opts.defaultPickerIcon,render:n.render}});z(this,Jh,r=>{const n=this.uppy.getPlugin(r.id);return typeof n.isSupported!="function"?!0:n.isSupported()});z(this,ep,r=>r.filter(n=>n.type==="acquirer"&&C(this,Jh).call(this,n)).map(C(this,Il)));z(this,tp,r=>r.filter(n=>n.type==="progressindicator").map(C(this,Il)));z(this,eo,r=>r.filter(n=>n.type==="editor").map(C(this,Il)));W(this,"render",r=>{const n=this.getPluginState(),{files:i,capabilities:s,allowNewUpload:a}=r,{newFiles:o,uploadStartedFiles:l,completeFiles:c,erroredFiles:d,inProgressFiles:f,inProgressNotPausedFiles:h,processingFiles:p,isUploadStarted:g,isAllComplete:m,isAllPaused:x}=this.uppy.getObjectOfFilesPerState(),y=C(this,ep).call(this,n.targets),v=C(this,tp).call(this,n.targets),_=C(this,eo).call(this,n.targets);let w;return this.opts.theme==="auto"?w=s.darkMode?"dark":"light":w=this.opts.theme,["files","folders","both"].indexOf(this.opts.fileManagerSelectionType)<0&&(this.opts.fileManagerSelectionType="files",console.warn(`Unsupported option for "fileManagerSelectionType". Using default of "${this.opts.fileManagerSelectionType}".`)),cB({state:r,isHidden:n.isHidden,files:i,newFiles:o,uploadStartedFiles:l,completeFiles:c,erroredFiles:d,inProgressFiles:f,inProgressNotPausedFiles:h,processingFiles:p,isUploadStarted:g,isAllComplete:m,isAllPaused:x,totalFileCount:Object.keys(i).length,totalProgress:r.totalProgress,allowNewUpload:a,acquirers:y,theme:w,disabled:this.opts.disabled,disableLocalFiles:this.opts.disableLocalFiles,direction:this.opts.direction,activePickerPanel:n.activePickerPanel,showFileEditor:n.showFileEditor,saveFileEditor:this.saveFileEditor,closeFileEditor:this.closeFileEditor,disableInteractiveElements:this.disableInteractiveElements,animateOpenClose:this.opts.animateOpenClose,isClosing:n.isClosing,progressindicators:v,editors:_,autoProceed:this.uppy.opts.autoProceed,id:this.id,closeModal:this.requestCloseModal,handleClickOutside:this.handleClickOutside,handleInputChange:this.handleInputChange,handlePaste:this.handlePaste,inline:this.opts.inline,showPanel:this.showPanel,hideAllPanels:this.hideAllPanels,i18n:this.i18n,i18nArray:this.i18nArray,uppy:this.uppy,note:this.opts.note,recoveredState:r.recoveredState,metaFields:n.metaFields,resumableUploads:s.resumableUploads||!1,individualCancellation:s.individualCancellation,isMobileDevice:s.isMobileDevice,fileCardFor:n.fileCardFor,toggleFileCard:this.toggleFileCard,toggleAddFilesPanel:this.toggleAddFilesPanel,showAddFilesPanel:n.showAddFilesPanel,saveFileCard:this.saveFileCard,openFileEditor:this.openFileEditor,canEditFile:this.canEditFile,width:this.opts.width,height:this.opts.height,showLinkToFileUploadResult:this.opts.showLinkToFileUploadResult,fileManagerSelectionType:this.opts.fileManagerSelectionType,proudlyDisplayPoweredByUppy:this.opts.proudlyDisplayPoweredByUppy,hideCancelButton:this.opts.hideCancelButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,showRemoveButtonAfterComplete:this.opts.showRemoveButtonAfterComplete,containerWidth:n.containerWidth,containerHeight:n.containerHeight,areInsidesReadyToBeVisible:n.areInsidesReadyToBeVisible,parentElement:this.el,allowedFileTypes:this.uppy.opts.restrictions.allowedFileTypes,maxNumberOfFiles:this.uppy.opts.restrictions.maxNumberOfFiles,requiredMetaFields:this.uppy.opts.restrictions.requiredMetaFields,showSelectedFiles:this.opts.showSelectedFiles,showNativePhotoCameraButton:this.opts.showNativePhotoCameraButton,showNativeVideoCameraButton:this.opts.showNativeVideoCameraButton,nativeCameraFacingMode:this.opts.nativeCameraFacingMode,singleFileFullScreen:this.opts.singleFileFullScreen,handleCancelRestore:this.handleCancelRestore,handleRequestThumbnail:this.handleRequestThumbnail,handleCancelThumbnail:this.handleCancelThumbnail,isDraggingOver:n.isDraggingOver,handleDragOver:this.handleDragOver,handleDragLeave:this.handleDragLeave,handleDrop:this.handleDrop})});z(this,rp,()=>{const{plugins:r}=this.opts;r.forEach(n=>{const i=this.uppy.getPlugin(n);i?i.mount(this,i):this.uppy.log(`[Uppy] Dashboard could not find plugin '${n}', make sure to uppy.use() the plugins you are specifying`,"warning")})});z(this,np,()=>{this.uppy.iteratePlugins(C(this,Pl))});z(this,Pl,r=>{var i;const n=["acquirer","editor"];r&&!((i=r.opts)!=null&&i.target)&&n.includes(r.type)&&(this.getPluginState().targets.some(a=>r.id===a.id)||r.mount(this,r))});W(this,"install",()=>{var l;this.setPluginState({isHidden:!0,fileCardFor:null,activeOverlayType:null,showAddFilesPanel:!1,activePickerPanel:void 0,showFileEditor:!1,metaFields:this.opts.metaFields,targets:[],areInsidesReadyToBeVisible:!1,isDraggingOver:!1});const{inline:r,closeAfterFinish:n}=this.opts;if(r&&n)throw new Error("[Dashboard] `closeAfterFinish: true` cannot be used on an inline Dashboard, because an inline Dashboard cannot be closed at all. Either set `inline: false`, or disable the `closeAfterFinish` option.");const{allowMultipleUploads:i,allowMultipleUploadBatches:s}=this.uppy.opts;(i||s)&&n&&this.uppy.log("[Dashboard] When using `closeAfterFinish`, we recommended setting the `allowMultipleUploadBatches` option to `false` in the Uppy constructor. See https://uppy.io/docs/uppy/#allowMultipleUploads-true","warning");const{target:a}=this.opts;a&&this.mount(a,this),this.opts.disableStatusBar||this.uppy.use(KM,{id:Z(this,dr,gg).call(this),target:this,...Z(this,dr,pg).call(this)}),this.opts.disableInformer||this.uppy.use(Q4,{id:Z(this,dr,C8).call(this),target:this,...Z(this,dr,b8).call(this)}),this.opts.disableThumbnailGenerator||this.uppy.use(d8,{id:Z(this,dr,vg).call(this),...Z(this,dr,mg).call(this)}),this.darkModeMediaQuery=typeof window<"u"&&window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)"):null;const o=this.darkModeMediaQuery?this.darkModeMediaQuery.matches:!1;this.uppy.log(`[Dashboard] Dark mode is ${o?"on":"off"}`),this.setDarkModeCapability(o),this.opts.theme==="auto"&&((l=this.darkModeMediaQuery)==null||l.addListener(this.handleSystemDarkModeChange)),C(this,rp).call(this),C(this,np).call(this),this.initEvents()});W(this,"uninstall",()=>{var n;if(!this.opts.disableInformer){const i=this.uppy.getPlugin(`${this.id}:Informer`);i&&this.uppy.removePlugin(i)}if(!this.opts.disableStatusBar){const i=this.uppy.getPlugin(`${this.id}:StatusBar`);i&&this.uppy.removePlugin(i)}if(!this.opts.disableThumbnailGenerator){const i=this.uppy.getPlugin(`${this.id}:ThumbnailGenerator`);i&&this.uppy.removePlugin(i)}const{plugins:r}=this.opts;r.forEach(i=>{const s=this.uppy.getPlugin(i);s&&s.unmount()}),this.opts.theme==="auto"&&((n=this.darkModeMediaQuery)==null||n.removeListener(this.handleSystemDarkModeChange)),this.opts.disablePageScrollWhenModalOpen&&document.body.classList.remove("uppy-Dashboard-isFixed"),this.unmount(),this.removeEvents()});this.id=this.opts.id||"Dashboard",this.title="Dashboard",this.type="orchestrator",this.defaultLocale=uB,this.opts.doneButtonHandler===void 0&&(this.opts.doneButtonHandler=()=>{this.uppy.clear(),this.requestCloseModal()}),(s=this.opts).onRequestCloseModal??(s.onRequestCloseModal=()=>this.closeModal()),this.i18nInit()}setOptions(r){var n,i;super.setOptions(r),(n=this.uppy.getPlugin(Z(this,dr,gg).call(this)))==null||n.setOptions(Z(this,dr,pg).call(this)),(i=this.uppy.getPlugin(Z(this,dr,vg).call(this)))==null||i.setOptions(Z(this,dr,mg).call(this))}},Tl=new WeakMap,Ja=new WeakMap,nd=new WeakMap,Il=new WeakMap,Jh=new WeakMap,ep=new WeakMap,tp=new WeakMap,eo=new WeakMap,rp=new WeakMap,np=new WeakMap,Pl=new WeakMap,dr=new WeakSet,pg=function(){const{hideUploadButton:r,hideRetryButton:n,hidePauseResumeButton:i,hideCancelButton:s,showProgressDetails:a,hideProgressAfterFinish:o,locale:l,doneButtonHandler:c}=this.opts;return{hideUploadButton:r,hideRetryButton:n,hidePauseResumeButton:i,hideCancelButton:s,showProgressDetails:a,hideAfterFinish:o,locale:l,doneButtonHandler:c}},mg=function(){const{thumbnailWidth:r,thumbnailHeight:n,thumbnailType:i,waitForThumbnailsBeforeUpload:s}=this.opts;return{thumbnailWidth:r,thumbnailHeight:n,thumbnailType:i,waitForThumbnailsBeforeUpload:s,lazy:!s}},b8=function(){return{}},gg=function(){return`${this.id}:StatusBar`},vg=function(){return`${this.id}:ThumbnailGenerator`},C8=function(){return`${this.id}:Informer`},W(y1,"VERSION",NL.version),y1);const yB=["defaultChecked","defaultValue","suppressContentEditableWarning","suppressHydrationWarning","dangerouslySetInnerHTML","accessKey","className","contentEditable","contextMenu","dir","draggable","hidden","id","lang","placeholder","slot","spellCheck","style","tabIndex","title","translate","radioGroup","role","about","datatype","inlist","prefix","property","resource","typeof","vocab","autoCapitalize","autoCorrect","autoSave","color","itemProp","itemScope","itemType","itemID","itemRef","results","security","unselectable","inputMode","is","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],xB=/^(aria-|data-)/,S8=t=>Object.fromEntries(Object.entries(t).filter(([e])=>xB.test(e)||yB.includes(e)));function wB(t,e){const r=S8(t);return Object.keys(t).some(n=>!Object.hasOwn(r,n)&&t[n]!==e[n])}class E8 extends b.Component{constructor(){super(...arguments);W(this,"container");W(this,"plugin")}componentDidMount(){this.installPlugin()}componentDidUpdate(r){const{uppy:n,open:i,onRequestClose:s}=this.props;if(r.uppy!==n)this.uninstallPlugin(r),this.installPlugin();else if(wB(this.props,r)){const{uppy:a,...o}={...this.props,inline:!1,onRequestCloseModal:s};this.plugin.setOptions(o)}r.open&&!i?this.plugin.closeModal():!r.open&&i&&this.plugin.openModal()}componentWillUnmount(){this.uninstallPlugin()}installPlugin(){const{target:r=this.container,open:n,onRequestClose:i,uppy:s,...a}=this.props,o={id:"DashboardModal",...a,inline:!1,target:r,open:n,onRequestCloseModal:i};s.use(vB,o),this.plugin=s.getPlugin(o.id),n&&this.plugin.openModal()}uninstallPlugin(r=this.props){const{uppy:n}=r;n.removePlugin(this.plugin)}render(){return b.createElement("div",{className:"uppy-Container",ref:r=>{this.container=r},...S8(this.props)})}}W(E8,"defaultProps",{open:void 0,onRequestClose:void 0});b.createContext({uppy:void 0,status:"init",progress:0});var _B={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rd=b;function bB(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var CB=typeof Object.is=="function"?Object.is:bB,SB=Rd.useSyncExternalStore,EB=Rd.useRef,AB=Rd.useEffect,NB=Rd.useMemo,TB=Rd.useDebugValue;_B.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var s=EB(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=NB(function(){function l(p){if(!c){if(c=!0,d=p,p=n(p),i!==void 0&&a.hasValue){var g=a.value;if(i(g,p))return f=g}return f=p}if(g=f,CB(d,p))return g;var m=n(p);return i!==void 0&&i(g,m)?(d=p,g):(d=p,f=m)}var c=!1,d,f,h=r===void 0?null:r;return[function(){return l(e())},h===null?void 0:function(){return l(h())}]},[e,r,n,i]);var o=SB(t,s[0],s[1]);return AB(function(){a.hasValue=!0,a.value=o},[o]),TB(o),o};function A8(t,e){return Object.hasOwn(t,e)}class IB extends Error{constructor(r,n){super(r);W(this,"isNetworkError");W(this,"cause");this.cause=n==null?void 0:n.cause,this.cause&&A8(this.cause,"isNetworkError")?this.isNetworkError=this.cause.isNetworkError:this.isNetworkError=!1}}class PB extends Error{constructor(r,n=null){super("This looks like a network error, the endpoint might be blocked by an internet provider or a firewall.");W(this,"cause");W(this,"isNetworkError");W(this,"request");this.cause=r,this.isNetworkError=!0,this.request=n}}function OB(...t){return fetch(...t).catch(e=>{throw e.name==="AbortError"?e:new PB(e)})}function RB(t){var i;const r=(i=/^(?:https?:\/\/|\/\/)?(?:[^@\n]+@)?([^\n]+)/i.exec(t))==null?void 0:i[1];return`${/^http:\/\//i.test(t)?"ws":"wss"}://${r}`}class kB extends Error{constructor(){super(...arguments);W(this,"name","UserFacingApiError")}}var N8={};function kn(t,e){typeof e=="boolean"&&(e={forever:e}),this._originalTimeouts=JSON.parse(JSON.stringify(t)),this._timeouts=t,this._options=e||{},this._maxRetryTime=e&&e.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}var DB=kn;kn.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)};kn.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null};kn.prototype.retry=function(t){if(this._timeout&&clearTimeout(this._timeout),!t)return!1;var e=new Date().getTime();if(t&&e-this._operationStart>=this._maxRetryTime)return this._errors.push(t),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(t);var r=this._timeouts.shift();if(r===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),r=this._cachedTimeouts.slice(-1);else return!1;var n=this;return this._timer=setTimeout(function(){n._attempts++,n._operationTimeoutCb&&(n._timeout=setTimeout(function(){n._operationTimeoutCb(n._attempts)},n._operationTimeout),n._options.unref&&n._timeout.unref()),n._fn(n._attempts)},r),this._options.unref&&this._timer.unref(),!0};kn.prototype.attempt=function(t,e){this._fn=t,e&&(e.timeout&&(this._operationTimeout=e.timeout),e.cb&&(this._operationTimeoutCb=e.cb));var r=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){r._operationTimeoutCb()},r._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)};kn.prototype.try=function(t){console.log("Using RetryOperation.try() is deprecated"),this.attempt(t)};kn.prototype.start=function(t){console.log("Using RetryOperation.start() is deprecated"),this.attempt(t)};kn.prototype.start=kn.prototype.try;kn.prototype.errors=function(){return this._errors};kn.prototype.attempts=function(){return this._attempts};kn.prototype.mainError=function(){if(this._errors.length===0)return null;for(var t={},e=null,r=0,n=0;n<this._errors.length;n++){var i=this._errors[n],s=i.message,a=(t[s]||0)+1;t[s]=a,a>=r&&(e=i,r=a)}return e};(function(t){var e=DB;t.operation=function(r){var n=t.timeouts(r);return new e(n,{forever:r&&(r.forever||r.retries===1/0),unref:r&&r.unref,maxRetryTime:r&&r.maxRetryTime})},t.timeouts=function(r){if(r instanceof Array)return[].concat(r);var n={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var i in r)n[i]=r[i];if(n.minTimeout>n.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var s=[],a=0;a<n.retries;a++)s.push(this.createTimeout(a,n));return r&&r.forever&&!s.length&&s.push(this.createTimeout(a,n)),s.sort(function(o,l){return o-l}),s},t.createTimeout=function(r,n){var i=n.randomize?Math.random()+1:1,s=Math.round(i*Math.max(n.minTimeout,1)*Math.pow(n.factor,r));return s=Math.min(s,n.maxTimeout),s},t.wrap=function(r,n,i){if(n instanceof Array&&(i=n,n=null),!i){i=[];for(var s in r)typeof r[s]=="function"&&i.push(s)}for(var a=0;a<i.length;a++){var o=i[a],l=r[o];r[o]=(function(d){var f=t.operation(n),h=Array.prototype.slice.call(arguments,1),p=h.pop();h.push(function(g){f.retry(g)||(g&&(arguments[0]=f.mainError()),p.apply(this,arguments))}),f.attempt(function(){d.apply(r,h)})}).bind(r,l),r[o].options=n}}})(N8);var jB=N8;const FB=ps(jB),MB=Object.prototype.toString,LB=t=>MB.call(t)==="[object Error]",BB=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed","fetch failed","terminated"," A network error occurred.","Network connection lost"]);function UB(t){if(!(t&&LB(t)&&t.name==="TypeError"&&typeof t.message=="string"))return!1;const{message:r,stack:n}=t;return r==="Load failed"?n===void 0||"__sentry_captured__"in t:r.startsWith("error sending request for url")?!0:BB.has(r)}class yg extends Error{constructor(e){super(),e instanceof Error?(this.originalError=e,{message:e}=e):(this.originalError=new Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}}const $_=(t,e,r)=>{const n=r.retries-(e-1);return t.attemptNumber=e,t.retriesLeft=n,t};async function V_(t,e){return new Promise((r,n)=>{e={...e},e.onFailedAttempt??(e.onFailedAttempt=()=>{}),e.shouldRetry??(e.shouldRetry=()=>!0),e.retries??(e.retries=10);const i=FB.operation(e),s=()=>{var o;i.stop(),n((o=e.signal)==null?void 0:o.reason)};e.signal&&!e.signal.aborted&&e.signal.addEventListener("abort",s,{once:!0});const a=()=>{var o;(o=e.signal)==null||o.removeEventListener("abort",s),i.stop()};i.attempt(async o=>{try{const l=await t(o);a(),r(l)}catch(l){try{if(!(l instanceof Error))throw new TypeError(`Non-error was thrown: "${l}". You should only throw errors.`);if(l instanceof yg)throw l.originalError;if(l instanceof TypeError&&!UB(l))throw l;if($_(l,o,e),await e.shouldRetry(l)||(i.stop(),n(l)),await e.onFailedAttempt(l),!i.retry(l))throw i.mainError()}catch(c){$_(c,o,e),a(),n(c)}}})})}const $B="4.5.2",VB={version:$B};class zB extends Error{constructor(){super("Authorization required");W(this,"isAuthError");this.name="AuthError",this.isAuthError=!0}}function HB(t){return t.replace(/\/$/,"")}const z_=10,WB=5*60*1e3,GB=401;class qB extends Error{constructor({statusCode:r,message:n}){super(n);W(this,"statusCode");this.name="HttpError",this.statusCode=r}}async function XB(t){if(t.status===GB)throw new zB;if(t.ok)return t.json();let e=`Failed request with status: ${t.status}. ${t.statusText}`,r;try{r=await t.json(),r.message&&(e=`${e} message: ${r.message}`),r.requestId&&(e=`${e} request-Id: ${r.requestId}`)}catch(n){throw new Error(e,{cause:n})}throw t.status>=400&&t.status<=499&&r.message?new kB(r.message):new qB({statusCode:t.status,message:e})}function KB(t,e,r){const{progress:n,bytesUploaded:i,bytesTotal:s}=e;n&&(t.uppy.log(`Upload progress: ${n}`),t.uppy.emit("upload-progress",r,{uploadStarted:r.progress.uploadStarted??0,bytesUploaded:i,bytesTotal:s}))}var to,ya,xg,ip,wg;class T8{constructor(e,r){z(this,ya);z(this,to);W(this,"uppy");W(this,"opts");z(this,ip,async({file:e,postBody:r,signal:n})=>{var s;if(((s=e.remote)==null?void 0:s.url)==null)throw new Error("Cannot connect to an undefined URL");return(await this.post(e.remote.url,{...e.remote.body,...r},{signal:n})).token});this.uppy=e,this.opts=r,this.onReceiveResponse=this.onReceiveResponse.bind(this),G(this,to,r.companionHeaders)}setCompanionHeaders(e){G(this,to,e)}[Symbol.for("uppy test: getCompanionHeaders")](){return C(this,to)}get hostname(){const{companion:e}=this.uppy.getState(),r=this.opts.companionUrl;return HB(e!=null&&e[r]?e[r]:r)}async headers(e=!1){return{...{Accept:"application/json",...e?void 0:{"Content-Type":"application/json"}},...C(this,to)}}onReceiveResponse(e){const{headers:r}=e,i=this.uppy.getState().companion||{},s=this.opts.companionUrl;r.has("i-am")&&r.get("i-am")!==i[s]&&this.uppy.setState({companion:{...i,[s]:r.get("i-am")}})}async request({path:e,method:r="GET",data:n,skipPostResponse:i,signal:s}){try{const a=await this.headers(!n),o=await OB(Z(this,ya,xg).call(this,e),{method:r,signal:s,headers:a,credentials:this.opts.companionCookiesRule||"same-origin",body:n?JSON.stringify(n):null});return i||this.onReceiveResponse(o),await XB(o)}catch(a){throw a.isAuthError||a.name==="UserFacingApiError"||a.name==="AbortError"?a:new IB(`Could not ${r} ${Z(this,ya,xg).call(this,e)}`,{cause:a})}}async get(e,r){return this.request({...r,path:e})}async post(e,r,n){return this.request({...n,path:e,method:"POST",data:r})}async delete(e,r,n){return this.request({...n,path:e,method:"DELETE",data:r})}async uploadRemoteFile(e,r,n){try{const{signal:i,getQueue:s}=n||{};return await V_(async()=>{var c;const a=(c=this.uppy.getFile(e.id))==null?void 0:c.serverToken;if(a!=null)return this.uppy.log(`Connecting to exiting websocket ${a}`),Z(this,ya,wg).call(this,{file:e,queue:s(),signal:i});const l=await s().wrapPromiseFunction(async(...d)=>{try{return await C(this,ip).call(this,...d)}catch(f){if(f.isAuthError)throw new yg(f);if(f.cause==null)throw f;const h=f.cause,p=()=>[408,409,429,418,423].includes(h.statusCode)||h.statusCode>=500&&h.statusCode<=599&&![501,505].includes(h.statusCode);throw h.name==="HttpError"&&!p()?new yg(h):h}},{priority:-1})({file:e,postBody:r,signal:i}).abortOn(i);if(this.uppy.getFile(e.id))return this.uppy.setFileState(e.id,{serverToken:l}),Z(this,ya,wg).call(this,{file:this.uppy.getFile(e.id),queue:s(),signal:i})},{retries:z_,signal:i,onFailedAttempt:a=>this.uppy.log(`Retrying upload due to: ${a.message}`,"warning")})}catch(i){if(i.name==="AbortError")return;throw this.uppy.emit("upload-error",e,i),i}}}to=new WeakMap,ya=new WeakSet,xg=function(e){return/^(https?:|)\/\//.test(e)?e:`${this.hostname}/${e}`},ip=new WeakMap,wg=async function({file:e,queue:r,signal:n}){let i;const{capabilities:s}=this.uppy.getState();try{return await new Promise((a,o)=>{const l=e.serverToken,c=RB(e.remote.companionUrl);let d,f,h,{isPaused:p}=e;const g=(E,P)=>{if(d==null||d.readyState!==d.OPEN){this.uppy.log(`Cannot send "${E}" to socket ${e.id} because the socket state was ${String(d==null?void 0:d.readyState)}`,"warning");return}d.send(JSON.stringify({action:E,payload:P??{}}))};function m(){s.resumableUploads&&g(p?"pause":"resume")}const x=async()=>{f&&f.abort(),f=new AbortController;const E=j=>{var F;this.uppy.setFileState(e.id,{serverToken:null}),(F=f==null?void 0:f.abort)==null||F.call(f),o(j)};function P(){clearTimeout(h),!p&&(h=setTimeout(()=>E(new Error("Timeout waiting for message from Companion socket")),WB))}try{await r.wrapPromiseFunction(async()=>{await V_(async()=>new Promise((F,H)=>{d=new WebSocket(`${c}/api/${l}`),P(),d.addEventListener("close",()=>{d=void 0,H(new Error("Socket closed unexpectedly"))}),d.addEventListener("error",N=>{this.uppy.log(`Companion socket error ${JSON.stringify(N)}, closing socket`,"warning"),d==null||d.close()}),d.addEventListener("open",()=>{m()}),d.addEventListener("message",N=>{var O,q,Q;P();try{const{action:X,payload:D}=JSON.parse(N.data);switch(X){case"progress":{KB(this,D,this.uppy.getFile(e.id));break}case"success":{const k=(O=D.response)==null?void 0:O.responseText;this.uppy.emit("upload-success",this.uppy.getFile(e.id),{uploadURL:D.url,status:((q=D.response)==null?void 0:q.status)??200,body:k?JSON.parse(k):void 0}),(Q=f==null?void 0:f.abort)==null||Q.call(f),a();break}case"error":{const{message:k}=D.error;throw Object.assign(new Error(k),{cause:D.error})}default:this.uppy.log(`Companion socket unknown action ${X}`,"warning")}}catch(X){E(X)}});const L=()=>{this.uppy.log(`Closing socket ${e.id}`),clearTimeout(h),d&&d.close(),d=void 0};f.signal.addEventListener("abort",()=>{L()})}),{retries:z_,signal:f.signal,onFailedAttempt:()=>{f.signal.aborted||this.uppy.log(`Retrying websocket ${e.id}`)}})})().abortOn(f.signal)}catch(j){if(f.signal.aborted)return;E(j)}},y=E=>{s.resumableUploads&&(p=E,d&&m())},v=E=>{var P;s.individualCancellation&&E.id===e.id&&(g("cancel"),(P=f==null?void 0:f.abort)==null||P.call(f),this.uppy.log(`upload ${e.id} was removed`),a())},_=()=>{var E;g("cancel"),(E=f==null?void 0:f.abort)==null||E.call(f),this.uppy.log(`upload ${e.id} was canceled`),a()},w=(E,P)=>{(E==null?void 0:E.id)===e.id&&y(P)},S=()=>y(!0),A=()=>y(!1);this.uppy.on("file-removed",v),this.uppy.on("cancel-all",_),this.uppy.on("upload-pause",w),this.uppy.on("pause-all",S),this.uppy.on("resume-all",A),i=()=>{this.uppy.off("file-removed",v),this.uppy.off("cancel-all",_),this.uppy.off("upload-pause",w),this.uppy.off("pause-all",S),this.uppy.off("resume-all",A)},n.addEventListener("abort",()=>{f==null||f.abort()}),x()})}finally{i==null||i()}},W(T8,"VERSION",VB.version);var Ni,id;class YB{constructor(e){z(this,Ni);z(this,id,[]);G(this,Ni,e)}on(e,r){return C(this,id).push([e,r]),C(this,Ni).on(e,r)}remove(){for(const[e,r]of C(this,id).splice(0))C(this,Ni).off(e,r)}onFilePause(e,r){this.on("upload-pause",(n,i)=>{e===(n==null?void 0:n.id)&&r(i)})}onFileRemove(e,r){this.on("file-removed",n=>{e===n.id&&r(n.id)})}onPause(e,r){this.on("upload-pause",(n,i)=>{e===(n==null?void 0:n.id)&&r(i)})}onRetry(e,r){this.on("upload-retry",n=>{e===(n==null?void 0:n.id)&&r()})}onRetryAll(e,r){this.on("retry-all",()=>{C(this,Ni).getFile(e)&&r()})}onPauseAll(e,r){this.on("pause-all",()=>{C(this,Ni).getFile(e)&&r()})}onCancelAll(e,r){this.on("cancel-all",(...n)=>{C(this,Ni).getFile(e)&&r(...n)})}onResumeAll(e,r){this.on("resume-all",()=>{C(this,Ni).getFile(e)&&r()})}}Ni=new WeakMap,id=new WeakMap;const{AbortController:a1}=globalThis,I8=(t="Aborted",e)=>{const r=new DOMException(t,"AbortError");return e!=null&&A8(e,"cause")&&Object.defineProperty(r,"cause",{__proto__:null,configurable:!0,writable:!0,value:e.cause}),r};function ZB(t){const e=r=>"error"in r&&!!r.error;return t.filter(r=>!e(r))}function QB(t){return t.filter(e=>{var r;return!((r=e.progress)!=null&&r.uploadStarted)||!e.isRestored})}function H_(t,e){return t===!0?Object.keys(e):Array.isArray(t)?t:[]}function JB(t){return new Error("Cancelled",{cause:t})}function W_(t){var e;if(t!=null){const r=()=>this.abort(t.reason);t.addEventListener("abort",r,{once:!0});const n=()=>{t.removeEventListener("abort",r)};(e=this.then)==null||e.call(this,n,n)}return this}var Ji,Ti,es,Ol,Ii,Rl,ro,Ar,_g,Qc,P8,O8,R8,sp,kl;class eU{constructor(e){z(this,Ar);z(this,Ji,0);z(this,Ti,[]);z(this,es,!1);z(this,Ol);z(this,Ii,1);z(this,Rl);z(this,ro);W(this,"limit");z(this,sp,()=>this.resume());z(this,kl,()=>{if(C(this,es)){G(this,ro,setTimeout(C(this,kl),0));return}G(this,Ii,this.limit),this.limit=Math.ceil((C(this,Rl)+C(this,Ii))/2);for(let e=C(this,Ii);e<=this.limit;e++)Z(this,Ar,Qc).call(this);C(this,Rl)-C(this,Ii)>3?G(this,ro,setTimeout(C(this,kl),2e3)):G(this,Ii,Math.floor(C(this,Ii)/2))});typeof e!="number"||e===0?this.limit=1/0:this.limit=e}run(e,r){return!C(this,es)&&C(this,Ji)<this.limit?Z(this,Ar,_g).call(this,e):Z(this,Ar,O8).call(this,e,r)}wrapSyncFunction(e,r){return(...n)=>{const i=this.run(()=>(e(...n),queueMicrotask(()=>i.done()),()=>{}),r);return{abortOn:W_,abort(){i.abort()}}}}wrapPromiseFunction(e,r){return(...n)=>{let i;const s=new Promise((a,o)=>{i=this.run(()=>{let l,c;try{c=Promise.resolve(e(...n))}catch(d){c=Promise.reject(d)}return c.then(d=>{l?o(l):(i.done(),a(d))},d=>{l?o(l):(i.done(),o(d))}),d=>{l=JB(d)}},r)});return s.abort=a=>{i.abort(a)},s.abortOn=W_,s}}resume(){G(this,es,!1),clearTimeout(C(this,Ol));for(let e=0;e<this.limit;e++)Z(this,Ar,Qc).call(this)}pause(e=null){G(this,es,!0),clearTimeout(C(this,Ol)),e!=null&&G(this,Ol,setTimeout(C(this,sp),e))}rateLimit(e){clearTimeout(C(this,ro)),this.pause(e),this.limit>1&&Number.isFinite(this.limit)&&(G(this,Rl,this.limit-1),this.limit=C(this,Ii),G(this,ro,setTimeout(C(this,kl),e)))}get isPaused(){return C(this,es)}}Ji=new WeakMap,Ti=new WeakMap,es=new WeakMap,Ol=new WeakMap,Ii=new WeakMap,Rl=new WeakMap,ro=new WeakMap,Ar=new WeakSet,_g=function(e){G(this,Ji,C(this,Ji)+1);let r=!1,n;try{n=e()}catch(i){throw G(this,Ji,C(this,Ji)-1),i}return{abort:i=>{r||(r=!0,G(this,Ji,C(this,Ji)-1),n==null||n(i),Z(this,Ar,Qc).call(this))},done:()=>{r||(r=!0,G(this,Ji,C(this,Ji)-1),Z(this,Ar,Qc).call(this))}}},Qc=function(){queueMicrotask(()=>Z(this,Ar,P8).call(this))},P8=function(){if(C(this,es)||C(this,Ji)>=this.limit||C(this,Ti).length===0)return;const e=C(this,Ti).shift();if(e==null)throw new Error("Invariant violation: next is null");const r=Z(this,Ar,_g).call(this,e.fn);e.abort=r.abort,e.done=r.done},O8=function(e,r){const n={fn:e,priority:(r==null?void 0:r.priority)||0,abort:()=>{Z(this,Ar,R8).call(this,n)},done:()=>{throw new Error("Cannot mark a queued request as done: this indicates a bug")}},i=C(this,Ti).findIndex(s=>n.priority>s.priority);return i===-1?C(this,Ti).push(n):C(this,Ti).splice(i,0,n),n},R8=function(e){const r=C(this,Ti).indexOf(e);r!==-1&&C(this,Ti).splice(r,1)},sp=new WeakMap,kl=new WeakMap;const tU="4.3.2",rU={version:tU};function nU({method:t="PUT",CanonicalUri:e="/",CanonicalQueryString:r="",SignedHeaders:n,HashedPayload:i}){const s=Object.keys(n).map(a=>a.toLowerCase()).sort();return[t,e,r,...s.map(a=>`${a}:${n[a]}`),"",s.join(";"),i].join(`
`)}const Vy=new TextEncoder,zy={name:"HMAC",hash:"SHA-256"};async function iU(t){const{subtle:e}=globalThis.crypto;return e.digest(zy.hash,Vy.encode(t))}async function sU(t){const{subtle:e}=globalThis.crypto;return e.importKey("raw",typeof t=="string"?Vy.encode(t):t,zy,!1,["sign"])}function G_(t){const e=new Uint8Array(t);let r="";for(let n=0;n<e.length;n++)r+=e[n].toString(16).padStart(2,"0");return r}async function Mc(t,e){const{subtle:r}=globalThis.crypto;return r.sign(zy,await sU(t),Vy.encode(e))}async function aU({accountKey:t,accountSecret:e,sessionToken:r,bucketName:n,Key:i,Region:s,expires:a,uploadId:o,partNumber:l}){const c="s3",d=`${c}.${s}.amazonaws.com`,f=`/${n}/${encodeURI(i).replace(/[;?:@&=+$,#!'()*]/g,j=>`%${j.charCodeAt(0).toString(16).toUpperCase()}`)}`,h="UNSIGNED-PAYLOAD",p=new Date().toISOString().replace(/[-:]|\.\d+/g,""),g=p.slice(0,8),m=`${g}/${s}/${c}/aws4_request`,x=new URL(`https://${d}${f}`);x.searchParams.set("X-Amz-Algorithm","AWS4-HMAC-SHA256"),x.searchParams.set("X-Amz-Content-Sha256",h),x.searchParams.set("X-Amz-Credential",`${t}/${m}`),x.searchParams.set("X-Amz-Date",p),x.searchParams.set("X-Amz-Expires",a),x.searchParams.set("X-Amz-Security-Token",r),x.searchParams.set("X-Amz-SignedHeaders","host"),l&&x.searchParams.set("partNumber",l),o&&x.searchParams.set("uploadId",o),x.searchParams.set("x-id",l&&o?"UploadPart":"PutObject");const y=nU({CanonicalUri:f,CanonicalQueryString:x.search.slice(1),SignedHeaders:{host:d},HashedPayload:h}),v=G_(await iU(y)),_=["AWS4-HMAC-SHA256",p,m,v].join(`
`),w=await Mc(`AWS4${e}`,g),S=await Mc(w,s),A=await Mc(S,c),E=await Mc(A,"aws4_request"),P=G_(await Mc(E,_));return x.searchParams.set("X-Amz-Signature",P),x}const oU=1024*1024,q_={getChunkSize(t){return Math.ceil(t.size/1e4)},onProgress(){},onPartComplete(){},onSuccess(){},onError(t){throw t}};function lU(t){if(typeof t=="string")return parseInt(t,10);if(typeof t=="number")return t;throw new TypeError("Expected a number")}const Xf=Symbol("pausing upload, not an actual error");var qn,_n,Pi,ts,rs,sd,ad,Dl,no,jl,od,Fl,ld,vi,k8,D8,bg,cd,ud,j8;class cU{constructor(e,r){z(this,vi);W(this,"options");z(this,qn,new a1);z(this,_n,[]);z(this,Pi,[]);z(this,ts);z(this,rs);z(this,sd,!1);z(this,ad);z(this,Dl);z(this,no);z(this,jl);z(this,od,e=>(e==null?void 0:e.cause)===Xf?null:C(this,ad).call(this,e));z(this,Fl,1e4);z(this,ld,5*oU);z(this,cd,e=>r=>{if(!r.lengthComputable)return;C(this,Pi)[e].uploaded=lU(r.loaded);const n=C(this,Pi).reduce((i,s)=>i+s.uploaded,0);this.options.onProgress(n,C(this,ts).size)});z(this,ud,e=>r=>{C(this,_n)[e]=null,C(this,Pi)[e].etag=r,C(this,Pi)[e].done=!0;const n={PartNumber:e+1,ETag:r};this.options.onPartComplete(n)});var n;this.options={...q_,...r},(n=this.options).getChunkSize??(n.getChunkSize=q_.getChunkSize),G(this,ts,e),G(this,rs,r.file),G(this,Dl,this.options.onSuccess),G(this,ad,this.options.onError),G(this,no,this.options.shouldUseMultipart),G(this,jl,r.uploadId&&r.key),Z(this,vi,k8).call(this)}start(){C(this,sd)?(C(this,qn).signal.aborted||C(this,qn).abort(Xf),G(this,qn,new a1),Z(this,vi,bg).call(this)):C(this,jl)?(this.options.companionComm.restoreUploadFile(C(this,rs),{uploadId:this.options.uploadId,key:this.options.key}),Z(this,vi,bg).call(this)):Z(this,vi,D8).call(this)}pause(){C(this,qn).abort(Xf),G(this,qn,new a1)}abort(e){e!=null&&e.really?Z(this,vi,j8).call(this):this.pause()}[Symbol.for("uppy test: getChunkState")](){return C(this,Pi)}}qn=new WeakMap,_n=new WeakMap,Pi=new WeakMap,ts=new WeakMap,rs=new WeakMap,sd=new WeakMap,ad=new WeakMap,Dl=new WeakMap,no=new WeakMap,jl=new WeakMap,od=new WeakMap,Fl=new WeakMap,ld=new WeakMap,vi=new WeakSet,k8=function(){const e=C(this,ts).size,r=typeof C(this,no)=="function"?C(this,no).call(this,C(this,rs)):!!C(this,no);if(r&&e>C(this,ld)){let n=Math.max(this.options.getChunkSize(C(this,ts)),C(this,ld)),i=Math.floor(e/n);i>C(this,Fl)&&(i=C(this,Fl),n=e/C(this,Fl)),G(this,_n,Array(i));for(let s=0,a=0;s<e;s+=n,a++){const o=Math.min(e,s+n),l=()=>{const c=s;return C(this,ts).slice(c,o)};if(C(this,_n)[a]={getData:l,onProgress:C(this,cd).call(this,a),onComplete:C(this,ud).call(this,a),shouldUseMultipart:r},C(this,jl)){const c=s+n>e?e-s:n;C(this,_n)[a].setAsUploaded=()=>{C(this,_n)[a]=null,C(this,Pi)[a].uploaded=c}}}}else G(this,_n,[{getData:()=>C(this,ts),onProgress:C(this,cd).call(this,0),onComplete:C(this,ud).call(this,0),shouldUseMultipart:r}]);G(this,Pi,C(this,_n).map(()=>({uploaded:0})))},D8=function(){this.options.companionComm.uploadFile(C(this,rs),C(this,_n),C(this,qn).signal).then(C(this,Dl),C(this,od)),G(this,sd,!0)},bg=function(){this.options.companionComm.resumeUploadFile(C(this,rs),C(this,_n),C(this,qn).signal).then(C(this,Dl),C(this,od))},cd=new WeakMap,ud=new WeakMap,j8=function(){C(this,qn).abort(),this.options.companionComm.abortFileUpload(C(this,rs)).catch(e=>this.options.log(e))};function Sr(t){if(t!=null&&t.aborted)throw I8("The operation was aborted",{cause:t.reason})}function uU(t){const e=new URL(t);return e.search="",e.hash="",e.href}var dd,Xn,fd,hd,pd,md,Ml,Ll,Bl,Ul,io,$l,Kn,Co,F8,Cg;class dU{constructor(e,r,n,i){z(this,Co);z(this,dd);z(this,Xn,new WeakMap);z(this,fd);z(this,hd);z(this,pd);z(this,md);z(this,Ml);z(this,Ll);z(this,Bl);z(this,Ul);z(this,io);z(this,$l);z(this,Kn);G(this,Ll,e),G(this,io,n),G(this,Kn,i),this.setOptions(r)}setOptions(e){const r=C(this,Ll);"abortMultipartUpload"in e&&G(this,dd,r.wrapPromiseFunction(e.abortMultipartUpload,{priority:1})),"createMultipartUpload"in e&&G(this,fd,r.wrapPromiseFunction(e.createMultipartUpload,{priority:-1})),"signPart"in e&&G(this,hd,r.wrapPromiseFunction(e.signPart)),"listParts"in e&&G(this,md,r.wrapPromiseFunction(e.listParts)),"completeMultipartUpload"in e&&G(this,Ul,r.wrapPromiseFunction(e.completeMultipartUpload,{priority:1})),"retryDelays"in e&&G(this,Bl,e.retryDelays??[]),"uploadPartBytes"in e&&G(this,$l,r.wrapPromiseFunction(e.uploadPartBytes,{priority:1/0})),"getUploadParameters"in e&&G(this,pd,r.wrapPromiseFunction(e.getUploadParameters))}async getUploadId(e,r){let n;for(;n=C(this,Xn).get(e.data),n!=null;)try{return await n}catch{}const i=C(this,fd).call(this,C(this,Kn).call(this,e),r),s=()=>{i.abort(r.reason),C(this,Xn).delete(e.data)};return r.addEventListener("abort",s,{once:!0}),C(this,Xn).set(e.data,i),i.then(async a=>{r.removeEventListener("abort",s),C(this,io).call(this,e,a),C(this,Xn).set(e.data,a)},()=>{r.removeEventListener("abort",s),C(this,Xn).delete(e.data)}),i}async abortFileUpload(e){const r=C(this,Xn).get(e.data);if(r==null)return;C(this,Xn).delete(e.data),C(this,io).call(this,e,Object.create(null));let n;try{n=await r}catch{return}await C(this,dd).call(this,C(this,Kn).call(this,e),n)}async uploadFile(e,r,n){if(Sr(n),r.length===1&&!r[0].shouldUseMultipart)return Z(this,Co,Cg).call(this,e,r[0],n);const{uploadId:i,key:s}=await this.getUploadId(e,n);Sr(n);try{const a=await Promise.all(r.map((o,l)=>this.uploadChunk(e,l+1,o,n)));return Sr(n),await C(this,Ul).call(this,C(this,Kn).call(this,e),{key:s,uploadId:i,parts:a,signal:n},n).abortOn(n)}catch(a){throw(a==null?void 0:a.cause)!==Xf&&(a==null?void 0:a.name)!=="AbortError"&&this.abortFileUpload(e),a}}restoreUploadFile(e,r){C(this,Xn).set(e.data,r)}async resumeUploadFile(e,r,n){if(Sr(n),r.length===1&&r[0]!=null&&!r[0].shouldUseMultipart)return Z(this,Co,Cg).call(this,e,r[0],n);const{uploadId:i,key:s}=await this.getUploadId(e,n);Sr(n);const a=await C(this,md).call(this,C(this,Kn).call(this,e),{uploadId:i,key:s,signal:n},n).abortOn(n);Sr(n);const o=await Promise.all(r.map((l,c)=>{var h;const d=c+1,f=a.find(({PartNumber:p})=>p===d);return f==null?this.uploadChunk(e,d,l,n):((h=l==null?void 0:l.setAsUploaded)==null||h.call(l),{PartNumber:d,ETag:f.ETag})}));return Sr(n),C(this,Ul).call(this,C(this,Kn).call(this,e),{key:s,uploadId:i,parts:o,signal:n},n).abortOn(n)}async uploadChunk(e,r,n,i){Sr(i);const{uploadId:s,key:a}=await this.getUploadId(e,i),o=C(this,Bl).values(),l=C(this,Bl).values(),c=()=>{const d=o.next();return d==null||d.done?null:d.value};for(;;){Sr(i);const d=n.getData(),{onProgress:f,onComplete:h}=n;let p;try{p=await C(this,hd).call(this,C(this,Kn).call(this,e),{uploadId:s,key:a,partNumber:r,body:d,signal:i}).abortOn(i)}catch(g){const m=c();if(m==null||i.aborted)throw g;await new Promise(x=>setTimeout(x,m));continue}Sr(i);try{return{PartNumber:r,...await C(this,$l).call(this,{signature:p,body:d,size:d.size,onProgress:f,onComplete:h,signal:i}).abortOn(i)}}catch(g){if(!await Z(this,Co,F8).call(this,g,l))throw g}}}}dd=new WeakMap,Xn=new WeakMap,fd=new WeakMap,hd=new WeakMap,pd=new WeakMap,md=new WeakMap,Ml=new WeakMap,Ll=new WeakMap,Bl=new WeakMap,Ul=new WeakMap,io=new WeakMap,$l=new WeakMap,Kn=new WeakMap,Co=new WeakSet,F8=async function(e,r){var s;const n=C(this,Ll),i=(s=e==null?void 0:e.source)==null?void 0:s.status;if(i==null)return!1;if(i===403&&e.message==="Request has expired"){if(!n.isPaused){if(n.limit===1||C(this,Ml)==null){const a=r.next();if(a==null||a.done)return!1;G(this,Ml,a.value)}n.rateLimit(0),await new Promise(a=>setTimeout(a,C(this,Ml)))}}else if(i===429){if(!n.isPaused){const a=r.next();if(a==null||a.done)return!1;n.rateLimit(a.value)}}else{if(i>400&&i<500&&i!==409)return!1;if(typeof navigator<"u"&&navigator.onLine===!1)n.isPaused||(n.pause(),window.addEventListener("online",()=>{n.resume()},{once:!0}));else{const a=r.next();if(a==null||a.done)return!1;await new Promise(o=>setTimeout(o,a.value))}}return!0},Cg=async function(e,r,n){const{method:i="POST",url:s,fields:a,headers:o}=await C(this,pd).call(this,C(this,Kn).call(this,e),{signal:n}).abortOn(n);let l;const c=r.getData();if(i.toUpperCase()==="POST"){const g=new FormData;Object.entries(a).forEach(([m,x])=>g.set(m,x)),g.set("file",c),l=g}else l=c;const{onProgress:d,onComplete:f}=r,h=await C(this,$l).call(this,{signature:{url:s,headers:o,method:i},body:l,size:c.size,onProgress:d,onComplete:f,signal:n}).abortOn(n),p=a==null?void 0:a.key;return C(this,io).call(this,e,{key:p}),{...h,location:h.location??uU(s),bucket:a==null?void 0:a.bucket,key:p}};function Mo(t){if(t!=null&&t.error){const e=new Error(t.message);throw Object.assign(e,t.error),e}return t}function X_(t){const e=t.Expiration;if(e){const r=Math.floor((new Date(e)-Date.now())/1e3);if(r>9)return r}}function K_({meta:t,allowedMetaFields:e,querify:r=!1}){const n=e??Object.keys(t);return t?Object.fromEntries(n.filter(i=>t[i]!=null).map(i=>{const s=r?`metadata[${i}]`:i,a=String(t[i]);return[s,a]})):{}}const fU={allowedMetaFields:!0,limit:6,getTemporarySecurityCredentials:!1,shouldUseMultipart:t=>(t.size||0)>100*1024*1024,retryDelays:[0,1e3,3e3,5e3]};var Vl,Fr,Kt,Eg,As,Yn,M8,ap,zl,L8,B8,gd,Hl,so,vd;const op=class op extends g4{constructor(r,n){super(r,{...fU,uploadPartBytes:op.uploadPartBytes,createMultipartUpload:null,listParts:null,abortMultipartUpload:null,completeMultipartUpload:null,signPart:null,getUploadParameters:null,...n});z(this,Kt);z(this,Vl);z(this,Fr);W(this,"requests");W(this,"uploaderEvents");W(this,"uploaders");z(this,Yn);z(this,ap,(r,{key:n,uploadId:i})=>{const s=this.uppy.getFile(r.id);s!=null&&this.uppy.setFileState(r.id,{s3Multipart:{...s.s3Multipart,key:n,uploadId:i}})});z(this,zl,r=>this.uppy.getFile(r.id)||r);z(this,gd,async r=>{if(r.length===0)return;const n=this.uppy.getFilesByIds(r),i=ZB(n),s=QB(i);this.uppy.emit("upload-start",s);const a=i.map(l=>{if(l.isRemote){const c=()=>this.requests;C(this,so).call(this,!1);const d=new AbortController,f=p=>{p.id===l.id&&d.abort()};this.uppy.on("file-removed",f);const h=this.uppy.getRequestClientForFile(l).uploadRemoteFile(l,Z(this,Kt,B8).call(this,l),{signal:d.signal,getQueue:c});return this.requests.wrapSyncFunction(()=>{this.uppy.off("file-removed",f)},{priority:-1})(),h}return Z(this,Kt,L8).call(this,l)}),o=await Promise.allSettled(a);return C(this,so).call(this,!0),o});z(this,Hl,()=>{var r;(r=C(this,Fr))==null||r.setCompanionHeaders(this.opts.headers)});z(this,so,r=>{const{capabilities:n}=this.uppy.getState();this.uppy.setState({capabilities:{...n,resumableUploads:r}})});z(this,vd,()=>{C(this,so).call(this,!0)});this.type="uploader",this.id=this.opts.id||"AwsS3Multipart",Z(this,Kt,Eg).call(this,n);const i={createMultipartUpload:this.createMultipartUpload,listParts:this.listParts,abortMultipartUpload:this.abortMultipartUpload,completeMultipartUpload:this.completeMultipartUpload,signPart:n!=null&&n.getTemporarySecurityCredentials?this.createSignedURL:this.signPart,getUploadParameters:n!=null&&n.getTemporarySecurityCredentials?this.createSignedURL:this.getUploadParameters};for(const s of Object.keys(i))this.opts[s]==null&&(this.opts[s]=i[s].bind(this));this.requests=this.opts.rateLimitedQueue??new eU(this.opts.limit),G(this,Vl,new dU(this.requests,this.opts,C(this,ap),C(this,zl))),this.uploaders=Object.create(null),this.uploaderEvents=Object.create(null)}[Symbol.for("uppy test: getClient")](){return C(this,Fr)}setOptions(r){C(this,Vl).setOptions(r),super.setOptions(r),Z(this,Kt,Eg).call(this,r)}resetUploaderReferences(r,n){this.uploaders[r]&&(this.uploaders[r].abort({really:(n==null?void 0:n.abort)||!1}),this.uploaders[r]=null),this.uploaderEvents[r]&&(this.uploaderEvents[r].remove(),this.uploaderEvents[r]=null)}createMultipartUpload(r,n){Z(this,Kt,As).call(this,"createMultipartUpload"),Sr(n);const i=H_(this.opts.allowedMetaFields,r.meta),s=K_({meta:r.meta,allowedMetaFields:i});return C(this,Fr).post("s3/multipart",{filename:r.name,type:r.type,metadata:s},{signal:n}).then(Mo)}listParts(r,{key:n,uploadId:i,signal:s},a){s??(s=a),Z(this,Kt,As).call(this,"listParts"),Sr(s);const o=encodeURIComponent(n);return C(this,Fr).get(`s3/multipart/${encodeURIComponent(i)}?key=${o}`,{signal:s}).then(Mo)}completeMultipartUpload(r,{key:n,uploadId:i,parts:s,signal:a},o){a??(a=o),Z(this,Kt,As).call(this,"completeMultipartUpload"),Sr(a);const l=encodeURIComponent(n),c=encodeURIComponent(i);return C(this,Fr).post(`s3/multipart/${c}/complete?key=${l}`,{parts:s.map(({ETag:d,PartNumber:f})=>({ETag:d,PartNumber:f}))},{signal:a}).then(Mo)}async createSignedURL(r,n){const i=await Z(this,Kt,M8).call(this,n),s=X_(i.credentials)||604800,{uploadId:a,key:o,partNumber:l}=n;return{method:"PUT",expires:s,fields:{},url:`${await aU({accountKey:i.credentials.AccessKeyId,accountSecret:i.credentials.SecretAccessKey,sessionToken:i.credentials.SessionToken,expires:s,bucketName:i.bucket,Region:i.region,Key:o??`${crypto.randomUUID()}-${r.name}`,uploadId:a,partNumber:l})}`,headers:{"Content-Type":r.type}}}signPart(r,{uploadId:n,key:i,partNumber:s,signal:a}){if(Z(this,Kt,As).call(this,"signPart"),Sr(a),n==null||i==null||s==null)throw new Error("Cannot sign without a key, an uploadId, and a partNumber");const o=encodeURIComponent(i);return C(this,Fr).get(`s3/multipart/${encodeURIComponent(n)}/${s}?key=${o}`,{signal:a}).then(Mo)}abortMultipartUpload(r,{key:n,uploadId:i,signal:s}){Z(this,Kt,As).call(this,"abortMultipartUpload");const a=encodeURIComponent(n),o=encodeURIComponent(i);return C(this,Fr).delete(`s3/multipart/${o}?key=${a}`,void 0,{signal:s}).then(Mo)}getUploadParameters(r,n){Z(this,Kt,As).call(this,"getUploadParameters");const{meta:i}=r,{type:s,name:a}=i,o=H_(this.opts.allowedMetaFields,r.meta),l=K_({meta:i,allowedMetaFields:o,querify:!0}),c=new URLSearchParams({filename:a,type:s,...l});return C(this,Fr).get(`s3/params?${c}`,n)}static async uploadPartBytes({signature:{url:r,expires:n,headers:i,method:s="PUT"},body:a,size:o=a.size,onProgress:l,onComplete:c,signal:d}){if(Sr(d),r==null)throw new Error("Cannot upload to an undefined URL");return new Promise((f,h)=>{const p=new XMLHttpRequest;p.open(s,r,!0),i&&Object.keys(i).forEach(x=>{p.setRequestHeader(x,i[x])}),p.responseType="text",typeof n=="number"&&(p.timeout=n*1e3);function g(){p.abort()}function m(){d==null||d.removeEventListener("abort",g)}d==null||d.addEventListener("abort",g),p.upload.addEventListener("progress",x=>{l(x)}),p.addEventListener("abort",()=>{m(),h(I8())}),p.addEventListener("timeout",()=>{m();const x=new Error("Request has expired");x.source={status:403},h(x)}),p.addEventListener("load",()=>{if(m(),p.status===403&&p.responseText.includes("<Message>Request has expired</Message>")){const w=new Error("Request has expired");w.source=p,h(w);return}if(p.status<200||p.status>=300){const w=new Error("Non 2xx");w.source=p,h(w);return}l==null||l({loaded:o,lengthComputable:!0});const x=p.getAllResponseHeaders().trim().split(/[\r\n]+/),y={__proto__:null};for(const w of x){const S=w.split(": "),A=S.shift(),E=S.join(": ");y[A]=E}const{etag:v,location:_}=y;if(s.toUpperCase()==="POST"&&_==null&&console.error("@uppy/aws-s3: Could not read the Location header. This likely means CORS is not configured correctly on the S3 Bucket. See https://uppy.io/docs/aws-s3/#setting-up-your-s3-bucket"),v==null){console.error("@uppy/aws-s3: Could not read the ETag header. This likely means CORS is not configured correctly on the S3 Bucket. See https://uppy.io/docs/aws-s3/#setting-up-your-s3-bucket");return}c==null||c(v),f({...y,ETag:v})}),p.addEventListener("error",x=>{m();const y=new Error("Unknown error");y.source=x.target,h(y)}),p.send(a)})}install(){C(this,so).call(this,!0),this.uppy.addPreProcessor(C(this,Hl)),this.uppy.addUploader(C(this,gd)),this.uppy.on("cancel-all",C(this,vd))}uninstall(){this.uppy.removePreProcessor(C(this,Hl)),this.uppy.removeUploader(C(this,gd)),this.uppy.off("cancel-all",C(this,vd))}};Vl=new WeakMap,Fr=new WeakMap,Kt=new WeakSet,Eg=function(r){r==null||!("endpoint"in r||"companionUrl"in r||"headers"in r||"companionHeaders"in r||"cookiesRule"in r||"companionCookiesRule"in r)||("companionUrl"in r&&!("endpoint"in r)&&this.uppy.log("`companionUrl` option has been removed in @uppy/aws-s3, use `endpoint` instead.","warning"),"companionHeaders"in r&&!("headers"in r)&&this.uppy.log("`companionHeaders` option has been removed in @uppy/aws-s3, use `headers` instead.","warning"),"companionCookiesRule"in r&&!("cookiesRule"in r)&&this.uppy.log("`companionCookiesRule` option has been removed in @uppy/aws-s3, use `cookiesRule` instead.","warning"),"endpoint"in r?G(this,Fr,new T8(this.uppy,{pluginId:this.id,provider:"AWS",companionUrl:this.opts.endpoint,companionHeaders:this.opts.headers,companionCookiesRule:this.opts.cookiesRule})):("headers"in r&&C(this,Hl).call(this),"cookiesRule"in r&&(C(this,Fr).opts.companionCookiesRule=r.cookiesRule)))},As=function(r){if(!C(this,Fr))throw new Error(`Expected a \`endpoint\` option containing a URL, or if you are not using Companion, a custom \`${r}\` implementation.`)},Yn=new WeakMap,M8=async function(r){if(Sr(r==null?void 0:r.signal),C(this,Yn)==null){const{getTemporarySecurityCredentials:n}=this.opts;n===!0?(Z(this,Kt,As).call(this,"getTemporarySecurityCredentials"),G(this,Yn,C(this,Fr).get("s3/sts",r).then(Mo))):G(this,Yn,n(r)),G(this,Yn,await C(this,Yn)),setTimeout(()=>{G(this,Yn,null)},(X_(C(this,Yn).credentials)||0)*500)}return C(this,Yn)},ap=new WeakMap,zl=new WeakMap,L8=function(r){return new Promise((n,i)=>{const s=(d,f)=>{const h=this.uppy.getFile(r.id);this.uppy.emit("upload-progress",h,{uploadStarted:h.progress.uploadStarted??0,bytesUploaded:d,bytesTotal:f})},a=d=>{this.uppy.log(d),this.uppy.emit("upload-error",r,d),this.resetUploaderReferences(r.id),i(d)},o=d=>{const f={body:{...d},status:200,uploadURL:d.location};this.resetUploaderReferences(r.id),this.uppy.emit("upload-success",C(this,zl).call(this,r),f),d.location&&this.uppy.log(`Download ${r.name} from ${d.location}`),n(void 0)},l=new cU(r.data,{companionComm:C(this,Vl),log:(...d)=>this.uppy.log(...d),getChunkSize:this.opts.getChunkSize?this.opts.getChunkSize.bind(this):void 0,onProgress:s,onError:a,onSuccess:o,onPartComplete:d=>{this.uppy.emit("s3-multipart:part-uploaded",C(this,zl).call(this,r),d)},file:r,shouldUseMultipart:this.opts.shouldUseMultipart,...r.s3Multipart});this.uploaders[r.id]=l;const c=new YB(this.uppy);this.uploaderEvents[r.id]=c,c.onFileRemove(r.id,d=>{l.abort(),this.resetUploaderReferences(r.id,{abort:!0}),n(`upload ${d} was removed`)}),c.onCancelAll(r.id,()=>{l.abort(),this.resetUploaderReferences(r.id,{abort:!0}),n(`upload ${r.id} was canceled`)}),c.onFilePause(r.id,d=>{d?l.pause():l.start()}),c.onPauseAll(r.id,()=>{l.pause()}),c.onResumeAll(r.id,()=>{l.start()}),l.start()})},B8=function(r){var n;return{...(n=r.remote)==null?void 0:n.body,protocol:"s3-multipart",size:r.data.size,metadata:r.meta}},gd=new WeakMap,Hl=new WeakMap,so=new WeakMap,vd=new WeakMap,W(op,"VERSION",rU.version);let Sg=op;function U8({maxNumberOfFiles:t=1,maxFileSize:e=10485760,onGetUploadParameters:r,onComplete:n,buttonClassName:i,children:s}){const[a,o]=b.useState(!1),[l]=b.useState(()=>new tg({restrictions:{maxNumberOfFiles:t,maxFileSize:e},autoProceed:!1}).use(Sg,{shouldUseMultipart:!1,getUploadParameters:r}).on("complete",c=>{n==null||n(c)}));return u.jsxs("div",{children:[u.jsx(ie,{onClick:()=>o(!0),className:i,children:s}),u.jsx(E8,{uppy:l,open:a,onRequestClose:()=>o(!1),proudlyDisplayPoweredByUppy:!1})]})}function hU(){var H,L;const{toast:t}=Dn(),[e,r]=b.useState(1),[n,i]=b.useState({search:"",category:"",size:"",stockLevel:""}),[s,a]=b.useState(null),[o,l]=b.useState(null),[c,d]=b.useState(""),f=Po({productName:Nt().min(1,"Product name is required"),color:Nt().min(1,"At least one color is required"),size:gA(Nt()).min(1,"At least one size is required"),quantity:Uu().min(0,"Quantity must be 0 or greater"),price:Uu().min(0,"Price must be 0 or greater"),manufacturer:Nt().optional(),category:Nt().optional(),description:Nt().optional()}),h=To({resolver:Io(f),defaultValues:{productName:"",color:"",size:[],quantity:0,price:0,manufacturer:"",category:"",description:""}}),p=Ut({mutationFn:async N=>{const O=N.color.split(",").map(M=>M.trim()).filter(M=>M.length>0),{imageUrl:q,id:Q,...X}=N,k=await(await kt("PUT",`/api/products/${N.id}`,{...X,color:O,price:N.price.toString()})).json();return q&&await kt("PUT",`/api/products/${N.id}/image`,{imageUrl:q}),k},onSuccess:()=>{t({title:"Success",description:"Product updated successfully"}),Xe.invalidateQueries({queryKey:["/api/products"]}),Xe.invalidateQueries({queryKey:["/api/dashboard/metrics"]}),a(null),d(""),h.reset()},onError:N=>{if(Ft(N)){t({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}t({title:"Error",description:"Failed to update product",variant:"destructive"})}}),{data:g,isLoading:m,error:x}=$r({queryKey:["/api/products",{page:e,limit:12,...n}]}),y=Ut({mutationFn:async N=>{await kt("DELETE",`/api/products/${N}`)},onSuccess:()=>{t({title:"Success",description:"Product deleted successfully"}),Xe.invalidateQueries({queryKey:["/api/products"]}),Xe.invalidateQueries({queryKey:["/api/dashboard/metrics"]})},onError:N=>{if(Ft(N)){t({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}t({title:"Error",description:"Failed to delete product",variant:"destructive"})}}),v=(N,O)=>{i(q=>({...q,[N]:O})),r(1)},_=N=>N===0?u.jsx(Vt,{variant:"destructive",children:"Out of Stock"}):N<=5?u.jsxs(Vt,{variant:"destructive",children:[N," Low Stock"]}):u.jsxs(Vt,{variant:"secondary",children:[N," In Stock"]}),w=N=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(typeof N=="string"?parseFloat(N):N),S=async()=>{try{return{method:"PUT",url:(await(await kt("POST","/api/objects/upload")).json()).uploadURL}}catch(N){throw Ft(N)?(t({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500),N):new Error("Failed to get upload URL")}},A=N=>{if(N.successful&&N.successful.length>0){const O=N.successful[0];d(O.uploadURL),t({title:"Success",description:"Image uploaded successfully"})}},E=()=>{try{const N=["Product ID","Product Name","Colors (comma-separated)","Sizes (comma-separated: XS,S,M,L,XL,XXL)","Quantity","Price","Category","Manufacturer","Description"],O=["PROD-12345-ABC","Sample T-Shirt","red, blue, green","S, M, L, XL","100","29.99","Clothing","FashionCo","High quality cotton t-shirt"],Q=[N.join(","),O.map(M=>`"${M}"`).join(",")].join(`
`),X=new Blob([Q],{type:"text/csv;charset=utf-8;"}),D=document.createElement("a"),k=URL.createObjectURL(X);D.setAttribute("href",k),D.setAttribute("download",`product_upload_template_${new Date().toISOString().split("T")[0]}.csv`),D.style.visibility="hidden",document.body.appendChild(D),D.click(),document.body.removeChild(D),t({title:"Template Downloaded",description:"You can now fill in the template and upload it to add products in bulk. Note: Product images can be added after uploading."})}catch(N){console.error("Template download error:",N),t({title:"Download Failed",description:"Failed to download template. Please try again.",variant:"destructive"})}},P=async()=>{try{const O=await(await fetch("/api/products?limit=1000")).json();if(!O.products||O.products.length===0){t({title:"No Data",description:"No products found to export",variant:"destructive"});return}const X=[["Product ID","Product Name","Color","Size","Quantity","Price","Category","Description","QR Code URL","Created Date"].join(","),...O.products.map($=>[`"${$.productId}"`,`"${$.productName}"`,`"${Array.isArray($.color)?$.color.join(", "):$.color}"`,`"${Array.isArray($.size)?$.size.join(", "):$.size}"`,$.quantity,$.price,`"${$.category||""}"`,`"${$.description||""}"`,`"${$.qrCodeUrl||""}"`,`"${new Date($.createdAt||"").toLocaleDateString()}"`].join(","))].join(`
`),D=new Blob([X],{type:"text/csv;charset=utf-8;"}),k=document.createElement("a"),M=URL.createObjectURL(D);k.setAttribute("href",M),k.setAttribute("download",`products_export_${new Date().toISOString().split("T")[0]}.csv`),k.style.visibility="hidden",document.body.appendChild(k),k.click(),document.body.removeChild(k),t({title:"Export Successful",description:`Exported ${O.products.length} products to CSV`})}catch(N){console.error("Export error:",N),t({title:"Export Failed",description:"Failed to export products. Please try again.",variant:"destructive"})}},j=Ut({mutationFn:async N=>{const O=new FormData;O.append("csvFile",N);const q=await fetch("/api/products/bulk-upload",{method:"POST",body:O});if(!q.ok){const Q=await q.text();throw new Error(Q)}return q.json()},onSuccess:N=>{t({title:"Bulk Upload Successful",description:`Successfully uploaded ${N.successCount} products. ${N.errorCount>0?`${N.errorCount} errors occurred.`:""}`}),Xe.invalidateQueries({queryKey:["/api/products"]}),Xe.invalidateQueries({queryKey:["/api/dashboard/metrics"]}),l(null)},onError:N=>{t({title:"Bulk Upload Failed",description:N.message||"Failed to upload products",variant:"destructive"})}}),F=()=>{if(!o){t({title:"No File Selected",description:"Please select a CSV file to upload",variant:"destructive"});return}j.mutate(o)};return x?u.jsxs("div",{className:"text-center py-8",children:[u.jsx("i",{className:"fas fa-exclamation-circle text-destructive text-4xl mb-4"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Failed to load products"})]}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row flex-wrap items-start sm:items-center gap-4",children:[u.jsx(Ue,{placeholder:"Search products...",value:n.search,onChange:N=>v("search",N.target.value),className:"w-full sm:w-64","data-testid":"input-search-products"}),u.jsxs(An,{value:n.category,onValueChange:N=>v("category",N),children:[u.jsx(un,{className:"w-full sm:w-40","data-testid":"select-category",children:u.jsx(Nn,{placeholder:"All Categories"})}),u.jsxs(dn,{children:[u.jsx(xe,{value:"all",children:"All Categories"}),u.jsx(xe,{value:"Dresses",children:"Dresses"}),u.jsx(xe,{value:"Tops",children:"Tops"}),u.jsx(xe,{value:"Bottoms",children:"Bottoms"}),u.jsx(xe,{value:"Shoes",children:"Shoes"}),u.jsx(xe,{value:"Accessories",children:"Accessories"})]})]}),u.jsxs(An,{value:n.size,onValueChange:N=>v("size",N),children:[u.jsx(un,{className:"w-full sm:w-32","data-testid":"select-size",children:u.jsx(Nn,{placeholder:"All Sizes"})}),u.jsxs(dn,{children:[u.jsx(xe,{value:"all",children:"All Sizes"}),u.jsx(xe,{value:"XS",children:"XS"}),u.jsx(xe,{value:"S",children:"S"}),u.jsx(xe,{value:"M",children:"M"}),u.jsx(xe,{value:"L",children:"L"}),u.jsx(xe,{value:"XL",children:"XL"})]})]}),u.jsxs(An,{value:n.stockLevel,onValueChange:N=>v("stockLevel",N),children:[u.jsx(un,{className:"w-40","data-testid":"select-stock-level",children:u.jsx(Nn,{placeholder:"All Stock Levels"})}),u.jsxs(dn,{children:[u.jsx(xe,{value:"all",children:"All Stock Levels"}),u.jsx(xe,{value:"in",children:"In Stock"}),u.jsx(xe,{value:"low",children:"Low Stock"}),u.jsx(xe,{value:"out",children:"Out of Stock"})]})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs(ie,{variant:"outline",onClick:E,"data-testid":"button-download-template",children:[u.jsx("i",{className:"fas fa-file-download mr-2"}),"Download Template"]}),u.jsxs(ie,{variant:"outline",onClick:P,"data-testid":"button-export-csv",children:[u.jsx("i",{className:"fas fa-download mr-2"}),"Export CSV"]}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"file",accept:".csv",onChange:N=>{var O;return l(((O=N.target.files)==null?void 0:O[0])||null)},className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer","data-testid":"input-bulk-upload-file"}),u.jsxs(ie,{variant:"outline","data-testid":"button-select-bulk-upload",children:[u.jsx("i",{className:"fas fa-upload mr-2"}),o?o.name.substring(0,15)+"...":"Select CSV"]})]}),o&&u.jsxs(ie,{onClick:F,disabled:j.isPending,"data-testid":"button-bulk-upload",children:[u.jsx("i",{className:"fas fa-cloud-upload-alt mr-2"}),j.isPending?"Uploading...":"Bulk Upload"]}),u.jsx(na,{href:"/add-product",children:u.jsxs(ie,{"data-testid":"button-add-product",children:[u.jsx("i",{className:"fas fa-plus mr-2"}),"Add Product"]})})]})]}),m?u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:Array.from({length:8}).map((N,O)=>u.jsxs(Te,{className:"overflow-hidden",children:[u.jsx(we,{className:"w-full h-48"}),u.jsxs(ke,{className:"p-4",children:[u.jsx(we,{className:"h-4 w-3/4 mb-2"}),u.jsx(we,{className:"h-3 w-1/2 mb-4"}),u.jsxs("div",{className:"flex justify-between mb-3",children:[u.jsx(we,{className:"h-6 w-16"}),u.jsx(we,{className:"h-4 w-20"})]}),u.jsx(we,{className:"h-8 w-full"})]})]},O))}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:(H=g==null?void 0:g.products)==null?void 0:H.map(N=>u.jsxs(Te,{className:"overflow-hidden hover:shadow-lg transition-shadow","data-testid":`card-product-${N.id}`,children:[u.jsx("div",{className:"relative",children:N.imageUrl?u.jsx("img",{src:N.imageUrl,alt:N.productName,className:"w-full h-48 object-cover"}):u.jsx("div",{className:"w-full h-48 bg-muted flex items-center justify-center",children:u.jsx("i",{className:"fas fa-image text-muted-foreground text-2xl"})})}),u.jsxs(ke,{className:"p-4",children:[u.jsx("div",{className:"flex items-start justify-between mb-2",children:u.jsx("h3",{className:"text-sm font-medium text-foreground line-clamp-2",children:N.productName})}),u.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:N.productId}),u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("span",{className:"text-lg font-semibold text-foreground",children:w(N.price)}),u.jsx("span",{className:"text-sm text-muted-foreground",children:Array.isArray(N.color)?N.color.join(", "):N.color})]}),N.manufacturer&&u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("span",{className:"text-xs text-muted-foreground",children:"Manufacturer:"}),u.jsx("span",{className:"text-xs font-medium text-foreground",children:N.manufacturer})]}),u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("span",{className:"text-sm text-muted-foreground",children:["Size: ",Array.isArray(N.size)?N.size.join(", "):N.size]}),_(N.quantity)]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs(lo,{open:(s==null?void 0:s.id)===N.id,onOpenChange:O=>{O||(a(null),d(""),h.reset())},children:[u.jsx($h,{asChild:!0,children:u.jsx(ie,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>{a(N),h.reset({productName:N.productName,color:Array.isArray(N.color)?N.color.join(", "):N.color,size:Array.isArray(N.size)?N.size:[N.size],quantity:Number(N.quantity),price:Number(N.price),manufacturer:N.manufacturer||"",category:N.category||"none",description:N.description||""})},"data-testid":`button-edit-${N.id}`,children:"Edit"})}),u.jsxs(oa,{className:"sm:max-w-md",children:[u.jsx(la,{children:u.jsxs(ca,{children:["Edit Product - ",N.productName]})}),u.jsx(xc,{...h,children:u.jsxs("form",{onSubmit:h.handleSubmit(O=>p.mutate({...O,id:N.id,imageUrl:c})),className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[u.jsx(lt,{control:h.control,name:"productName",render:({field:O})=>u.jsxs(et,{children:[u.jsx(ft,{children:"Product Name"}),u.jsx(ht,{children:u.jsx(Ue,{...O})}),u.jsx(pt,{})]})}),u.jsxs("div",{className:"space-y-4",children:[u.jsx(lt,{control:h.control,name:"color",render:({field:O})=>u.jsxs(et,{children:[u.jsx(ft,{children:"Colors (comma-separated)"}),u.jsx(ht,{children:u.jsx(Ue,{...O,placeholder:"e.g., red, green, black"})}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter multiple colors separated by commas"}),u.jsx(pt,{})]})}),u.jsx(lt,{control:h.control,name:"size",render:()=>u.jsxs(et,{children:[u.jsx(ft,{children:"Sizes"}),u.jsx("div",{className:"grid grid-cols-3 gap-2 mt-2",children:["XS","S","M","L","XL","XXL"].map(O=>u.jsx(lt,{control:h.control,name:"size",render:({field:q})=>{var Q;return u.jsxs(et,{className:"flex items-center space-x-2 space-y-0",children:[u.jsx(ht,{children:u.jsx(py,{checked:(Q=q.value)==null?void 0:Q.includes(O),onCheckedChange:X=>{const D=X?[...q.value||[],O]:(q.value||[]).filter(k=>k!==O);q.onChange(D)}})}),u.jsx(li,{className:"text-sm font-normal cursor-pointer",children:O})]})}},O))}),u.jsx(pt,{})]})})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsx(lt,{control:h.control,name:"quantity",render:({field:O})=>u.jsxs(et,{children:[u.jsx(ft,{children:"Quantity"}),u.jsx(ht,{children:u.jsx(Ue,{type:"number",min:"0",...O,onChange:q=>O.onChange(parseInt(q.target.value)||0)})}),u.jsx(pt,{})]})}),u.jsx(lt,{control:h.control,name:"price",render:({field:O})=>u.jsxs(et,{children:[u.jsx(ft,{children:"Price ($)"}),u.jsx(ht,{children:u.jsx(Ue,{type:"number",step:"0.01",min:"0",...O,onChange:q=>O.onChange(parseFloat(q.target.value)||0)})}),u.jsx(pt,{})]})})]}),u.jsx(lt,{control:h.control,name:"category",render:({field:O})=>u.jsxs(et,{children:[u.jsx(ft,{children:"Category"}),u.jsxs(An,{onValueChange:O.onChange,value:O.value,children:[u.jsx(ht,{children:u.jsx(un,{children:u.jsx(Nn,{placeholder:"Select category"})})}),u.jsxs(dn,{children:[u.jsx(xe,{value:"none",children:"No Category"}),u.jsx(xe,{value:"Dresses",children:"Dresses"}),u.jsx(xe,{value:"Tops",children:"Tops"}),u.jsx(xe,{value:"Bottoms",children:"Bottoms"}),u.jsx(xe,{value:"Shoes",children:"Shoes"}),u.jsx(xe,{value:"Accessories",children:"Accessories"})]})]}),u.jsx(pt,{})]})}),u.jsx(lt,{control:h.control,name:"manufacturer",render:({field:O})=>u.jsxs(et,{children:[u.jsx(ft,{children:"Manufacturer"}),u.jsx(ht,{children:u.jsx(Ue,{...O,placeholder:"e.g., Nike, Adidas, Zara"})}),u.jsx(pt,{})]})}),u.jsx(lt,{control:h.control,name:"description",render:({field:O})=>u.jsxs(et,{children:[u.jsx(ft,{children:"Description"}),u.jsx(ht,{children:u.jsx(Ue,{...O,placeholder:"Product description..."})}),u.jsx(pt,{})]})})]}),u.jsxs("div",{className:"border-t pt-4",children:[u.jsxs("div",{className:"mb-2",children:[u.jsx("label",{className:"text-sm font-medium text-foreground",children:"Update Product Image (Optional)"}),u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Upload a new image to replace the current one"})]}),N.imageUrl&&!c&&u.jsxs("div",{className:"mb-3",children:[u.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Current Image:"}),u.jsx("img",{src:N.imageUrl,alt:"Current product",className:"w-24 h-24 object-cover rounded border"})]}),u.jsx(U8,{maxNumberOfFiles:1,maxFileSize:10485760,onGetUploadParameters:S,onComplete:A,buttonClassName:"w-full",children:c?" Image Selected":"Choose New Image"})]}),u.jsxs("div",{className:"flex items-center justify-end space-x-2 pt-4",children:[u.jsx(ie,{type:"button",variant:"outline",onClick:()=>{a(null),d(""),h.reset()},children:"Cancel"}),u.jsx(ie,{type:"submit",disabled:p.isPending,children:p.isPending?"Saving...":"Save Changes"})]})]})})]})]}),N.qrCodeUrl&&u.jsxs(lo,{children:[u.jsx($h,{asChild:!0,children:u.jsxs(ie,{variant:"outline",size:"sm","data-testid":`button-qr-${N.id}`,children:[u.jsx("i",{className:"fas fa-qrcode mr-2"}),"QR Code"]})}),u.jsxs(oa,{className:"sm:max-w-md",children:[u.jsx(la,{children:u.jsxs(ca,{children:["QR Code - ",N.productName]})}),u.jsxs("div",{className:"text-center p-6",id:`qr-print-area-${N.id}`,children:[u.jsx("img",{src:N.qrCodeUrl,alt:"QR Code",className:"w-48 h-48 mx-auto"}),u.jsx("p",{className:"text-lg font-mono font-bold text-foreground mt-3",children:N.productId}),u.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:N.productName})]}),u.jsx("div",{className:"flex justify-center pt-4",children:u.jsxs(ie,{onClick:()=>{var q;const O=window.open("","_blank");(q=document.getElementById(`qr-print-area-${N.id}`))==null||q.innerHTML,O==null||O.document.write(`
                                  <html>
                                    <head>
                                      <title>QR Code - ${N.productName}</title>
                                      <style>
                                        body {
                                          font-family: Arial, sans-serif;
                                          text-align: center;
                                          margin: 50px;
                                          background: white;
                                        }
                                        img {
                                          max-width: 300px;
                                          height: auto;
                                        }
                                        .product-id {
                                          font-family: 'Courier New', monospace;
                                          font-size: 20px;
                                          font-weight: bold;
                                          margin: 15px 0 5px 0;
                                          color: #000;
                                        }
                                        .product-name {
                                          font-size: 14px;
                                          color: #666;
                                          margin-bottom: 20px;
                                        }
                                      </style>
                                    </head>
                                    <body>
                                      <div class="qr-container">
                                        <img src="${N.qrCodeUrl}" alt="QR Code" />
                                        <div class="product-id">${N.productId}</div>
                                        <div class="product-name">${N.productName}</div>
                                      </div>
                                    </body>
                                  </html>
                                `),O==null||O.document.close(),O==null||O.print()},className:"bg-blue-600 hover:bg-blue-700 text-white","data-testid":`button-print-qr-${N.id}`,children:[u.jsx("i",{className:"fas fa-print mr-2"}),"Print QR Code"]})})]})]}),u.jsxs(Ay,{children:[u.jsx(Ny,{asChild:!0,children:u.jsx(ie,{variant:"outline",size:"sm",disabled:y.isPending,className:"text-red-600 hover:bg-red-50 border-red-500","data-testid":`button-delete-${N.id}`,children:y.isPending?u.jsx("i",{className:"fas fa-spinner fa-spin w-4 h-4"}):u.jsx("span",{className:"text-xl font-bold",children:""})})}),u.jsxs(Wp,{children:[u.jsxs(Gp,{children:[u.jsx(Xp,{children:"Are you sure?"}),u.jsx(Kp,{children:"This move will delete your product permanently. This action cannot be undone."})]}),u.jsxs(qp,{children:[u.jsx(Zp,{"data-testid":`button-cancel-delete-${N.id}`,children:"No, Don't Delete"}),u.jsx(Yp,{onClick:()=>y.mutate(N.id),className:"bg-red-600 hover:bg-red-700","data-testid":`button-confirm-delete-${N.id}`,children:"Yes"})]})]})]})]})]})]},N.id))}),(g==null?void 0:g.total)&&g.total>12&&u.jsxs("div",{className:"flex items-center justify-between mt-8",children:[u.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",(e-1)*12+1," to ",Math.min(e*12,(g==null?void 0:g.total)||0)," of ",(g==null?void 0:g.total)||0," results"]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(ie,{variant:"outline",size:"sm",onClick:()=>r(N=>Math.max(1,N-1)),disabled:e===1,"data-testid":"button-previous-page",children:"Previous"}),u.jsx("span",{className:"px-3 py-2 text-sm",children:e}),u.jsx(ie,{variant:"outline",size:"sm",onClick:()=>r(N=>N+1),disabled:e*12>=((g==null?void 0:g.total)||0),"data-testid":"button-next-page",children:"Next"})]})]})]}),!m&&((L=g==null?void 0:g.products)==null?void 0:L.length)===0&&u.jsxs("div",{className:"text-center py-16",children:[u.jsx("i",{className:"fas fa-box text-muted-foreground text-6xl mb-4"}),u.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"No products found"}),u.jsx("p",{className:"text-muted-foreground mb-6",children:"Get started by adding your first product"}),u.jsx(na,{href:"/add-product",children:u.jsxs(ie,{"data-testid":"button-add-first-product",children:[u.jsx("i",{className:"fas fa-plus mr-2"}),"Add Product"]})})]})]})}function pU(){const[t,e]=gP("/products/:id"),r=e==null?void 0:e.id,{data:n,isLoading:i,error:s}=$r({queryKey:[`/api/products/${r}`],enabled:!!r}),a=l=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(typeof l=="string"?parseFloat(l):l),o=l=>l===0?u.jsx(Vt,{variant:"destructive",children:"Out of Stock"}):l<=5?u.jsxs(Vt,{variant:"destructive",children:[l," Low Stock"]}):u.jsxs(Vt,{variant:"secondary",children:[l," In Stock"]});return t?i?u.jsx("div",{className:"max-w-4xl mx-auto p-6",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[u.jsx(we,{className:"w-full h-96 rounded-lg"}),u.jsxs("div",{className:"space-y-4",children:[u.jsx(we,{className:"h-8 w-3/4"}),u.jsx(we,{className:"h-4 w-1/2"}),u.jsx(we,{className:"h-6 w-1/4"}),u.jsx(we,{className:"h-4 w-full"}),u.jsx(we,{className:"h-4 w-full"}),u.jsx(we,{className:"h-4 w-2/3"})]})]})}):s||!n?u.jsxs("div",{className:"text-center py-16",children:[u.jsx("i",{className:"fas fa-exclamation-circle text-destructive text-6xl mb-4"}),u.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"Product Not Found"}),u.jsx("p",{className:"text-muted-foreground mb-6",children:"The product you're looking for doesn't exist or has been removed."}),u.jsxs(ie,{onClick:()=>window.history.back(),children:[u.jsx("i",{className:"fas fa-arrow-left mr-2"}),"Go Back"]})]}):u.jsx("div",{className:"max-w-4xl mx-auto p-6",children:u.jsx(Te,{className:"overflow-hidden",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 p-6",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"relative",children:n.imageUrl?u.jsx("img",{src:n.imageUrl,alt:n.productName,className:"w-full h-96 object-cover rounded-lg"}):u.jsx("div",{className:"w-full h-96 bg-muted flex items-center justify-center rounded-lg",children:u.jsx("i",{className:"fas fa-image text-muted-foreground text-4xl"})})}),n.qrCodeUrl&&u.jsx(Te,{className:"p-4",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h4",{className:"text-sm font-medium mb-2",children:"Product QR Code"}),u.jsx("img",{src:n.qrCodeUrl,alt:"Product QR Code",className:"w-32 h-32 mx-auto"}),u.jsx("p",{className:"text-sm font-mono font-bold text-foreground mt-2",children:n.productId}),u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Scan to view this product"})]})})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:n.productName}),u.jsxs("p",{className:"text-muted-foreground text-lg",children:["Product ID: ",n.productId]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-2xl font-bold text-foreground",children:a(n.price)}),o(n.quantity)]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Colors"}),u.jsx("p",{className:"text-lg text-foreground",children:Array.isArray(n.color)?n.color.join(", "):n.color})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Sizes"}),u.jsx("p",{className:"text-lg text-foreground",children:Array.isArray(n.size)?n.size.join(", "):n.size})]})]}),n.category&&u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Category"}),u.jsx(Vt,{variant:"outline",children:n.category})]}),n.description&&u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Description"}),u.jsx("p",{className:"text-foreground",children:n.description})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Stock Level"}),u.jsxs("p",{className:"text-lg text-foreground",children:[n.quantity," units available"]})]})]}),u.jsxs("div",{className:"flex items-center gap-4 pt-4",children:[u.jsxs(ie,{variant:"outline",onClick:()=>window.history.back(),className:"flex-1",children:[u.jsx("i",{className:"fas fa-arrow-left mr-2"}),"Back"]}),u.jsxs(ie,{onClick:()=>window.print(),className:"flex-1",children:[u.jsx("i",{className:"fas fa-print mr-2"}),"Print Details"]})]})]})]})})}):u.jsx("div",{className:"text-center py-8",children:"Invalid product URL"})}const mU=Po({productId:Nt().min(1,"Product ID is required"),productName:Nt().min(1,"Product name is required"),color:Nt().min(1,"At least one color is required"),size:gA(Nt()).min(1,"At least one size is required"),quantity:Uu().min(0,"Quantity must be 0 or greater"),price:Uu().min(0,"Price must be 0 or greater"),manufacturer:Nt().optional(),category:Nt().optional(),description:Nt().optional()});function gU(){const{toast:t}=Dn(),[,e]=Cd(),[r,n]=b.useState(""),i=To({resolver:Io(mU),defaultValues:{productId:"",productName:"",color:"",size:[],quantity:0,price:0,manufacturer:"",category:"",description:""}}),s=Ut({mutationFn:async d=>(await kt("POST","/api/products",d)).json(),onSuccess:d=>{t({title:"Success",description:"Product created successfully"}),Xe.invalidateQueries({queryKey:["/api/products"]}),Xe.invalidateQueries({queryKey:["/api/dashboard/metrics"]}),e("/products")},onError:d=>{if(Ft(d)){t({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}t({title:"Error",description:"Failed to create product",variant:"destructive"})}}),a=Ut({mutationFn:async({productId:d,imageUrl:f})=>(await kt("PUT",`/api/products/${d}/image`,{imageUrl:f})).json(),onSuccess:()=>{t({title:"Success",description:"Product image and QR code generated successfully"})},onError:d=>{if(Ft(d)){t({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}t({title:"Warning",description:"Product created but failed to update image",variant:"destructive"})}}),o=async()=>{try{return{method:"PUT",url:(await(await kt("POST","/api/objects/upload")).json()).uploadURL}}catch(d){throw Ft(d)?(t({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500),d):new Error("Failed to get upload URL")}},l=d=>{if(d.successful&&d.successful.length>0){const f=d.successful[0];n(f.uploadURL),t({title:"Success",description:"Image uploaded successfully"})}},c=async d=>{if(!r){t({title:"Image Required",description:"Please upload a product image before saving",variant:"destructive"});return}try{const f=d.color.split(",").map(g=>g.trim()).filter(g=>g.length>0),h={...d,color:f,price:d.price.toString(),quantity:Math.floor(d.quantity),imageUrl:r},p=await s.mutateAsync(h);r&&p.id&&a.mutate({productId:p.id,imageUrl:r})}catch{}};return u.jsx("div",{className:"max-w-4xl mx-auto",children:u.jsx(Te,{className:"shadow-xl border-0 bg-gradient-to-br from-background to-muted/20",children:u.jsxs(ke,{className:"p-8",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-primary/10 rounded-2xl mb-4",children:u.jsx("i",{className:"fas fa-plus text-primary text-2xl"})}),u.jsx("h3",{className:"text-3xl font-bold text-foreground mb-2",children:"Add New Product"}),u.jsx("p",{className:"text-muted-foreground text-lg",children:"Create a new product for your fashion inventory"})]}),u.jsx(xc,{...i,children:u.jsxs("form",{onSubmit:i.handleSubmit(c),className:"space-y-8",children:[u.jsxs("div",{className:"bg-background/50 rounded-xl border p-6",children:[u.jsxs("h4",{className:"text-xl font-semibold text-foreground mb-6 flex items-center gap-3",children:[u.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-lg flex items-center justify-center",children:u.jsx("i",{className:"fas fa-tag text-primary text-sm"})}),"Basic Information"]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsx(lt,{control:i.control,name:"productId",render:({field:d})=>u.jsxs(et,{children:[u.jsxs(ft,{className:"text-base font-medium flex items-center gap-2",children:[u.jsx("i",{className:"fas fa-barcode text-muted-foreground"}),"Product ID"]}),u.jsx(ht,{children:u.jsxs("div",{className:"flex gap-3",children:[u.jsx(Ue,{placeholder:"F00XXX",...d,"data-testid":"input-product-id",className:"flex-1 h-12 text-base"}),u.jsxs(ie,{type:"button",variant:"outline",onClick:()=>{const f=`PROD-${Date.now().toString().slice(-6)}-${Math.random().toString(36).substring(2,5).toUpperCase()}`;d.onChange(f)},"data-testid":"button-generate-product-id",className:"h-12 px-6 bg-primary/5 hover:bg-primary/10 border-primary/20",children:[u.jsx("i",{className:"fas fa-dice mr-2"}),"Generate"]})]})}),u.jsx(pt,{})]})}),u.jsx(lt,{control:i.control,name:"productName",render:({field:d})=>u.jsxs(et,{children:[u.jsxs(ft,{className:"text-base font-medium flex items-center gap-2",children:[u.jsx("i",{className:"fas fa-tshirt text-muted-foreground"}),"Product Name"]}),u.jsx(ht,{children:u.jsx(Ue,{placeholder:"Enter product name",...d,"data-testid":"input-product-name",className:"h-12 text-base"})}),u.jsx(pt,{})]})})]})]}),u.jsxs("div",{className:"bg-background/50 rounded-xl border p-6",children:[u.jsxs("h4",{className:"text-xl font-semibold text-foreground mb-6 flex items-center gap-3",children:[u.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-lg flex items-center justify-center",children:u.jsx("i",{className:"fas fa-palette text-primary text-sm"})}),"Product Details"]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsx(lt,{control:i.control,name:"color",render:({field:d})=>u.jsxs(et,{children:[u.jsxs(ft,{className:"text-base font-medium flex items-center gap-2",children:[u.jsx("i",{className:"fas fa-palette text-muted-foreground"}),"Colors (comma-separated)"]}),u.jsx(ht,{children:u.jsx(Ue,{placeholder:"e.g., red, green, black",...d,"data-testid":"input-color",className:"h-12 text-base"})}),u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Enter multiple colors separated by commas"}),u.jsx(pt,{})]})}),u.jsx(lt,{control:i.control,name:"size",render:()=>u.jsxs(et,{children:[u.jsxs(ft,{className:"text-base font-medium flex items-center gap-2",children:[u.jsx("i",{className:"fas fa-ruler text-muted-foreground"}),"Sizes"]}),u.jsx("div",{className:"grid grid-cols-3 gap-2 mt-2",children:["XS","S","M","L","XL","XXL"].map(d=>u.jsx(lt,{control:i.control,name:"size",render:({field:f})=>{var h;return u.jsxs(et,{className:"flex items-center space-x-2 space-y-0",children:[u.jsx(ht,{children:u.jsx(py,{checked:(h=f.value)==null?void 0:h.includes(d),onCheckedChange:p=>{const g=p?[...f.value||[],d]:(f.value||[]).filter(m=>m!==d);f.onChange(g)},"data-testid":`checkbox-size-${d}`})}),u.jsx(li,{className:"text-sm font-normal cursor-pointer",children:d})]})}},d))}),u.jsx(pt,{})]})}),u.jsx(lt,{control:i.control,name:"quantity",render:({field:d})=>u.jsxs(et,{children:[u.jsxs(ft,{className:"text-base font-medium flex items-center gap-2",children:[u.jsx("i",{className:"fas fa-boxes text-muted-foreground"}),"Quantity"]}),u.jsx(ht,{children:u.jsx(Ue,{type:"number",placeholder:"0",min:"0",...d,onChange:f=>d.onChange(parseInt(f.target.value)||0),"data-testid":"input-quantity",className:"h-12 text-base"})}),u.jsx(pt,{})]})})]})]}),u.jsxs("div",{className:"bg-background/50 rounded-xl border p-6",children:[u.jsxs("h4",{className:"text-xl font-semibold text-foreground mb-6 flex items-center gap-3",children:[u.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-lg flex items-center justify-center",children:u.jsx("i",{className:"fas fa-dollar-sign text-primary text-sm"})}),"Pricing & Category"]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsx(lt,{control:i.control,name:"price",render:({field:d})=>u.jsxs(et,{children:[u.jsxs(ft,{className:"text-base font-medium flex items-center gap-2",children:[u.jsx("i",{className:"fas fa-dollar-sign text-muted-foreground"}),"Price ($)"]}),u.jsx(ht,{children:u.jsxs("div",{className:"relative",children:[u.jsx(Ue,{type:"number",step:"0.01",placeholder:"0.00",min:"0",...d,onChange:f=>d.onChange(parseFloat(f.target.value)||0),"data-testid":"input-price",className:"h-12 text-base pl-8"}),u.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:u.jsx("span",{className:"text-muted-foreground text-base",children:"$"})})]})}),u.jsx(pt,{})]})}),u.jsx(lt,{control:i.control,name:"manufacturer",render:({field:d})=>u.jsxs(et,{children:[u.jsxs(ft,{className:"text-base font-medium flex items-center gap-2",children:[u.jsx("i",{className:"fas fa-industry text-muted-foreground"}),"Manufacturer (Optional)"]}),u.jsx(ht,{children:u.jsx(Ue,{placeholder:"e.g., Nike, Adidas, Zara",...d,"data-testid":"input-manufacturer",className:"h-12 text-base"})}),u.jsx(pt,{})]})})]}),u.jsx("div",{className:"grid grid-cols-1 gap-6",children:u.jsx(lt,{control:i.control,name:"category",render:({field:d})=>u.jsxs(et,{children:[u.jsxs(ft,{className:"text-base font-medium flex items-center gap-2",children:[u.jsx("i",{className:"fas fa-tags text-muted-foreground"}),"Category (Optional)"]}),u.jsxs(An,{onValueChange:d.onChange,defaultValue:d.value,children:[u.jsx(ht,{children:u.jsx(un,{"data-testid":"select-category",className:"h-12 text-base",children:u.jsx(Nn,{placeholder:"Select category"})})}),u.jsxs(dn,{children:[u.jsx(xe,{value:"Dresses",children:"Dresses"}),u.jsx(xe,{value:"Tops",children:"Tops"}),u.jsx(xe,{value:"Bottoms",children:"Bottoms"}),u.jsx(xe,{value:"Shoes",children:"Shoes"}),u.jsx(xe,{value:"Accessories",children:"Accessories"})]})]}),u.jsx(pt,{})]})})})]}),u.jsxs("div",{className:"bg-background/50 rounded-xl border p-6",children:[u.jsxs("h4",{className:"text-xl font-semibold text-foreground mb-6 flex items-center gap-3",children:[u.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-lg flex items-center justify-center",children:u.jsx("i",{className:"fas fa-align-left text-primary text-sm"})}),"Description"]}),u.jsx(lt,{control:i.control,name:"description",render:({field:d})=>u.jsxs(et,{children:[u.jsxs(ft,{className:"text-base font-medium flex items-center gap-2",children:[u.jsx("i",{className:"fas fa-file-text text-muted-foreground"}),"Description (Optional)"]}),u.jsx(ht,{children:u.jsx(Ue,{placeholder:"Product description...",...d,"data-testid":"input-description",className:"h-12 text-base"})}),u.jsx(pt,{})]})})]}),u.jsxs("div",{className:"bg-background/50 rounded-xl border p-6",children:[u.jsxs("div",{className:"mb-4",children:[u.jsxs("label",{className:"text-lg font-medium text-foreground",children:["Product Image ",u.jsx("span",{className:"text-red-500",children:"*"}),": Click to upload product image"]}),u.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"PNG, JPG, GIF up to 10MB  High-quality images work best"})]}),u.jsx(U8,{maxNumberOfFiles:1,maxFileSize:10485760,onGetUploadParameters:o,onComplete:l,buttonClassName:"w-full bg-blue-600 hover:bg-blue-700 text-white py-3 px-6 rounded-lg transition-colors",children:"Upload Image"})]}),u.jsxs("div",{className:"flex items-center justify-center gap-6 pt-4",children:[u.jsxs(ie,{type:"button",variant:"outline",onClick:()=>e("/products"),"data-testid":"button-cancel",className:"h-12 px-8 text-base border-2 hover:bg-muted/50",children:[u.jsx("i",{className:"fas fa-times mr-2"}),"Cancel"]}),u.jsx(ie,{type:"submit",disabled:s.isPending||!r,"data-testid":"button-save-product",className:"h-12 px-8 text-base bg-gradient-to-r from-primary to-primary/80 hover:from-primary/90 hover:to-primary/70 shadow-lg",children:s.isPending?u.jsxs(u.Fragment,{children:[u.jsx("i",{className:"fas fa-spinner animate-spin mr-2"}),"Saving Product..."]}):u.jsxs(u.Fragment,{children:[u.jsx("i",{className:"fas fa-save mr-2"}),"Save Product"]})})]})]})})]})})})}function vU(t,e=[]){let r=[];function n(s,a){const o=b.createContext(a);o.displayName=s+"Context";const l=r.length;r=[...r,a];const c=f=>{var y;const{scope:h,children:p,...g}=f,m=((y=h==null?void 0:h[t])==null?void 0:y[l])||o,x=b.useMemo(()=>g,Object.values(g));return u.jsx(m.Provider,{value:x,children:p})};c.displayName=s+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[t])==null?void 0:m[l])||o,g=b.useContext(p);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[c,d]}const i=()=>{const s=r.map(a=>b.createContext(a));return function(o){const l=(o==null?void 0:o[t])||s;return b.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return i.scopeName=t,[n,yU(i,...e)]}function yU(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=n.reduce((o,{useScope:l,scopeName:c})=>{const f=l(s)[`__scope${c}`];return{...o,...f}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return r.scopeName=e.scopeName,r}var xU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],$8=xU.reduce((t,e)=>{const r=uy(`Primitive.${e}`),n=b.forwardRef((i,s)=>{const{asChild:a,...o}=i,l=a?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(l,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),Hy="Progress",Wy=100,[wU]=vU(Hy),[_U,bU]=wU(Hy),V8=b.forwardRef((t,e)=>{const{__scopeProgress:r,value:n=null,max:i,getValueLabel:s=CU,...a}=t;(i||i===0)&&!Y_(i)&&console.error(SU(`${i}`,"Progress"));const o=Y_(i)?i:Wy;n!==null&&!Z_(n,o)&&console.error(EU(`${n}`,"Progress"));const l=Z_(n,o)?n:null,c=Wh(l)?s(l,o):void 0;return u.jsx(_U,{scope:r,value:l,max:o,children:u.jsx($8.div,{"aria-valuemax":o,"aria-valuemin":0,"aria-valuenow":Wh(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":W8(l,o),"data-value":l??void 0,"data-max":o,...a,ref:e})})});V8.displayName=Hy;var z8="ProgressIndicator",H8=b.forwardRef((t,e)=>{const{__scopeProgress:r,...n}=t,i=bU(z8,r);return u.jsx($8.div,{"data-state":W8(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...n,ref:e})});H8.displayName=z8;function CU(t,e){return`${Math.round(t/e*100)}%`}function W8(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Wh(t){return typeof t=="number"}function Y_(t){return Wh(t)&&!isNaN(t)&&t>0}function Z_(t,e){return Wh(t)&&!isNaN(t)&&t<=e&&t>=0}function SU(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Wy}\`.`}function EU(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Wy} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var G8=V8,AU=H8;const q8=b.forwardRef(({className:t,value:e,...r},n)=>u.jsx(G8,{ref:n,className:Ee("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...r,children:u.jsx(AU,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));q8.displayName=G8.displayName;const NU=Ad("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Kf=b.forwardRef(({className:t,variant:e,...r},n)=>u.jsx("div",{ref:n,role:"alert",className:Ee(NU({variant:e}),t),...r}));Kf.displayName="Alert";const TU=b.forwardRef(({className:t,...e},r)=>u.jsx("h5",{ref:r,className:Ee("mb-1 font-medium leading-none tracking-tight",t),...e}));TU.displayName="AlertTitle";const Yf=b.forwardRef(({className:t,...e},r)=>u.jsx("div",{ref:r,className:Ee("text-sm [&_p]:leading-relaxed",t),...e}));Yf.displayName="AlertDescription";function IU(){const{toast:t}=Dn(),[,e]=Cd(),[r,n]=b.useState(null),[i,s]=b.useState(0),[a,o]=b.useState(null),[l,c]=b.useState(!1),d=Ut({mutationFn:async m=>{const x=await fetch("/api/products/bulk-upload",{method:"POST",body:m});if(!x.ok){const y=await x.json();throw new Error(y.message||"Failed to upload")}return x.json()},onSuccess:m=>{o(m),c(!1),t({title:"Upload Complete",description:`${m.imported} products imported, ${m.duplicates.length} duplicates skipped`}),Xe.invalidateQueries({queryKey:["/api/products"]}),Xe.invalidateQueries({queryKey:["/api/dashboard/metrics"]})},onError:m=>{if(c(!1),Ft(m)){t({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}t({title:"Error",description:"Failed to upload products",variant:"destructive"})}}),f=m=>{var y;const x=(y=m.target.files)==null?void 0:y[0];x&&(n(x),o(null))},h=m=>{const x=m.split(`
`),y=x[0].split(",").map(_=>_.trim()),v=[];for(let _=1;_<x.length;_++){const w=x[_].trim();if(!w)continue;const S=w.split(",").map(E=>E.trim()),A={};y.forEach((E,P)=>{const j=S[P]||"";switch(E.toLowerCase()){case"productid":case"product_id":A.productId=j;break;case"productname":case"product_name":A.productName=j;break;case"color":A.color=j;break;case"price":A.price=parseFloat(j)||0;break;case"quantity":A.quantity=parseInt(j)||0;break;case"size":A.size=j;break;case"category":A.category=j;break;case"description":A.description=j;break}}),A.productId&&A.productName&&v.push(A)}return v},p=async()=>{if(r){c(!0),s(0);try{const m=await r.text();let x=[];if(r.name.endsWith(".csv"))x=h(m);else{t({title:"Error",description:"Please upload a CSV file",variant:"destructive"}),c(!1);return}if(x.length===0){t({title:"Error",description:"No valid products found in the file",variant:"destructive"}),c(!1);return}const y=setInterval(()=>{s(v=>v>=90?(clearInterval(y),90):v+10)},200);await d.mutateAsync(x),s(100),clearInterval(y)}catch{c(!1),s(0)}}},g=()=>{const m=`productId,productName,color,price,quantity,size,category,description
F00001,Sample Dress,Red,59.99,10,M,Dresses,A beautiful red dress
F00002,Sample Top,Blue,29.99,15,L,Tops,Comfortable blue top`,x=new Blob([m],{type:"text/csv"}),y=window.URL.createObjectURL(x),v=document.createElement("a");v.href=y,v.download="products_template.csv",v.click(),window.URL.revokeObjectURL(y)};return u.jsx("div",{className:"max-w-4xl mx-auto",children:u.jsx(Te,{children:u.jsxs(ke,{className:"p-6",children:[u.jsx("h3",{className:"text-lg font-semibold text-foreground mb-6",children:"Bulk Upload Products"}),u.jsxs(Kf,{className:"mb-6",children:[u.jsx("i",{className:"fas fa-info-circle"}),u.jsxs(Yf,{children:[u.jsx("h4",{className:"font-medium mb-2",children:"Upload Instructions"}),u.jsxs("ul",{className:"space-y-1 text-sm",children:[u.jsx("li",{children:" Upload CSV files with product data"}),u.jsx("li",{children:" Required columns: productId, productName, color, price, quantity, size"}),u.jsx("li",{children:" Optional columns: category, description"}),u.jsx("li",{children:" Duplicate product IDs will be skipped"})]})]})]}),!l&&!a&&u.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-8 text-center mb-6",children:[u.jsx("input",{type:"file",accept:".csv",onChange:f,className:"hidden",id:"bulk-upload-file","data-testid":"input-file-upload"}),u.jsxs("label",{htmlFor:"bulk-upload-file",className:"cursor-pointer",children:[u.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-lg flex items-center justify-center mx-auto mb-4",children:u.jsx("i",{className:"fas fa-file-csv text-primary text-2xl"})}),u.jsx("p",{className:"text-lg font-medium text-foreground",children:r?r.name:"Drop your CSV file here"}),u.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:r?"File selected - click upload to proceed":"or click to browse files"})]})]}),u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"text-sm font-medium text-foreground",children:"Need a template?"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Download our sample CSV file to get started"})]}),u.jsxs(ie,{variant:"outline",onClick:g,"data-testid":"button-download-template",children:[u.jsx("i",{className:"fas fa-download mr-2"}),"Download Template"]})]}),l&&u.jsxs("div",{className:"bg-muted rounded-lg p-4 mb-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("span",{className:"text-sm font-medium text-foreground",children:"Uploading products..."}),u.jsxs("span",{className:"text-sm text-muted-foreground",children:[i,"%"]})]}),u.jsx(q8,{value:i,className:"mb-2"}),u.jsxs("p",{className:"text-xs text-muted-foreground",children:["Processing ",r==null?void 0:r.name,"..."]})]}),a&&u.jsxs("div",{className:"space-y-4 mb-6",children:[u.jsxs(Kf,{children:[u.jsx("i",{className:"fas fa-check-circle text-accent"}),u.jsxs(Yf,{children:[u.jsx("div",{className:"flex items-center space-x-2",children:u.jsx("span",{className:"font-medium",children:"Upload completed successfully!"})}),u.jsxs("p",{className:"mt-1",children:[a.imported," products imported",a.duplicates.length>0&&`, ${a.duplicates.length} duplicates skipped`]})]})]}),a.duplicates.length>0&&u.jsxs(Kf,{variant:"destructive",children:[u.jsx("i",{className:"fas fa-exclamation-triangle"}),u.jsxs(Yf,{children:[u.jsx("h5",{className:"font-medium mb-2",children:"Duplicate Product IDs Skipped"}),u.jsx("div",{className:"space-y-1 text-sm max-h-32 overflow-y-auto",children:a.duplicates.map((m,x)=>u.jsxs("p",{children:["Product ID: ",m]},x))})]})]})]}),u.jsxs("div",{className:"flex items-center justify-end space-x-4",children:[u.jsx(ie,{variant:"outline",onClick:()=>e("/products"),"data-testid":"button-back-to-products",children:"Back to Products"}),!l&&!a&&u.jsxs(ie,{onClick:p,disabled:!r||d.isPending,"data-testid":"button-start-upload",children:[u.jsx("i",{className:"fas fa-upload mr-2"}),"Start Upload"]}),a&&u.jsxs(ie,{onClick:()=>{n(null),o(null),s(0)},"data-testid":"button-upload-more",children:[u.jsx("i",{className:"fas fa-plus mr-2"}),"Upload More"]})]})]})})})}function PU(){var _;const{toast:t}=Dn(),{user:e}=yc(),[r,n]=b.useState(1),[i,s]=b.useState({status:"",startDate:"",endDate:"",customerName:""}),{data:a,isLoading:o,error:l}=$r({queryKey:["/api/invoices",{page:r,limit:20,...i}]}),c=Ut({mutationFn:async({id:w,status:S})=>(await kt("PUT",`/api/invoices/${w}/status`,{status:S})).json(),onSuccess:()=>{t({title:"Success",description:"Invoice status updated successfully"}),Xe.invalidateQueries({queryKey:["/api/invoices"]}),Xe.invalidateQueries({queryKey:["/api/dashboard/metrics"]})},onError:w=>{if(Ft(w)){t({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}t({title:"Error",description:"Failed to update invoice status",variant:"destructive"})}}),d=Ut({mutationFn:async w=>(await kt("POST",`/api/invoices/${w}/email`)).json(),onSuccess:()=>{t({title:"Success",description:"Invoice sent via email successfully"})},onError:w=>{if(Ft(w)){t({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}t({title:"Error",description:"Failed to send email",variant:"destructive"})}}),f=Ut({mutationFn:async w=>(await kt("POST",`/api/invoices/${w}/whatsapp`)).json(),onSuccess:()=>{t({title:"Success",description:"Invoice sent via WhatsApp successfully"})},onError:w=>{if(Ft(w)){t({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}t({title:"Error",description:"Failed to send WhatsApp message",variant:"destructive"})}}),h=Ut({mutationFn:async w=>(await kt("DELETE",`/api/invoices/${w}`)).json(),onSuccess:()=>{t({title:"Success",description:"Invoice marked as deleted"}),Xe.invalidateQueries({queryKey:["/api/invoices"]}),Xe.invalidateQueries({queryKey:["/api/dashboard/metrics"]})},onError:w=>{if(Ft(w)){t({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}t({title:"Error",description:"Failed to delete invoice",variant:"destructive"})}}),p=(w,S)=>{s(A=>({...A,[w]:S})),n(1)},g=w=>new Date(w).toLocaleDateString(),m=w=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(typeof w=="string"?parseFloat(w):w),x=w=>w==="Processed"?u.jsx(Vt,{className:"bg-accent/10 text-accent",children:"Processed"}):w==="Deleted"?u.jsx(Vt,{className:"bg-destructive/10 text-destructive",children:"Deleted"}):u.jsx(Vt,{className:"bg-amber-100 text-amber-800",children:"Pending"}),y=()=>["Admin","Manager"].includes((e==null?void 0:e.role)||""),v=async(w,S)=>{try{const A=await fetch(`/api/invoices/${w}/pdf`,{credentials:"include"});if(A.ok){const E=await A.blob(),P=window.URL.createObjectURL(E),j=document.createElement("a");j.href=P,j.download=`invoice-${S}.pdf`,j.click(),window.URL.revokeObjectURL(P)}else throw new Error("Failed to download PDF")}catch{t({title:"Error",description:"Failed to download PDF",variant:"destructive"})}};return l?u.jsxs("div",{className:"text-center py-8",children:[u.jsx("i",{className:"fas fa-exclamation-circle text-destructive text-4xl mb-4"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Failed to load invoices"})]}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row flex-wrap items-start sm:items-center gap-4",children:[u.jsxs(An,{value:i.status,onValueChange:w=>p("status",w),children:[u.jsx(un,{className:"w-full sm:w-40","data-testid":"select-status",children:u.jsx(Nn,{placeholder:"All Status"})}),u.jsxs(dn,{children:[u.jsx(xe,{value:"all",children:"All Status"}),u.jsx(xe,{value:"Pending",children:"Pending"}),u.jsx(xe,{value:"Processed",children:"Processed"})]})]}),u.jsx(Ue,{type:"date",value:i.startDate,onChange:w=>p("startDate",w.target.value),className:"w-full sm:w-40",placeholder:"Date from","data-testid":"input-start-date"}),u.jsx(Ue,{type:"date",value:i.endDate,onChange:w=>p("endDate",w.target.value),className:"w-full sm:w-40",placeholder:"Date to","data-testid":"input-end-date"}),u.jsx(Ue,{type:"text",value:i.customerName,onChange:w=>p("customerName",w.target.value),className:"w-full sm:w-48",placeholder:"Search by customer name","data-testid":"input-customer-name"})]}),u.jsx(na,{href:"/create-invoice",children:u.jsxs(ie,{"data-testid":"button-create-invoice",children:[u.jsx("i",{className:"fas fa-plus mr-2"}),"Create Invoice"]})})]}),u.jsx(Te,{children:u.jsx(ke,{className:"p-0",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-muted",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Invoice ID"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Customer"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Date"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Total"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Status"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Actions"})]})}),u.jsx("tbody",{className:"bg-card divide-y divide-border",children:o?Array.from({length:5}).map((w,S)=>u.jsxs("tr",{children:[u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx(we,{className:"h-4 w-20"})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx(we,{className:"h-4 w-32"})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx(we,{className:"h-4 w-24"})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx(we,{className:"h-4 w-16"})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx(we,{className:"h-6 w-20 rounded-full"})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsxs("div",{className:"flex space-x-2",children:[u.jsx(we,{className:"h-8 w-8"}),u.jsx(we,{className:"h-8 w-8"})]})})]},S)):(_=a==null?void 0:a.invoices)!=null&&_.length?a.invoices.map(w=>u.jsxs("tr",{className:"hover:bg-accent/50 cursor-pointer transition-colors",onClick:()=>window.location.href=`/invoices/${w.id}`,"data-testid":`row-invoice-${w.id}`,children:[u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-foreground",children:w.invoiceNumber}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-foreground",children:w.customerName}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-muted-foreground",children:g(w.createdAt)}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-foreground",children:m(w.total)}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:x(w.status)}),u.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm space-x-2",children:[u.jsx(na,{href:`/invoices/${w.id}`,children:u.jsx(ie,{variant:"ghost",size:"icon","data-testid":`button-view-${w.id}`,children:u.jsx("i",{className:"fas fa-eye w-4 h-4"})})}),w.status==="Processed"?u.jsxs(u.Fragment,{children:[u.jsx(ie,{variant:"ghost",size:"icon",onClick:S=>{S.stopPropagation(),v(w.id,w.invoiceNumber)},"data-testid":`button-download-${w.id}`,children:u.jsx("i",{className:"fas fa-download w-4 h-4"})}),u.jsx(ie,{variant:"ghost",size:"icon",onClick:S=>{S.stopPropagation(),d.mutate(w.id)},disabled:d.isPending,title:"Send via Email","data-testid":`button-email-${w.id}`,children:u.jsx("i",{className:"fas fa-envelope w-4 h-4"})}),u.jsx(ie,{variant:"ghost",size:"icon",onClick:S=>{S.stopPropagation(),f.mutate(w.id)},disabled:f.isPending,title:"Send via WhatsApp","data-testid":`button-whatsapp-${w.id}`,children:u.jsx("i",{className:"fab fa-whatsapp w-4 h-4"})})]}):y()?u.jsx(ie,{variant:"ghost",size:"icon",onClick:S=>{S.stopPropagation(),c.mutate({id:w.id,status:"Processed"})},disabled:c.isPending,title:"Mark as Processed","data-testid":`button-process-${w.id}`,children:u.jsx("i",{className:"fas fa-check w-4 h-4"})}):null,(e==null?void 0:e.role)==="Admin"&&w.status!=="Deleted"&&u.jsxs(Ay,{children:[u.jsx(Ny,{asChild:!0,children:u.jsx(ie,{variant:"outline",size:"icon",onClick:S=>S.stopPropagation(),title:"Delete Invoice",className:"border-red-500 text-red-500 hover:bg-red-50 dark:hover:bg-red-950","data-testid":`button-delete-${w.id}`,children:u.jsx("span",{className:"text-xl font-light",children:""})})}),u.jsxs(Wp,{onClick:S=>S.stopPropagation(),children:[u.jsxs(Gp,{children:[u.jsx(Xp,{children:"Delete Invoice"}),u.jsxs(Kp,{children:["Are you sure you want to delete invoice ",w.invoiceNumber,"? This will mark the invoice as deleted and no further actions can be performed on it. This action cannot be undone."]})]}),u.jsxs(qp,{children:[u.jsx(Zp,{children:"Cancel"}),u.jsx(Yp,{onClick:S=>{S.stopPropagation(),h.mutate(w.id)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})]})]})]},w.id)):u.jsx("tr",{children:u.jsx("td",{colSpan:6,className:"px-6 py-16 text-center",children:u.jsxs("div",{className:"space-y-4",children:[u.jsx("i",{className:"fas fa-file-invoice text-muted-foreground text-4xl"}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"No invoices found"}),u.jsx("p",{className:"text-muted-foreground mb-6",children:"Create your first invoice to get started"}),u.jsx(na,{href:"/create-invoice",children:u.jsxs(ie,{"data-testid":"button-create-first-invoice",children:[u.jsx("i",{className:"fas fa-plus mr-2"}),"Create Invoice"]})})]})]})})})})]})})})}),a&&a.total>20&&u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",(r-1)*20+1," to ",Math.min(r*20,a.total)," of ",a.total," results"]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(ie,{variant:"outline",size:"sm",onClick:()=>n(w=>Math.max(1,w-1)),disabled:r===1,"data-testid":"button-previous-page",children:"Previous"}),u.jsx("span",{className:"px-3 py-2 text-sm",children:r}),u.jsx(ie,{variant:"outline",size:"sm",onClick:()=>n(w=>w+1),disabled:r*20>=a.total,"data-testid":"button-next-page",children:"Next"})]})]})]})}const X8=b.forwardRef(({className:t,...e},r)=>u.jsx("textarea",{className:Ee("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...e}));X8.displayName="Textarea";function OU(t,e){var r=Object.setPrototypeOf;r?r(t,e):t.__proto__=e}function RU(t,e){e===void 0&&(e=t.constructor);var r=Error.captureStackTrace;r&&r(t,e)}var kU=function(){var t=function(r,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(i[a]=s[a])},t(r,n)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),DU=function(t){kU(e,t);function e(r,n){var i=this.constructor,s=t.call(this,r,n)||this;return Object.defineProperty(s,"name",{value:i.name,enumerable:!1,configurable:!0}),OU(s,i.prototype),RU(s),s}return e}(Error),jU=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),nn=function(t){jU(e,t);function e(r){r===void 0&&(r=void 0);var n=t.call(this,r)||this;return n.message=r,n}return e.prototype.getKind=function(){var r=this.constructor;return r.kind},e.kind="Exception",e}(DU),FU=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Un=function(t){FU(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArgumentException",e}(nn),MU=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Se=function(t){MU(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalArgumentException",e}(nn),LU=function(){function t(e){if(this.binarizer=e,e===null)throw new Se("Binarizer must be non-null.")}return t.prototype.getWidth=function(){return this.binarizer.getWidth()},t.prototype.getHeight=function(){return this.binarizer.getHeight()},t.prototype.getBlackRow=function(e,r){return this.binarizer.getBlackRow(e,r)},t.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},t.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},t.prototype.crop=function(e,r,n,i){var s=this.binarizer.getLuminanceSource().crop(e,r,n,i);return new t(this.binarizer.createBinarizer(s))},t.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},t.prototype.rotateCounterClockwise=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new t(this.binarizer.createBinarizer(e))},t.prototype.rotateCounterClockwise45=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new t(this.binarizer.createBinarizer(e))},t.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},t}(),BU=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),or=function(t){BU(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getChecksumInstance=function(){return new e},e.kind="ChecksumException",e}(nn),UU=function(){function t(e){this.source=e}return t.prototype.getLuminanceSource=function(){return this.source},t.prototype.getWidth=function(){return this.source.getWidth()},t.prototype.getHeight=function(){return this.source.getHeight()},t}(),vt=function(){function t(){}return t.arraycopy=function(e,r,n,i,s){for(;s--;)n[i++]=e[r++]},t.currentTimeMillis=function(){return Date.now()},t}(),$U=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Gy=function(t){$U(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IndexOutOfBoundsException",e}(nn),VU=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Q_=function(t){VU(e,t);function e(r,n){r===void 0&&(r=void 0),n===void 0&&(n=void 0);var i=t.call(this,n)||this;return i.index=r,i.message=n,i}return e.kind="ArrayIndexOutOfBoundsException",e}(Gy),zU=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Qt=function(){function t(){}return t.fill=function(e,r){for(var n=0,i=e.length;n<i;n++)e[n]=r},t.fillWithin=function(e,r,n,i){t.rangeCheck(e.length,r,n);for(var s=r;s<n;s++)e[s]=i},t.rangeCheck=function(e,r,n){if(r>n)throw new Se("fromIndex("+r+") > toIndex("+n+")");if(r<0)throw new Q_(r);if(n>e)throw new Q_(n)},t.asList=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e},t.create=function(e,r,n){var i=Array.from({length:e});return i.map(function(s){return Array.from({length:r}).fill(n)})},t.createInt32Array=function(e,r,n){var i=Array.from({length:e});return i.map(function(s){return Int32Array.from({length:r}).fill(n)})},t.equals=function(e,r){if(!e||!r||!e.length||!r.length||e.length!==r.length)return!1;for(var n=0,i=e.length;n<i;n++)if(e[n]!==r[n])return!1;return!0},t.hashCode=function(e){var r,n;if(e===null)return 0;var i=1;try{for(var s=zU(e),a=s.next();!a.done;a=s.next()){var o=a.value;i=31*i+o}}catch(l){r={error:l}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return i},t.fillUint8Array=function(e,r){for(var n=0;n!==e.length;n++)e[n]=r},t.copyOf=function(e,r){return e.slice(0,r)},t.copyOfUint8Array=function(e,r){if(e.length<=r){var n=new Uint8Array(r);return n.set(e),n}return e.slice(0,r)},t.copyOfRange=function(e,r,n){var i=n-r,s=new Int32Array(i);return vt.arraycopy(e,r,s,0,i),s},t.binarySearch=function(e,r,n){n===void 0&&(n=t.numberComparator);for(var i=0,s=e.length-1;i<=s;){var a=s+i>>1,o=n(r,e[a]);if(o>0)i=a+1;else if(o<0)s=a-1;else return a}return-i-1},t.numberComparator=function(e,r){return e-r},t}(),Me=function(){function t(){}return t.numberOfTrailingZeros=function(e){var r;if(e===0)return 32;var n=31;return r=e<<16,r!==0&&(n-=16,e=r),r=e<<8,r!==0&&(n-=8,e=r),r=e<<4,r!==0&&(n-=4,e=r),r=e<<2,r!==0&&(n-=2,e=r),n-(e<<1>>>31)},t.numberOfLeadingZeros=function(e){if(e===0)return 32;var r=1;return e>>>16||(r+=16,e<<=16),e>>>24||(r+=8,e<<=8),e>>>28||(r+=4,e<<=4),e>>>30||(r+=2,e<<=2),r-=e>>>31,r},t.toHexString=function(e){return e.toString(16)},t.toBinaryString=function(e){return String(parseInt(String(e),2))},t.bitCount=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63},t.truncDivision=function(e,r){return Math.trunc(e/r)},t.parseInt=function(e,r){return r===void 0&&(r=void 0),parseInt(e,r)},t.MIN_VALUE_32_BITS=-2147483648,t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t}(),lr=function(){function t(e,r){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,r==null?this.bits=t.makeArray(e):this.bits=r)}return t.prototype.getSize=function(){return this.size},t.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},t.prototype.ensureCapacity=function(e){if(e>this.bits.length*32){var r=t.makeArray(e);vt.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}},t.prototype.get=function(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0},t.prototype.set=function(e){this.bits[Math.floor(e/32)]|=1<<(e&31)},t.prototype.flip=function(e){this.bits[Math.floor(e/32)]^=1<<(e&31)},t.prototype.getNextSet=function(e){var r=this.size;if(e>=r)return r;var n=this.bits,i=Math.floor(e/32),s=n[i];s&=~((1<<(e&31))-1);for(var a=n.length;s===0;){if(++i===a)return r;s=n[i]}var o=i*32+Me.numberOfTrailingZeros(s);return o>r?r:o},t.prototype.getNextUnset=function(e){var r=this.size;if(e>=r)return r;var n=this.bits,i=Math.floor(e/32),s=~n[i];s&=~((1<<(e&31))-1);for(var a=n.length;s===0;){if(++i===a)return r;s=~n[i]}var o=i*32+Me.numberOfTrailingZeros(s);return o>r?r:o},t.prototype.setBulk=function(e,r){this.bits[Math.floor(e/32)]=r},t.prototype.setRange=function(e,r){if(r<e||e<0||r>this.size)throw new Se;if(r!==e){r--;for(var n=Math.floor(e/32),i=Math.floor(r/32),s=this.bits,a=n;a<=i;a++){var o=a>n?0:e&31,l=a<i?31:r&31,c=(2<<l)-(1<<o);s[a]|=c}}},t.prototype.clear=function(){for(var e=this.bits.length,r=this.bits,n=0;n<e;n++)r[n]=0},t.prototype.isRange=function(e,r,n){if(r<e||e<0||r>this.size)throw new Se;if(r===e)return!0;r--;for(var i=Math.floor(e/32),s=Math.floor(r/32),a=this.bits,o=i;o<=s;o++){var l=o>i?0:e&31,c=o<s?31:r&31,d=(2<<c)-(1<<l)&4294967295;if((a[o]&d)!==(n?d:0))return!1}return!0},t.prototype.appendBit=function(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},t.prototype.appendBits=function(e,r){if(r<0||r>32)throw new Se("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(var n=r;n>0;n--)this.appendBit((e>>n-1&1)===1)},t.prototype.appendBitArray=function(e){var r=e.size;this.ensureCapacity(this.size+r);for(var n=0;n<r;n++)this.appendBit(e.get(n))},t.prototype.xor=function(e){if(this.size!==e.size)throw new Se("Sizes don't match");for(var r=this.bits,n=0,i=r.length;n<i;n++)r[n]^=e.bits[n]},t.prototype.toBytes=function(e,r,n,i){for(var s=0;s<i;s++){for(var a=0,o=0;o<8;o++)this.get(e)&&(a|=1<<7-o),e++;r[n+s]=a}},t.prototype.getBitArray=function(){return this.bits},t.prototype.reverse=function(){for(var e=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),n=r+1,i=this.bits,s=0;s<n;s++){var a=i[s];a=a>>1&1431655765|(a&1431655765)<<1,a=a>>2&858993459|(a&858993459)<<2,a=a>>4&252645135|(a&252645135)<<4,a=a>>8&16711935|(a&16711935)<<8,a=a>>16&65535|(a&65535)<<16,e[r-s]=a}if(this.size!==n*32){for(var o=n*32-this.size,l=e[0]>>>o,s=1;s<n;s++){var c=e[s];l|=c<<32-o,e[s-1]=l,l=c>>>o}e[n-1]=l}this.bits=e},t.makeArray=function(e){return new Int32Array(Math.floor((e+31)/32))},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.size===r.size&&Qt.equals(this.bits,r.bits)},t.prototype.hashCode=function(){return 31*this.size+Qt.hashCode(this.bits)},t.prototype.toString=function(){for(var e="",r=0,n=this.size;r<n;r++)r&7||(e+=" "),e+=this.get(r)?"X":".";return e},t.prototype.clone=function(){return new t(this.size,this.bits.slice())},t.prototype.toArray=function(){for(var e=[],r=0,n=this.size;r<n;r++)e.push(this.get(r));return e},t}(),Ag;(function(t){t[t.OTHER=0]="OTHER",t[t.PURE_BARCODE=1]="PURE_BARCODE",t[t.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",t[t.TRY_HARDER=3]="TRY_HARDER",t[t.CHARACTER_SET=4]="CHARACTER_SET",t[t.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",t[t.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",t[t.ENABLE_CODE_39_EXTENDED_MODE=7]="ENABLE_CODE_39_EXTENDED_MODE",t[t.ASSUME_GS1=8]="ASSUME_GS1",t[t.RETURN_CODABAR_START_END=9]="RETURN_CODABAR_START_END",t[t.NEED_RESULT_POINT_CALLBACK=10]="NEED_RESULT_POINT_CALLBACK",t[t.ALLOWED_EAN_EXTENSIONS=11]="ALLOWED_EAN_EXTENSIONS"})(Ag||(Ag={}));const Et=Ag;var HU=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ne=function(t){HU(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getFormatInstance=function(){return new e},e.kind="FormatException",e}(nn),WU=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},st;(function(t){t[t.Cp437=0]="Cp437",t[t.ISO8859_1=1]="ISO8859_1",t[t.ISO8859_2=2]="ISO8859_2",t[t.ISO8859_3=3]="ISO8859_3",t[t.ISO8859_4=4]="ISO8859_4",t[t.ISO8859_5=5]="ISO8859_5",t[t.ISO8859_6=6]="ISO8859_6",t[t.ISO8859_7=7]="ISO8859_7",t[t.ISO8859_8=8]="ISO8859_8",t[t.ISO8859_9=9]="ISO8859_9",t[t.ISO8859_10=10]="ISO8859_10",t[t.ISO8859_11=11]="ISO8859_11",t[t.ISO8859_13=12]="ISO8859_13",t[t.ISO8859_14=13]="ISO8859_14",t[t.ISO8859_15=14]="ISO8859_15",t[t.ISO8859_16=15]="ISO8859_16",t[t.SJIS=16]="SJIS",t[t.Cp1250=17]="Cp1250",t[t.Cp1251=18]="Cp1251",t[t.Cp1252=19]="Cp1252",t[t.Cp1256=20]="Cp1256",t[t.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",t[t.UTF8=22]="UTF8",t[t.ASCII=23]="ASCII",t[t.Big5=24]="Big5",t[t.GB18030=25]="GB18030",t[t.EUC_KR=26]="EUC_KR"})(st||(st={}));var Zt=function(){function t(e,r,n){for(var i,s,a=[],o=3;o<arguments.length;o++)a[o-3]=arguments[o];this.valueIdentifier=e,this.name=n,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=a,t.VALUE_IDENTIFIER_TO_ECI.set(e,this),t.NAME_TO_ECI.set(n,this);for(var l=this.values,c=0,d=l.length;c!==d;c++){var f=l[c];t.VALUES_TO_ECI.set(f,this)}try{for(var h=WU(a),p=h.next();!p.done;p=h.next()){var g=p.value;t.NAME_TO_ECI.set(g,this)}}catch(m){i={error:m}}finally{try{p&&!p.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}}return t.prototype.getValueIdentifier=function(){return this.valueIdentifier},t.prototype.getName=function(){return this.name},t.prototype.getValue=function(){return this.values[0]},t.getCharacterSetECIByValue=function(e){if(e<0||e>=900)throw new ne("incorect value");var r=t.VALUES_TO_ECI.get(e);if(r===void 0)throw new ne("incorect value");return r},t.getCharacterSetECIByName=function(e){var r=t.NAME_TO_ECI.get(e);if(r===void 0)throw new ne("incorect value");return r},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.getName()===r.getName()},t.VALUE_IDENTIFIER_TO_ECI=new Map,t.VALUES_TO_ECI=new Map,t.NAME_TO_ECI=new Map,t.Cp437=new t(st.Cp437,Int32Array.from([0,2]),"Cp437"),t.ISO8859_1=new t(st.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),t.ISO8859_2=new t(st.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),t.ISO8859_3=new t(st.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),t.ISO8859_4=new t(st.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),t.ISO8859_5=new t(st.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),t.ISO8859_6=new t(st.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),t.ISO8859_7=new t(st.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),t.ISO8859_8=new t(st.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),t.ISO8859_9=new t(st.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),t.ISO8859_10=new t(st.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),t.ISO8859_11=new t(st.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),t.ISO8859_13=new t(st.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),t.ISO8859_14=new t(st.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),t.ISO8859_15=new t(st.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),t.ISO8859_16=new t(st.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),t.SJIS=new t(st.SJIS,20,"SJIS","Shift_JIS"),t.Cp1250=new t(st.Cp1250,21,"Cp1250","windows-1250"),t.Cp1251=new t(st.Cp1251,22,"Cp1251","windows-1251"),t.Cp1252=new t(st.Cp1252,23,"Cp1252","windows-1252"),t.Cp1256=new t(st.Cp1256,24,"Cp1256","windows-1256"),t.UnicodeBigUnmarked=new t(st.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),t.UTF8=new t(st.UTF8,26,"UTF8","UTF-8"),t.ASCII=new t(st.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),t.Big5=new t(st.Big5,28,"Big5"),t.GB18030=new t(st.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),t.EUC_KR=new t(st.EUC_KR,30,"EUC_KR","EUC-KR"),t}(),GU=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Zf=function(t){GU(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="UnsupportedOperationException",e}(nn),Pn=function(){function t(){}return t.decode=function(e,r){var n=this.encodingName(r);return this.customDecoder?this.customDecoder(e,n):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(n)?this.decodeFallback(e,n):new TextDecoder(n).decode(e)},t.shouldDecodeOnFallback=function(e){return!t.isBrowser()&&e==="ISO-8859-1"},t.encode=function(e,r){var n=this.encodingName(r);return this.customEncoder?this.customEncoder(e,n):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)},t.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},t.encodingName=function(e){return typeof e=="string"?e:e.getName()},t.encodingCharacterSet=function(e){return e instanceof Zt?e:Zt.getCharacterSetECIByName(e)},t.decodeFallback=function(e,r){var n=this.encodingCharacterSet(r);if(t.isDecodeFallbackSupported(n)){for(var i="",s=0,a=e.length;s<a;s++){var o=e[s].toString(16);o.length<2&&(o="0"+o),i+="%"+o}return decodeURIComponent(i)}if(n.equals(Zt.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new Zf("Encoding "+this.encodingName(r)+" not supported by fallback.")},t.isDecodeFallbackSupported=function(e){return e.equals(Zt.UTF8)||e.equals(Zt.ISO8859_1)||e.equals(Zt.ASCII)},t.encodeFallback=function(e){for(var r=btoa(unescape(encodeURIComponent(e))),n=r.split(""),i=[],s=0;s<n.length;s++)i.push(n[s].charCodeAt(0));return new Uint8Array(i)},t}(),He=function(){function t(){}return t.castAsNonUtf8Char=function(e,r){r===void 0&&(r=null);var n=r?r.getName():this.ISO88591;return Pn.decode(new Uint8Array([e]),n)},t.guessEncoding=function(e,r){if(r!=null&&r.get(Et.CHARACTER_SET)!==void 0)return r.get(Et.CHARACTER_SET).toString();for(var n=e.length,i=!0,s=!0,a=!0,o=0,l=0,c=0,d=0,f=0,h=0,p=0,g=0,m=0,x=0,y=0,v=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191,_=0;_<n&&(i||s||a);_++){var w=e[_]&255;a&&(o>0?w&128?o--:a=!1:w&128&&(w&64?(o++,w&32?(o++,w&16?(o++,w&8?a=!1:d++):c++):l++):a=!1)),i&&(w>127&&w<160?i=!1:w>159&&(w<192||w===215||w===247)&&y++),s&&(f>0?w<64||w===127||w>252?s=!1:f--:w===128||w===160||w>239?s=!1:w>160&&w<224?(h++,g=0,p++,p>m&&(m=p)):w>127?(f++,p=0,g++,g>x&&(x=g)):(p=0,g=0))}return a&&o>0&&(a=!1),s&&f>0&&(s=!1),a&&(v||l+c+d>0)?t.UTF8:s&&(t.ASSUME_SHIFT_JIS||m>=3||x>=3)?t.SHIFT_JIS:i&&s?m===2&&h===2||y*10>=n?t.SHIFT_JIS:t.ISO88591:i?t.ISO88591:s?t.SHIFT_JIS:a?t.UTF8:t.PLATFORM_DEFAULT_ENCODING},t.format=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=-1;function s(o,l,c,d,f,h){if(o==="%%")return"%";if(r[++i]!==void 0){o=d?parseInt(d.substr(1)):void 0;var p=f?parseInt(f.substr(1)):void 0,g;switch(h){case"s":g=r[i];break;case"c":g=r[i][0];break;case"f":g=parseFloat(r[i]).toFixed(o);break;case"p":g=parseFloat(r[i]).toPrecision(o);break;case"e":g=parseFloat(r[i]).toExponential(o);break;case"x":g=parseInt(r[i]).toString(p||16);break;case"d":g=parseFloat(parseInt(r[i],p||10).toPrecision(o)).toFixed(0);break}g=typeof g=="object"?JSON.stringify(g):(+g).toString(p);for(var m=parseInt(c),x=c&&c[0]+""=="0"?"0":" ";g.length<m;)g=l!==void 0?g+x:x+g;return g}}var a=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(a,s)},t.getBytes=function(e,r){return Pn.encode(e,r)},t.getCharCode=function(e,r){return r===void 0&&(r=0),e.charCodeAt(r)},t.getCharAt=function(e){return String.fromCharCode(e)},t.SHIFT_JIS=Zt.SJIS.getName(),t.GB2312="GB2312",t.ISO88591=Zt.ISO8859_1.getName(),t.EUC_JP="EUC_JP",t.UTF8=Zt.UTF8.getName(),t.PLATFORM_DEFAULT_ENCODING=t.UTF8,t.ASSUME_SHIFT_JIS=!1,t}(),Fe=function(){function t(e){e===void 0&&(e=""),this.value=e}return t.prototype.enableDecoding=function(e){return this.encoding=e,this},t.prototype.append=function(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=He.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this},t.prototype.appendChars=function(e,r,n){for(var i=r;r<r+n;i++)this.append(e[i]);return this},t.prototype.length=function(){return this.value.length},t.prototype.charAt=function(e){return this.value.charAt(e)},t.prototype.deleteCharAt=function(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)},t.prototype.setCharAt=function(e,r){this.value=this.value.substr(0,e)+r+this.value.substr(e+1)},t.prototype.substring=function(e,r){return this.value.substring(e,r)},t.prototype.setLengthToZero=function(){this.value=""},t.prototype.toString=function(){return this.value},t.prototype.insert=function(e,r){this.value=this.value.substring(0,e)+r+this.value.substring(e)},t}(),$i=function(){function t(e,r,n,i){if(this.width=e,this.height=r,this.rowSize=n,this.bits=i,r==null&&(r=e),this.height=r,e<1||r<1)throw new Se("Both dimensions must be greater than 0");n==null&&(n=Math.floor((e+31)/32)),this.rowSize=n,i==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return t.parseFromBooleanArray=function(e){for(var r=e.length,n=e[0].length,i=new t(n,r),s=0;s<r;s++)for(var a=e[s],o=0;o<n;o++)a[o]&&i.set(o,s);return i},t.parseFromString=function(e,r,n){if(e===null)throw new Se("stringRepresentation cannot be null");for(var i=new Array(e.length),s=0,a=0,o=-1,l=0,c=0;c<e.length;)if(e.charAt(c)===`
`||e.charAt(c)==="\r"){if(s>a){if(o===-1)o=s-a;else if(s-a!==o)throw new Se("row lengths do not match");a=s,l++}c++}else if(e.substring(c,c+r.length)===r)c+=r.length,i[s]=!0,s++;else if(e.substring(c,c+n.length)===n)c+=n.length,i[s]=!1,s++;else throw new Se("illegal character encountered: "+e.substring(c));if(s>a){if(o===-1)o=s-a;else if(s-a!==o)throw new Se("row lengths do not match");l++}for(var d=new t(o,l),f=0;f<s;f++)i[f]&&d.set(Math.floor(f%o),Math.floor(f/o));return d},t.prototype.get=function(e,r){var n=r*this.rowSize+Math.floor(e/32);return(this.bits[n]>>>(e&31)&1)!==0},t.prototype.set=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]|=1<<(e&31)&4294967295},t.prototype.unset=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]&=~(1<<(e&31)&4294967295)},t.prototype.flip=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]^=1<<(e&31)&4294967295},t.prototype.xor=function(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new Se("input matrix dimensions do not match");for(var r=new lr(Math.floor(this.width/32)+1),n=this.rowSize,i=this.bits,s=0,a=this.height;s<a;s++)for(var o=s*n,l=e.getRow(s,r).getBitArray(),c=0;c<n;c++)i[o+c]^=l[c]},t.prototype.clear=function(){for(var e=this.bits,r=e.length,n=0;n<r;n++)e[n]=0},t.prototype.setRegion=function(e,r,n,i){if(r<0||e<0)throw new Se("Left and top must be nonnegative");if(i<1||n<1)throw new Se("Height and width must be at least 1");var s=e+n,a=r+i;if(a>this.height||s>this.width)throw new Se("The region must fit inside the matrix");for(var o=this.rowSize,l=this.bits,c=r;c<a;c++)for(var d=c*o,f=e;f<s;f++)l[d+Math.floor(f/32)]|=1<<(f&31)&4294967295},t.prototype.getRow=function(e,r){r==null||r.getSize()<this.width?r=new lr(this.width):r.clear();for(var n=this.rowSize,i=this.bits,s=e*n,a=0;a<n;a++)r.setBulk(a*32,i[s+a]);return r},t.prototype.setRow=function(e,r){vt.arraycopy(r.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)},t.prototype.rotate180=function(){for(var e=this.getWidth(),r=this.getHeight(),n=new lr(e),i=new lr(e),s=0,a=Math.floor((r+1)/2);s<a;s++)n=this.getRow(s,n),i=this.getRow(r-1-s,i),n.reverse(),i.reverse(),this.setRow(s,i),this.setRow(r-1-s,n)},t.prototype.getEnclosingRectangle=function(){for(var e=this.width,r=this.height,n=this.rowSize,i=this.bits,s=e,a=r,o=-1,l=-1,c=0;c<r;c++)for(var d=0;d<n;d++){var f=i[c*n+d];if(f!==0){if(c<a&&(a=c),c>l&&(l=c),d*32<s){for(var h=0;!(f<<31-h&4294967295);)h++;d*32+h<s&&(s=d*32+h)}if(d*32+31>o){for(var h=31;!(f>>>h);)h--;d*32+h>o&&(o=d*32+h)}}}return o<s||l<a?null:Int32Array.from([s,a,o-s+1,l-a+1])},t.prototype.getTopLeftOnBit=function(){for(var e=this.rowSize,r=this.bits,n=0;n<r.length&&r[n]===0;)n++;if(n===r.length)return null;for(var i=n/e,s=n%e*32,a=r[n],o=0;!(a<<31-o&4294967295);)o++;return s+=o,Int32Array.from([s,i])},t.prototype.getBottomRightOnBit=function(){for(var e=this.rowSize,r=this.bits,n=r.length-1;n>=0&&r[n]===0;)n--;if(n<0)return null;for(var i=Math.floor(n/e),s=Math.floor(n%e)*32,a=r[n],o=31;!(a>>>o);)o--;return s+=o,Int32Array.from([s,i])},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.getRowSize=function(){return this.rowSize},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&Qt.equals(this.bits,r.bits)},t.prototype.hashCode=function(){var e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+Qt.hashCode(this.bits),e},t.prototype.toString=function(e,r,n){return e===void 0&&(e="X "),r===void 0&&(r="  "),n===void 0&&(n=`
`),this.buildToString(e,r,n)},t.prototype.buildToString=function(e,r,n){for(var i=new Fe,s=0,a=this.height;s<a;s++){for(var o=0,l=this.width;o<l;o++)i.append(this.get(o,s)?e:r);i.append(n)}return i.toString()},t.prototype.clone=function(){return new t(this.width,this.height,this.rowSize,this.bits.slice())},t}(),qU=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),K=function(t){qU(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getNotFoundInstance=function(){return new e},e.kind="NotFoundException",e}(nn),XU=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),KU=function(t){XU(e,t);function e(r){var n=t.call(this,r)||this;return n.luminances=e.EMPTY,n.buckets=new Int32Array(e.LUMINANCE_BUCKETS),n}return e.prototype.getBlackRow=function(r,n){var i=this.getLuminanceSource(),s=i.getWidth();n==null||n.getSize()<s?n=new lr(s):n.clear(),this.initArrays(s);for(var a=i.getRow(r,this.luminances),o=this.buckets,l=0;l<s;l++)o[(a[l]&255)>>e.LUMINANCE_SHIFT]++;var c=e.estimateBlackPoint(o);if(s<3)for(var l=0;l<s;l++)(a[l]&255)<c&&n.set(l);else for(var d=a[0]&255,f=a[1]&255,l=1;l<s-1;l++){var h=a[l+1]&255;(f*4-d-h)/2<c&&n.set(l),d=f,f=h}return n},e.prototype.getBlackMatrix=function(){var r=this.getLuminanceSource(),n=r.getWidth(),i=r.getHeight(),s=new $i(n,i);this.initArrays(n);for(var a=this.buckets,o=1;o<5;o++)for(var l=Math.floor(i*o/5),c=r.getRow(l,this.luminances),d=Math.floor(n*4/5),f=Math.floor(n/5);f<d;f++){var h=c[f]&255;a[h>>e.LUMINANCE_SHIFT]++}for(var p=e.estimateBlackPoint(a),g=r.getMatrix(),o=0;o<i;o++)for(var m=o*n,f=0;f<n;f++){var h=g[m+f]&255;h<p&&s.set(f,o)}return s},e.prototype.createBinarizer=function(r){return new e(r)},e.prototype.initArrays=function(r){this.luminances.length<r&&(this.luminances=new Uint8ClampedArray(r));for(var n=this.buckets,i=0;i<e.LUMINANCE_BUCKETS;i++)n[i]=0},e.estimateBlackPoint=function(r){for(var n=r.length,i=0,s=0,a=0,o=0;o<n;o++)r[o]>a&&(s=o,a=r[o]),r[o]>i&&(i=r[o]);for(var l=0,c=0,o=0;o<n;o++){var d=o-s,f=r[o]*d*d;f>c&&(l=o,c=f)}if(s>l){var h=s;s=l,l=h}if(l-s<=n/16)throw new K;for(var p=l-1,g=-1,o=l-1;o>s;o--){var m=o-s,f=m*m*(l-o)*(i-r[o]);f>g&&(p=o,g=f)}return p<<e.LUMINANCE_SHIFT},e.LUMINANCE_BITS=5,e.LUMINANCE_SHIFT=8-e.LUMINANCE_BITS,e.LUMINANCE_BUCKETS=1<<e.LUMINANCE_BITS,e.EMPTY=Uint8ClampedArray.from([0]),e}(UU),YU=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ZU=function(t){YU(e,t);function e(r){var n=t.call(this,r)||this;return n.matrix=null,n}return e.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var r=this.getLuminanceSource(),n=r.getWidth(),i=r.getHeight();if(n>=e.MINIMUM_DIMENSION&&i>=e.MINIMUM_DIMENSION){var s=r.getMatrix(),a=n>>e.BLOCK_SIZE_POWER;n&e.BLOCK_SIZE_MASK&&a++;var o=i>>e.BLOCK_SIZE_POWER;i&e.BLOCK_SIZE_MASK&&o++;var l=e.calculateBlackPoints(s,a,o,n,i),c=new $i(n,i);e.calculateThresholdForBlock(s,a,o,n,i,l,c),this.matrix=c}else this.matrix=t.prototype.getBlackMatrix.call(this);return this.matrix},e.prototype.createBinarizer=function(r){return new e(r)},e.calculateThresholdForBlock=function(r,n,i,s,a,o,l){for(var c=a-e.BLOCK_SIZE,d=s-e.BLOCK_SIZE,f=0;f<i;f++){var h=f<<e.BLOCK_SIZE_POWER;h>c&&(h=c);for(var p=e.cap(f,2,i-3),g=0;g<n;g++){var m=g<<e.BLOCK_SIZE_POWER;m>d&&(m=d);for(var x=e.cap(g,2,n-3),y=0,v=-2;v<=2;v++){var _=o[p+v];y+=_[x-2]+_[x-1]+_[x]+_[x+1]+_[x+2]}var w=y/25;e.thresholdBlock(r,m,h,w,s,l)}}},e.cap=function(r,n,i){return r<n?n:r>i?i:r},e.thresholdBlock=function(r,n,i,s,a,o){for(var l=0,c=i*a+n;l<e.BLOCK_SIZE;l++,c+=a)for(var d=0;d<e.BLOCK_SIZE;d++)(r[c+d]&255)<=s&&o.set(n+d,i+l)},e.calculateBlackPoints=function(r,n,i,s,a){for(var o=a-e.BLOCK_SIZE,l=s-e.BLOCK_SIZE,c=new Array(i),d=0;d<i;d++){c[d]=new Int32Array(n);var f=d<<e.BLOCK_SIZE_POWER;f>o&&(f=o);for(var h=0;h<n;h++){var p=h<<e.BLOCK_SIZE_POWER;p>l&&(p=l);for(var g=0,m=255,x=0,y=0,v=f*s+p;y<e.BLOCK_SIZE;y++,v+=s){for(var _=0;_<e.BLOCK_SIZE;_++){var w=r[v+_]&255;g+=w,w<m&&(m=w),w>x&&(x=w)}if(x-m>e.MIN_DYNAMIC_RANGE)for(y++,v+=s;y<e.BLOCK_SIZE;y++,v+=s)for(var _=0;_<e.BLOCK_SIZE;_++)g+=r[v+_]&255}var S=g>>e.BLOCK_SIZE_POWER*2;if(x-m<=e.MIN_DYNAMIC_RANGE&&(S=m/2,d>0&&h>0)){var A=(c[d-1][h]+2*c[d][h-1]+c[d-1][h-1])/4;m<A&&(S=A)}c[d][h]=S}}return c},e.BLOCK_SIZE_POWER=3,e.BLOCK_SIZE=1<<e.BLOCK_SIZE_POWER,e.BLOCK_SIZE_MASK=e.BLOCK_SIZE-1,e.MINIMUM_DIMENSION=e.BLOCK_SIZE*5,e.MIN_DYNAMIC_RANGE=24,e}(KU),Qp=function(){function t(e,r){this.width=e,this.height=r}return t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.isCropSupported=function(){return!1},t.prototype.crop=function(e,r,n,i){throw new Zf("This luminance source does not support cropping.")},t.prototype.isRotateSupported=function(){return!1},t.prototype.rotateCounterClockwise=function(){throw new Zf("This luminance source does not support rotation by 90 degrees.")},t.prototype.rotateCounterClockwise45=function(){throw new Zf("This luminance source does not support rotation by 45 degrees.")},t.prototype.toString=function(){for(var e=new Uint8ClampedArray(this.width),r=new Fe,n=0;n<this.height;n++){for(var i=this.getRow(n,e),s=0;s<this.width;s++){var a=i[s]&255,o=void 0;a<64?o="#":a<128?o="+":a<192?o=".":o=" ",r.append(o)}r.append(`
`)}return r.toString()},t}(),QU=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),qy=function(t){QU(e,t);function e(r){var n=t.call(this,r.getWidth(),r.getHeight())||this;return n.delegate=r,n}return e.prototype.getRow=function(r,n){for(var i=this.delegate.getRow(r,n),s=this.getWidth(),a=0;a<s;a++)i[a]=255-(i[a]&255);return i},e.prototype.getMatrix=function(){for(var r=this.delegate.getMatrix(),n=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(n),s=0;s<n;s++)i[s]=255-(r[s]&255);return i},e.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},e.prototype.crop=function(r,n,i,s){return new e(this.delegate.crop(r,n,i,s))},e.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},e.prototype.invert=function(){return this.delegate},e.prototype.rotateCounterClockwise=function(){return new e(this.delegate.rotateCounterClockwise())},e.prototype.rotateCounterClockwise45=function(){return new e(this.delegate.rotateCounterClockwise45())},e}(Qp),JU=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),e$=function(t){JU(e,t);function e(r,n){n===void 0&&(n=!1);var i=t.call(this,r.width,r.height)||this;return i.canvas=r,i.tempCanvasElement=null,i.buffer=e.makeBufferFromCanvasImageData(r,n),i}return e.makeBufferFromCanvasImageData=function(r,n){n===void 0&&(n=!1);var i=r.getContext("2d").getImageData(0,0,r.width,r.height);return e.toGrayscaleBuffer(i.data,r.width,r.height,n)},e.toGrayscaleBuffer=function(r,n,i,s){s===void 0&&(s=!1);var a=new Uint8ClampedArray(n*i);if(e.FRAME_INDEX=!e.FRAME_INDEX,e.FRAME_INDEX||!s)for(var o=0,l=0,c=r.length;o<c;o+=4,l++){var d=void 0,f=r[o+3];if(f===0)d=255;else{var h=r[o],p=r[o+1],g=r[o+2];d=306*h+601*p+117*g+512>>10}a[l]=d}else for(var o=0,l=0,m=r.length;o<m;o+=4,l++){var d=void 0,f=r[o+3];if(f===0)d=255;else{var h=r[o],p=r[o+1],g=r[o+2];d=306*h+601*p+117*g+512>>10}a[l]=255-d}return a},e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new Se("Requested row is outside the image: "+r);var i=this.getWidth(),s=r*i;return n===null?n=this.buffer.slice(s,s+i):(n.length<i&&(n=new Uint8ClampedArray(i)),n.set(this.buffer.slice(s,s+i))),n},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,s){return t.prototype.crop.call(this,r,n,i,s),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var r=this.canvas.ownerDocument.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height,this.tempCanvasElement=r}return this.tempCanvasElement},e.prototype.rotate=function(r){var n=this.getTempCanvasElement(),i=n.getContext("2d"),s=r*e.DEGREE_TO_RADIANS,a=this.canvas.width,o=this.canvas.height,l=Math.ceil(Math.abs(Math.cos(s))*a+Math.abs(Math.sin(s))*o),c=Math.ceil(Math.abs(Math.sin(s))*a+Math.abs(Math.cos(s))*o);return n.width=l,n.height=c,i.translate(l/2,c/2),i.rotate(s),i.drawImage(this.canvas,a/-2,o/-2),this.buffer=e.makeBufferFromCanvasImageData(n),this},e.prototype.invert=function(){return new qy(this)},e.DEGREE_TO_RADIANS=Math.PI/180,e.FRAME_INDEX=!0,e}(Qp),t$=function(){function t(e,r,n){this.deviceId=e,this.label=r,this.kind="videoinput",this.groupId=n||void 0}return t.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},t}(),Pr=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(d){try{c(n.next(d))}catch(f){a(f)}}function l(d){try{c(n.throw(d))}catch(f){a(f)}}function c(d){d.done?s(d.value):i(d.value).then(o,l)}c((n=n.apply(t,e||[])).next())})},Or=function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(c){return function(d){return l([c,d])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(c[0]===6&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(d){c=[6,d],i=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},r$=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},_c=function(){function t(e,r,n){r===void 0&&(r=500),this.reader=e,this.timeBetweenScansMillis=r,this._hints=n,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(t.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(e){this._timeBetweenDecodingAttempts=e<0?0:e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hints",{get:function(){return this._hints},set:function(e){this._hints=e||null},enumerable:!1,configurable:!0}),t.prototype.listVideoInputDevices=function(){return Pr(this,void 0,void 0,function(){var e,r,n,i,s,a,o,l,c,d,f,h;return Or(this,function(p){switch(p.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=p.sent(),r=[];try{for(n=r$(e),i=n.next();!i.done;i=n.next())s=i.value,a=s.kind==="video"?"videoinput":s.kind,a==="videoinput"&&(o=s.deviceId||s.id,l=s.label||"Video device "+(r.length+1),c=s.groupId,d={deviceId:o,label:l,kind:a,groupId:c},r.push(d))}catch(g){f={error:g}}finally{try{i&&!i.done&&(h=n.return)&&h.call(n)}finally{if(f)throw f.error}}return[2,r]}})})},t.prototype.getVideoInputDevices=function(){return Pr(this,void 0,void 0,function(){var e;return Or(this,function(r){switch(r.label){case 0:return[4,this.listVideoInputDevices()];case 1:return e=r.sent(),[2,e.map(function(n){return new t$(n.deviceId,n.label)})]}})})},t.prototype.findDeviceById=function(e){return Pr(this,void 0,void 0,function(){var r;return Or(this,function(n){switch(n.label){case 0:return[4,this.listVideoInputDevices()];case 1:return r=n.sent(),r?[2,r.find(function(i){return i.deviceId===e})]:[2,null]}})})},t.prototype.decodeFromInputVideoDevice=function(e,r){return Pr(this,void 0,void 0,function(){return Or(this,function(n){switch(n.label){case 0:return[4,this.decodeOnceFromVideoDevice(e,r)];case 1:return[2,n.sent()]}})})},t.prototype.decodeOnceFromVideoDevice=function(e,r){return Pr(this,void 0,void 0,function(){var n,i;return Or(this,function(s){switch(s.label){case 0:return this.reset(),e?n={deviceId:{exact:e}}:n={facingMode:"environment"},i={video:n},[4,this.decodeOnceFromConstraints(i,r)];case 1:return[2,s.sent()]}})})},t.prototype.decodeOnceFromConstraints=function(e,r){return Pr(this,void 0,void 0,function(){var n;return Or(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return n=i.sent(),[4,this.decodeOnceFromStream(n,r)];case 2:return[2,i.sent()]}})})},t.prototype.decodeOnceFromStream=function(e,r){return Pr(this,void 0,void 0,function(){var n,i;return Or(this,function(s){switch(s.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,r)];case 1:return n=s.sent(),[4,this.decodeOnce(n)];case 2:return i=s.sent(),[2,i]}})})},t.prototype.decodeFromInputVideoDeviceContinuously=function(e,r,n){return Pr(this,void 0,void 0,function(){return Or(this,function(i){switch(i.label){case 0:return[4,this.decodeFromVideoDevice(e,r,n)];case 1:return[2,i.sent()]}})})},t.prototype.decodeFromVideoDevice=function(e,r,n){return Pr(this,void 0,void 0,function(){var i,s;return Or(this,function(a){switch(a.label){case 0:return e?i={deviceId:{exact:e}}:i={facingMode:"environment"},s={video:i},[4,this.decodeFromConstraints(s,r,n)];case 1:return[2,a.sent()]}})})},t.prototype.decodeFromConstraints=function(e,r,n){return Pr(this,void 0,void 0,function(){var i;return Or(this,function(s){switch(s.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return i=s.sent(),[4,this.decodeFromStream(i,r,n)];case 2:return[2,s.sent()]}})})},t.prototype.decodeFromStream=function(e,r,n){return Pr(this,void 0,void 0,function(){var i;return Or(this,function(s){switch(s.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,r)];case 1:return i=s.sent(),[4,this.decodeContinuously(i,n)];case 2:return[2,s.sent()]}})})},t.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},t.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},t.prototype.attachStreamToVideo=function(e,r){return Pr(this,void 0,void 0,function(){var n;return Or(this,function(i){switch(i.label){case 0:return n=this.prepareVideoElement(r),this.addVideoSource(n,e),this.videoElement=n,this.stream=e,[4,this.playVideoOnLoadAsync(n)];case 1:return i.sent(),[2,n]}})})},t.prototype.playVideoOnLoadAsync=function(e){var r=this;return new Promise(function(n,i){return r.playVideoOnLoad(e,function(){return n()})})},t.prototype.playVideoOnLoad=function(e,r){var n=this;this.videoEndedListener=function(){return n.stopStreams()},this.videoCanPlayListener=function(){return n.tryPlayVideo(e)},e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",r),this.tryPlayVideo(e)},t.prototype.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2},t.prototype.tryPlayVideo=function(e){return Pr(this,void 0,void 0,function(){return Or(this,function(r){switch(r.label){case 0:if(this.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,e.play()];case 2:return r.sent(),[3,4];case 3:return r.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},t.prototype.getMediaElement=function(e,r){var n=document.getElementById(e);if(!n)throw new Un("element with id '"+e+"' not found");if(n.nodeName.toLowerCase()!==r.toLowerCase())throw new Un("element with id '"+e+"' must be an "+r+" element");return n},t.prototype.decodeFromImage=function(e,r){if(!e&&!r)throw new Un("either imageElement with a src set or an url must be provided");return r&&!e?this.decodeFromImageUrl(r):this.decodeFromImageElement(e)},t.prototype.decodeFromVideo=function(e,r){if(!e&&!r)throw new Un("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(e)},t.prototype.decodeFromVideoContinuously=function(e,r,n){if(e===void 0&&r===void 0)throw new Un("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrlContinuously(r,n):this.decodeFromVideoElementContinuously(e,n)},t.prototype.decodeFromImageElement=function(e){if(!e)throw new Un("An image element must be provided.");this.reset();var r=this.prepareImageElement(e);this.imageElement=r;var n;return this.isImageLoaded(r)?n=this.decodeOnce(r,!1,!0):n=this._decodeOnLoadImage(r),n},t.prototype.decodeFromVideoElement=function(e){var r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(r)},t.prototype.decodeFromVideoElementContinuously=function(e,r){var n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(n,r)},t.prototype._decodeFromVideoElementSetup=function(e){if(!e)throw new Un("A video element must be provided.");this.reset();var r=this.prepareVideoElement(e);return this.videoElement=r,r},t.prototype.decodeFromImageUrl=function(e){if(!e)throw new Un("An URL must be provided.");this.reset();var r=this.prepareImageElement();this.imageElement=r;var n=this._decodeOnLoadImage(r);return r.src=e,n},t.prototype.decodeFromVideoUrl=function(e){if(!e)throw new Un("An URL must be provided.");this.reset();var r=this.prepareVideoElement(),n=this.decodeFromVideoElement(r);return r.src=e,n},t.prototype.decodeFromVideoUrlContinuously=function(e,r){if(!e)throw new Un("An URL must be provided.");this.reset();var n=this.prepareVideoElement(),i=this.decodeFromVideoElementContinuously(n,r);return n.src=e,i},t.prototype._decodeOnLoadImage=function(e){var r=this;return new Promise(function(n,i){r.imageLoadedListener=function(){return r.decodeOnce(e,!1,!0).then(n,i)},e.addEventListener("load",r.imageLoadedListener)})},t.prototype._decodeOnLoadVideo=function(e){return Pr(this,void 0,void 0,function(){return Or(this,function(r){switch(r.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return r.sent(),[4,this.decodeOnce(e)];case 2:return[2,r.sent()]}})})},t.prototype._decodeOnLoadVideoContinuously=function(e,r){return Pr(this,void 0,void 0,function(){return Or(this,function(n){switch(n.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return n.sent(),this.decodeContinuously(e,r),[2]}})})},t.prototype.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},t.prototype.prepareImageElement=function(e){var r;return typeof e>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(r=e),r},t.prototype.prepareVideoElement=function(e){var r;return!e&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(r=e),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r},t.prototype.decodeOnce=function(e,r,n){var i=this;r===void 0&&(r=!0),n===void 0&&(n=!0),this._stopAsyncDecode=!1;var s=function(a,o){if(i._stopAsyncDecode){o(new K("Video stream has ended before any code could be detected.")),i._stopAsyncDecode=void 0;return}try{var l=i.decode(e);a(l)}catch(h){var c=r&&h instanceof K,d=h instanceof or||h instanceof ne,f=d&&n;if(c||f)return setTimeout(s,i._timeBetweenDecodingAttempts,a,o);o(h)}};return new Promise(function(a,o){return s(a,o)})},t.prototype.decodeContinuously=function(e,r){var n=this;this._stopContinuousDecode=!1;var i=function(){if(n._stopContinuousDecode){n._stopContinuousDecode=void 0;return}try{var s=n.decode(e);r(s,null),setTimeout(i,n.timeBetweenScansMillis)}catch(l){r(null,l);var a=l instanceof or||l instanceof ne,o=l instanceof K;(a||o)&&setTimeout(i,n._timeBetweenDecodingAttempts)}};i()},t.prototype.decode=function(e){var r=this.createBinaryBitmap(e);return this.decodeBitmap(r)},t.prototype.createBinaryBitmap=function(e){this.getCaptureCanvasContext(e);var r=!1;e instanceof HTMLVideoElement?(this.drawFrameOnCanvas(e),r=!0):this.drawImageOnCanvas(e);var n=this.getCaptureCanvas(e),i=new e$(n,r),s=new ZU(i);return new LU(s)},t.prototype.getCaptureCanvasContext=function(e){if(!this.captureCanvasContext){var r=this.getCaptureCanvas(e),n=void 0;try{n=r.getContext("2d",{willReadFrequently:!0})}catch{n=r.getContext("2d")}this.captureCanvasContext=n}return this.captureCanvasContext},t.prototype.getCaptureCanvas=function(e){if(!this.captureCanvas){var r=this.createCaptureCanvas(e);this.captureCanvas=r}return this.captureCanvas},t.prototype.drawFrameOnCanvas=function(e,r,n){r===void 0&&(r={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},t.prototype.drawImageOnCanvas=function(e,r,n){r===void 0&&(r={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},t.prototype.decodeBitmap=function(e){return this.reader.decode(e,this._hints)},t.prototype.createCaptureCanvas=function(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var r=document.createElement("canvas"),n,i;return typeof e<"u"&&(e instanceof HTMLVideoElement?(n=e.videoWidth,i=e.videoHeight):e instanceof HTMLImageElement&&(n=e.naturalWidth||e.width,i=e.naturalHeight||e.height)),r.style.width=n+"px",r.style.height=i+"px",r.width=n,r.height=i,r},t.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(e){return e.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},t.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},t.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},t.prototype._destroyImageElement=function(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},t.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},t.prototype.addVideoSource=function(e,r){try{e.srcObject=r}catch{e.src=URL.createObjectURL(r)}},t.prototype.cleanVideoSource=function(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")},t}(),Tr=function(){function t(e,r,n,i,s,a){n===void 0&&(n=r==null?0:8*r.length),a===void 0&&(a=vt.currentTimeMillis()),this.text=e,this.rawBytes=r,this.numBits=n,this.resultPoints=i,this.format=s,this.timestamp=a,this.text=e,this.rawBytes=r,n==null?this.numBits=r==null?0:8*r.length:this.numBits=n,this.resultPoints=i,this.format=s,this.resultMetadata=null,a==null?this.timestamp=vt.currentTimeMillis():this.timestamp=a}return t.prototype.getText=function(){return this.text},t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.getBarcodeFormat=function(){return this.format},t.prototype.getResultMetadata=function(){return this.resultMetadata},t.prototype.putMetadata=function(e,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,r)},t.prototype.putAllMetadata=function(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))},t.prototype.addResultPoints=function(e){var r=this.resultPoints;if(r===null)this.resultPoints=e;else if(e!==null&&e.length>0){var n=new Array(r.length+e.length);vt.arraycopy(r,0,n,0,r.length),vt.arraycopy(e,0,n,r.length,e.length),this.resultPoints=n}},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.toString=function(){return this.text},t}(),Ng;(function(t){t[t.AZTEC=0]="AZTEC",t[t.CODABAR=1]="CODABAR",t[t.CODE_39=2]="CODE_39",t[t.CODE_93=3]="CODE_93",t[t.CODE_128=4]="CODE_128",t[t.DATA_MATRIX=5]="DATA_MATRIX",t[t.EAN_8=6]="EAN_8",t[t.EAN_13=7]="EAN_13",t[t.ITF=8]="ITF",t[t.MAXICODE=9]="MAXICODE",t[t.PDF_417=10]="PDF_417",t[t.QR_CODE=11]="QR_CODE",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ng||(Ng={}));const Ce=Ng;var Tg;(function(t){t[t.OTHER=0]="OTHER",t[t.ORIENTATION=1]="ORIENTATION",t[t.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",t[t.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",t[t.ISSUE_NUMBER=4]="ISSUE_NUMBER",t[t.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",t[t.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",t[t.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",t[t.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",t[t.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",t[t.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Tg||(Tg={}));const mr=Tg;var Jp=function(){function t(e,r,n,i,s,a){s===void 0&&(s=-1),a===void 0&&(a=-1),this.rawBytes=e,this.text=r,this.byteSegments=n,this.ecLevel=i,this.structuredAppendSequenceNumber=s,this.structuredAppendParity=a,this.numBits=e==null?0:8*e.length}return t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.setNumBits=function(e){this.numBits=e},t.prototype.getText=function(){return this.text},t.prototype.getByteSegments=function(){return this.byteSegments},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getErrorsCorrected=function(){return this.errorsCorrected},t.prototype.setErrorsCorrected=function(e){this.errorsCorrected=e},t.prototype.getErasures=function(){return this.erasures},t.prototype.setErasures=function(e){this.erasures=e},t.prototype.getOther=function(){return this.other},t.prototype.setOther=function(e){this.other=e},t.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},t.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},t.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},t}(),Jc=function(){function t(){}return t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new Se;return this.logTable[e]},t.addOrSubtract=function(e,r){return e^r},t}(),ua=function(){function t(e,r){if(r.length===0)throw new Se;this.field=e;var n=r.length;if(n>1&&r[0]===0){for(var i=1;i<n&&r[i]===0;)i++;i===n?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(n-i),vt.arraycopy(r,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){if(e===0)return this.getCoefficient(0);var r=this.coefficients,n;if(e===1){n=0;for(var i=0,s=r.length;i!==s;i++){var a=r[i];n=Jc.addOrSubtract(n,a)}return n}n=r[0];for(var o=r.length,l=this.field,i=1;i<o;i++)n=Jc.addOrSubtract(l.multiply(e,n),r[i]);return n},t.prototype.addOrSubtract=function(e){if(!this.field.equals(e.field))throw new Se("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;var r=this.coefficients,n=e.coefficients;if(r.length>n.length){var i=r;r=n,n=i}var s=new Int32Array(n.length),a=n.length-r.length;vt.arraycopy(n,0,s,0,a);for(var o=a;o<n.length;o++)s[o]=Jc.addOrSubtract(r[o-a],n[o]);return new t(this.field,s)},t.prototype.multiply=function(e){if(!this.field.equals(e.field))throw new Se("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();for(var r=this.coefficients,n=r.length,i=e.coefficients,s=i.length,a=new Int32Array(n+s-1),o=this.field,l=0;l<n;l++)for(var c=r[l],d=0;d<s;d++)a[l+d]=Jc.addOrSubtract(a[l+d],o.multiply(c,i[d]));return new t(o,a)},t.prototype.multiplyScalar=function(e){if(e===0)return this.field.getZero();if(e===1)return this;for(var r=this.coefficients.length,n=this.field,i=new Int32Array(r),s=this.coefficients,a=0;a<r;a++)i[a]=n.multiply(s[a],e);return new t(n,i)},t.prototype.multiplyByMonomial=function(e,r){if(e<0)throw new Se;if(r===0)return this.field.getZero();for(var n=this.coefficients,i=n.length,s=new Int32Array(i+e),a=this.field,o=0;o<i;o++)s[o]=a.multiply(n[o],r);return new t(a,s)},t.prototype.divide=function(e){if(!this.field.equals(e.field))throw new Se("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new Se("Divide by 0");for(var r=this.field,n=r.getZero(),i=this,s=e.getCoefficient(e.getDegree()),a=r.inverse(s);i.getDegree()>=e.getDegree()&&!i.isZero();){var o=i.getDegree()-e.getDegree(),l=r.multiply(i.getCoefficient(i.getDegree()),a),c=e.multiplyByMonomial(o,l),d=r.buildMonomial(o,l);n=n.addOrSubtract(d),i=i.addOrSubtract(c)}return[n,i]},t.prototype.toString=function(){for(var e="",r=this.getDegree();r>=0;r--){var n=this.getCoefficient(r);if(n!==0){if(n<0?(e+=" - ",n=-n):e.length>0&&(e+=" + "),r===0||n!==1){var i=this.field.log(n);i===0?e+="1":i===1?e+="a":(e+="a^",e+=i)}r!==0&&(r===1?e+="x":(e+="x^",e+=r))}}return e},t}(),n$=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),K8=function(t){n$(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArithmeticException",e}(nn),i$=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Zr=function(t){i$(e,t);function e(r,n,i){var s=t.call(this)||this;s.primitive=r,s.size=n,s.generatorBase=i;for(var a=new Int32Array(n),o=1,l=0;l<n;l++)a[l]=o,o*=2,o>=n&&(o^=r,o&=n-1);s.expTable=a;for(var c=new Int32Array(n),l=0;l<n-1;l++)c[a[l]]=l;return s.logTable=c,s.zero=new ua(s,Int32Array.from([0])),s.one=new ua(s,Int32Array.from([1])),s}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(r,n){if(r<0)throw new Se;if(n===0)return this.zero;var i=new Int32Array(r+1);return i[0]=n,new ua(this,i)},e.prototype.inverse=function(r){if(r===0)throw new K8;return this.expTable[this.size-this.logTable[r]-1]},e.prototype.multiply=function(r,n){return r===0||n===0?0:this.expTable[(this.logTable[r]+this.logTable[n])%(this.size-1)]},e.prototype.getSize=function(){return this.size},e.prototype.getGeneratorBase=function(){return this.generatorBase},e.prototype.toString=function(){return"GF(0x"+Me.toHexString(this.primitive)+","+this.size+")"},e.prototype.equals=function(r){return r===this},e.AZTEC_DATA_12=new e(4201,4096,1),e.AZTEC_DATA_10=new e(1033,1024,1),e.AZTEC_DATA_6=new e(67,64,1),e.AZTEC_PARAM=new e(19,16,1),e.QR_CODE_FIELD_256=new e(285,256,0),e.DATA_MATRIX_FIELD_256=new e(301,256,1),e.AZTEC_DATA_8=e.DATA_MATRIX_FIELD_256,e.MAXICODE_FIELD_64=e.AZTEC_DATA_6,e}(Jc),s$=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),wf=function(t){s$(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReedSolomonException",e}(nn),a$=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),kd=function(t){a$(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalStateException",e}(nn),e0=function(){function t(e){this.field=e}return t.prototype.decode=function(e,r){for(var n=this.field,i=new ua(n,e),s=new Int32Array(r),a=!0,o=0;o<r;o++){var l=i.evaluateAt(n.exp(o+n.getGeneratorBase()));s[s.length-1-o]=l,l!==0&&(a=!1)}if(!a)for(var c=new ua(n,s),d=this.runEuclideanAlgorithm(n.buildMonomial(r,1),c,r),f=d[0],h=d[1],p=this.findErrorLocations(f),g=this.findErrorMagnitudes(h,p),o=0;o<p.length;o++){var m=e.length-1-n.log(p[o]);if(m<0)throw new wf("Bad error location");e[m]=Zr.addOrSubtract(e[m],g[o])}},t.prototype.runEuclideanAlgorithm=function(e,r,n){if(e.getDegree()<r.getDegree()){var i=e;e=r,r=i}for(var s=this.field,a=e,o=r,l=s.getZero(),c=s.getOne();o.getDegree()>=(n/2|0);){var d=a,f=l;if(a=o,l=c,a.isZero())throw new wf("r_{i-1} was zero");o=d;for(var h=s.getZero(),p=a.getCoefficient(a.getDegree()),g=s.inverse(p);o.getDegree()>=a.getDegree()&&!o.isZero();){var m=o.getDegree()-a.getDegree(),x=s.multiply(o.getCoefficient(o.getDegree()),g);h=h.addOrSubtract(s.buildMonomial(m,x)),o=o.addOrSubtract(a.multiplyByMonomial(m,x))}if(c=h.multiply(l).addOrSubtract(f),o.getDegree()>=a.getDegree())throw new kd("Division algorithm failed to reduce polynomial?")}var y=c.getCoefficient(0);if(y===0)throw new wf("sigmaTilde(0) was zero");var v=s.inverse(y),_=c.multiplyScalar(v),w=o.multiplyScalar(v);return[_,w]},t.prototype.findErrorLocations=function(e){var r=e.getDegree();if(r===1)return Int32Array.from([e.getCoefficient(1)]);for(var n=new Int32Array(r),i=0,s=this.field,a=1;a<s.getSize()&&i<r;a++)e.evaluateAt(a)===0&&(n[i]=s.inverse(a),i++);if(i!==r)throw new wf("Error locator degree does not match number of roots");return n},t.prototype.findErrorMagnitudes=function(e,r){for(var n=r.length,i=new Int32Array(n),s=this.field,a=0;a<n;a++){for(var o=s.inverse(r[a]),l=1,c=0;c<n;c++)if(a!==c){var d=s.multiply(r[c],o),f=d&1?d&-2:d|1;l=s.multiply(l,f)}i[a]=s.multiply(e.evaluateAt(o),s.inverse(l)),s.getGeneratorBase()!==0&&(i[a]=s.multiply(i[a],o))}return i},t}(),fr;(function(t){t[t.UPPER=0]="UPPER",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.DIGIT=3]="DIGIT",t[t.PUNCT=4]="PUNCT",t[t.BINARY=5]="BINARY"})(fr||(fr={}));var J_=function(){function t(){}return t.prototype.decode=function(e){this.ddata=e;var r=e.getBits(),n=this.extractBits(r),i=this.correctBits(n),s=t.convertBoolArrayToByteArray(i),a=t.getEncodedData(i),o=new Jp(s,a,null,null);return o.setNumBits(i.length),o},t.highLevelDecode=function(e){return this.getEncodedData(e)},t.getEncodedData=function(e){for(var r=e.length,n=fr.UPPER,i=fr.UPPER,s="",a=0;a<r;)if(i===fr.BINARY){if(r-a<5)break;var o=t.readCode(e,a,5);if(a+=5,o===0){if(r-a<11)break;o=t.readCode(e,a,11)+31,a+=11}for(var l=0;l<o;l++){if(r-a<8){a=r;break}var c=t.readCode(e,a,8);s+=He.castAsNonUtf8Char(c),a+=8}i=n}else{var d=i===fr.DIGIT?4:5;if(r-a<d)break;var c=t.readCode(e,a,d);a+=d;var f=t.getCharacter(i,c);f.startsWith("CTRL_")?(n=i,i=t.getTable(f.charAt(5)),f.charAt(6)==="L"&&(n=i)):(s+=f,i=n)}return s},t.getTable=function(e){switch(e){case"L":return fr.LOWER;case"P":return fr.PUNCT;case"M":return fr.MIXED;case"D":return fr.DIGIT;case"B":return fr.BINARY;case"U":default:return fr.UPPER}},t.getCharacter=function(e,r){switch(e){case fr.UPPER:return t.UPPER_TABLE[r];case fr.LOWER:return t.LOWER_TABLE[r];case fr.MIXED:return t.MIXED_TABLE[r];case fr.PUNCT:return t.PUNCT_TABLE[r];case fr.DIGIT:return t.DIGIT_TABLE[r];default:throw new kd("Bad table")}},t.prototype.correctBits=function(e){var r,n;this.ddata.getNbLayers()<=2?(n=6,r=Zr.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(n=8,r=Zr.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(n=10,r=Zr.AZTEC_DATA_10):(n=12,r=Zr.AZTEC_DATA_12);var i=this.ddata.getNbDatablocks(),s=e.length/n;if(s<i)throw new ne;for(var a=e.length%n,o=new Int32Array(s),l=0;l<s;l++,a+=n)o[l]=t.readCode(e,a,n);try{var c=new e0(r);c.decode(o,s-i)}catch(x){throw new ne(x)}for(var d=(1<<n)-1,f=0,l=0;l<i;l++){var h=o[l];if(h===0||h===d)throw new ne;(h===1||h===d-1)&&f++}for(var p=new Array(i*n-f),g=0,l=0;l<i;l++){var h=o[l];if(h===1||h===d-1)p.fill(h>1,g,g+n-1),g+=n-1;else for(var m=n-1;m>=0;--m)p[g++]=(h&1<<m)!==0}return p},t.prototype.extractBits=function(e){var r=this.ddata.isCompact(),n=this.ddata.getNbLayers(),i=(r?11:14)+n*4,s=new Int32Array(i),a=new Array(this.totalBitsInLayer(n,r));if(r)for(var o=0;o<s.length;o++)s[o]=o;else for(var l=i+1+2*Me.truncDivision(Me.truncDivision(i,2)-1,15),c=i/2,d=Me.truncDivision(l,2),o=0;o<c;o++){var f=o+Me.truncDivision(o,15);s[c-o-1]=d-f-1,s[c+o]=d+f+1}for(var o=0,h=0;o<n;o++){for(var p=(n-o)*4+(r?9:12),g=o*2,m=i-1-g,x=0;x<p;x++)for(var y=x*2,v=0;v<2;v++)a[h+y+v]=e.get(s[g+v],s[g+x]),a[h+2*p+y+v]=e.get(s[g+x],s[m-v]),a[h+4*p+y+v]=e.get(s[m-v],s[m-x]),a[h+6*p+y+v]=e.get(s[m-x],s[g+v]);h+=p*8}return a},t.readCode=function(e,r,n){for(var i=0,s=r;s<r+n;s++)i<<=1,e[s]&&(i|=1);return i},t.readByte=function(e,r){var n=e.length-r;return n>=8?t.readCode(e,r,8):t.readCode(e,r,n)<<8-n},t.convertBoolArrayToByteArray=function(e){for(var r=new Uint8Array((e.length+7)/8),n=0;n<r.length;n++)r[n]=t.readByte(e,8*n);return r},t.prototype.totalBitsInLayer=function(e,r){return((r?88:112)+16*e)*e},t.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],t.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],t.MIXED_TABLE=["CTRL_PS"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],t.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],t.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],t}(),Ke=function(){function t(){}return t.round=function(e){return isNaN(e)?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0},t.distance=function(e,r,n,i){var s=e-n,a=r-i;return Math.sqrt(s*s+a*a)},t.sum=function(e){for(var r=0,n=0,i=e.length;n!==i;n++){var s=e[n];r+=s}return r},t}(),Ig=function(){function t(){}return t.floatToIntBits=function(e){return e},t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t}(),ve=function(){function t(e,r){this.x=e,this.y=r}return t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t.prototype.equals=function(e){if(e instanceof t){var r=e;return this.x===r.x&&this.y===r.y}return!1},t.prototype.hashCode=function(){return 31*Ig.floatToIntBits(this.x)+Ig.floatToIntBits(this.y)},t.prototype.toString=function(){return"("+this.x+","+this.y+")"},t.orderBestPatterns=function(e){var r=this.distance(e[0],e[1]),n=this.distance(e[1],e[2]),i=this.distance(e[0],e[2]),s,a,o;if(n>=r&&n>=i?(a=e[0],s=e[1],o=e[2]):i>=n&&i>=r?(a=e[1],s=e[0],o=e[2]):(a=e[2],s=e[0],o=e[1]),this.crossProductZ(s,a,o)<0){var l=s;s=o,o=l}e[0]=s,e[1]=a,e[2]=o},t.distance=function(e,r){return Ke.distance(e.x,e.y,r.x,r.y)},t.crossProductZ=function(e,r,n){var i=r.x,s=r.y;return(n.x-i)*(e.y-s)-(n.y-s)*(e.x-i)},t}(),Xy=function(){function t(e,r){this.bits=e,this.points=r}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t}(),o$=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),l$=function(t){o$(e,t);function e(r,n,i,s,a){var o=t.call(this,r,n)||this;return o.compact=i,o.nbDatablocks=s,o.nbLayers=a,o}return e.prototype.getNbLayers=function(){return this.nbLayers},e.prototype.getNbDatablocks=function(){return this.nbDatablocks},e.prototype.isCompact=function(){return this.compact},e}(Xy),Pg=function(){function t(e,r,n,i){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),r==null&&(r=t.INIT_SIZE),n==null&&(n=e.getWidth()/2|0),i==null&&(i=e.getHeight()/2|0);var s=r/2|0;if(this.leftInit=n-s,this.rightInit=n+s,this.upInit=i-s,this.downInit=i+s,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new K}return t.prototype.detect=function(){for(var e=this.leftInit,r=this.rightInit,n=this.upInit,i=this.downInit,s=!1,a=!0,o=!1,l=!1,c=!1,d=!1,f=!1,h=this.width,p=this.height;a;){a=!1;for(var g=!0;(g||!l)&&r<h;)g=this.containsBlackPoint(n,i,r,!1),g?(r++,a=!0,l=!0):l||r++;if(r>=h){s=!0;break}for(var m=!0;(m||!c)&&i<p;)m=this.containsBlackPoint(e,r,i,!0),m?(i++,a=!0,c=!0):c||i++;if(i>=p){s=!0;break}for(var x=!0;(x||!d)&&e>=0;)x=this.containsBlackPoint(n,i,e,!1),x?(e--,a=!0,d=!0):d||e--;if(e<0){s=!0;break}for(var y=!0;(y||!f)&&n>=0;)y=this.containsBlackPoint(e,r,n,!0),y?(n--,a=!0,f=!0):f||n--;if(n<0){s=!0;break}a&&(o=!0)}if(!s&&o){for(var v=r-e,_=null,w=1;_===null&&w<v;w++)_=this.getBlackPointOnSegment(e,i-w,e+w,i);if(_==null)throw new K;for(var S=null,w=1;S===null&&w<v;w++)S=this.getBlackPointOnSegment(e,n+w,e+w,n);if(S==null)throw new K;for(var A=null,w=1;A===null&&w<v;w++)A=this.getBlackPointOnSegment(r,n+w,r-w,n);if(A==null)throw new K;for(var E=null,w=1;E===null&&w<v;w++)E=this.getBlackPointOnSegment(r,i-w,r-w,i);if(E==null)throw new K;return this.centerEdges(E,_,A,S)}else throw new K},t.prototype.getBlackPointOnSegment=function(e,r,n,i){for(var s=Ke.round(Ke.distance(e,r,n,i)),a=(n-e)/s,o=(i-r)/s,l=this.image,c=0;c<s;c++){var d=Ke.round(e+c*a),f=Ke.round(r+c*o);if(l.get(d,f))return new ve(d,f)}return null},t.prototype.centerEdges=function(e,r,n,i){var s=e.getX(),a=e.getY(),o=r.getX(),l=r.getY(),c=n.getX(),d=n.getY(),f=i.getX(),h=i.getY(),p=t.CORR;return s<this.width/2?[new ve(f-p,h+p),new ve(o+p,l+p),new ve(c-p,d-p),new ve(s+p,a-p)]:[new ve(f+p,h+p),new ve(o+p,l-p),new ve(c-p,d+p),new ve(s-p,a-p)]},t.prototype.containsBlackPoint=function(e,r,n,i){var s=this.image;if(i){for(var a=e;a<=r;a++)if(s.get(a,n))return!0}else for(var o=e;o<=r;o++)if(s.get(n,o))return!0;return!1},t.INIT_SIZE=10,t.CORR=1,t}(),eb=function(){function t(){}return t.checkAndNudgePoints=function(e,r){for(var n=e.getWidth(),i=e.getHeight(),s=!0,a=0;a<r.length&&s;a+=2){var o=Math.floor(r[a]),l=Math.floor(r[a+1]);if(o<-1||o>n||l<-1||l>i)throw new K;s=!1,o===-1?(r[a]=0,s=!0):o===n&&(r[a]=n-1,s=!0),l===-1?(r[a+1]=0,s=!0):l===i&&(r[a+1]=i-1,s=!0)}s=!0;for(var a=r.length-2;a>=0&&s;a-=2){var o=Math.floor(r[a]),l=Math.floor(r[a+1]);if(o<-1||o>n||l<-1||l>i)throw new K;s=!1,o===-1?(r[a]=0,s=!0):o===n&&(r[a]=n-1,s=!0),l===-1?(r[a+1]=0,s=!0):l===i&&(r[a+1]=i-1,s=!0)}},t}(),Y8=function(){function t(e,r,n,i,s,a,o,l,c){this.a11=e,this.a21=r,this.a31=n,this.a12=i,this.a22=s,this.a32=a,this.a13=o,this.a23=l,this.a33=c}return t.quadrilateralToQuadrilateral=function(e,r,n,i,s,a,o,l,c,d,f,h,p,g,m,x){var y=t.quadrilateralToSquare(e,r,n,i,s,a,o,l),v=t.squareToQuadrilateral(c,d,f,h,p,g,m,x);return v.times(y)},t.prototype.transformPoints=function(e){for(var r=e.length,n=this.a11,i=this.a12,s=this.a13,a=this.a21,o=this.a22,l=this.a23,c=this.a31,d=this.a32,f=this.a33,h=0;h<r;h+=2){var p=e[h],g=e[h+1],m=s*p+l*g+f;e[h]=(n*p+a*g+c)/m,e[h+1]=(i*p+o*g+d)/m}},t.prototype.transformPointsWithValues=function(e,r){for(var n=this.a11,i=this.a12,s=this.a13,a=this.a21,o=this.a22,l=this.a23,c=this.a31,d=this.a32,f=this.a33,h=e.length,p=0;p<h;p++){var g=e[p],m=r[p],x=s*g+l*m+f;e[p]=(n*g+a*m+c)/x,r[p]=(i*g+o*m+d)/x}},t.squareToQuadrilateral=function(e,r,n,i,s,a,o,l){var c=e-n+s-o,d=r-i+a-l;if(c===0&&d===0)return new t(n-e,s-n,e,i-r,a-i,r,0,0,1);var f=n-s,h=o-s,p=i-a,g=l-a,m=f*g-h*p,x=(c*g-h*d)/m,y=(f*d-c*p)/m;return new t(n-e+x*n,o-e+y*o,e,i-r+x*i,l-r+y*l,r,x,y,1)},t.quadrilateralToSquare=function(e,r,n,i,s,a,o,l){return t.squareToQuadrilateral(e,r,n,i,s,a,o,l).buildAdjoint()},t.prototype.buildAdjoint=function(){return new t(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},t.prototype.times=function(e){return new t(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)},t}(),c$=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),u$=function(t){c$(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.sampleGrid=function(r,n,i,s,a,o,l,c,d,f,h,p,g,m,x,y,v,_,w){var S=Y8.quadrilateralToQuadrilateral(s,a,o,l,c,d,f,h,p,g,m,x,y,v,_,w);return this.sampleGridWithTransform(r,n,i,S)},e.prototype.sampleGridWithTransform=function(r,n,i,s){if(n<=0||i<=0)throw new K;for(var a=new $i(n,i),o=new Float32Array(2*n),l=0;l<i;l++){for(var c=o.length,d=l+.5,f=0;f<c;f+=2)o[f]=f/2+.5,o[f+1]=d;s.transformPoints(o),eb.checkAndNudgePoints(r,o);try{for(var f=0;f<c;f+=2)r.get(Math.floor(o[f]),Math.floor(o[f+1]))&&a.set(f/2,l)}catch{throw new K}}return a},e}(eb),Ky=function(){function t(){}return t.setGridSampler=function(e){t.gridSampler=e},t.getInstance=function(){return t.gridSampler},t.gridSampler=new u$,t}(),Wr=function(){function t(e,r){this.x=e,this.y=r}return t.prototype.toResultPoint=function(){return new ve(this.getX(),this.getY())},t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t}(),d$=function(){function t(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}return t.prototype.detect=function(){return this.detectMirror(!1)},t.prototype.detectMirror=function(e){var r=this.getMatrixCenter(),n=this.getBullsEyeCorners(r);if(e){var i=n[0];n[0]=n[2],n[2]=i}this.extractParameters(n);var s=this.sampleGrid(this.image,n[this.shift%4],n[(this.shift+1)%4],n[(this.shift+2)%4],n[(this.shift+3)%4]),a=this.getMatrixCornerPoints(n);return new l$(s,a,this.compact,this.nbDataBlocks,this.nbLayers)},t.prototype.extractParameters=function(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new K;var r=2*this.nbCenterLayers,n=new Int32Array([this.sampleLine(e[0],e[1],r),this.sampleLine(e[1],e[2],r),this.sampleLine(e[2],e[3],r),this.sampleLine(e[3],e[0],r)]);this.shift=this.getRotation(n,r);for(var i=0,s=0;s<4;s++){var a=n[(this.shift+s)%4];this.compact?(i<<=7,i+=a>>1&127):(i<<=10,i+=(a>>2&992)+(a>>1&31))}var o=this.getCorrectedParameterData(i,this.compact);this.compact?(this.nbLayers=(o>>6)+1,this.nbDataBlocks=(o&63)+1):(this.nbLayers=(o>>11)+1,this.nbDataBlocks=(o&2047)+1)},t.prototype.getRotation=function(e,r){var n=0;e.forEach(function(s,a,o){var l=(s>>r-2<<1)+(s&1);n=(n<<3)+l}),n=((n&1)<<11)+(n>>1);for(var i=0;i<4;i++)if(Me.bitCount(n^this.EXPECTED_CORNER_BITS[i])<=2)return i;throw new K},t.prototype.getCorrectedParameterData=function(e,r){var n,i;r?(n=7,i=2):(n=10,i=4);for(var s=n-i,a=new Int32Array(n),o=n-1;o>=0;--o)a[o]=e&15,e>>=4;try{var l=new e0(Zr.AZTEC_PARAM);l.decode(a,s)}catch{throw new K}for(var c=0,o=0;o<i;o++)c=(c<<4)+a[o];return c},t.prototype.getBullsEyeCorners=function(e){var r=e,n=e,i=e,s=e,a=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var o=this.getFirstDifferent(r,a,1,-1),l=this.getFirstDifferent(n,a,1,1),c=this.getFirstDifferent(i,a,-1,1),d=this.getFirstDifferent(s,a,-1,-1);if(this.nbCenterLayers>2){var f=this.distancePoint(d,o)*this.nbCenterLayers/(this.distancePoint(s,r)*(this.nbCenterLayers+2));if(f<.75||f>1.25||!this.isWhiteOrBlackRectangle(o,l,c,d))break}r=o,n=l,i=c,s=d,a=!a}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new K;this.compact=this.nbCenterLayers===5;var h=new ve(r.getX()+.5,r.getY()-.5),p=new ve(n.getX()+.5,n.getY()+.5),g=new ve(i.getX()-.5,i.getY()+.5),m=new ve(s.getX()-.5,s.getY()-.5);return this.expandSquare([h,p,g,m],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},t.prototype.getMatrixCenter=function(){var e,r,n,i;try{var s=new Pg(this.image).detect();e=s[0],r=s[1],n=s[2],i=s[3]}catch{var a=this.image.getWidth()/2,o=this.image.getHeight()/2;e=this.getFirstDifferent(new Wr(a+7,o-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new Wr(a+7,o+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new Wr(a-7,o+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new Wr(a-7,o-7),!1,-1,-1).toResultPoint()}var l=Ke.round((e.getX()+i.getX()+r.getX()+n.getX())/4),c=Ke.round((e.getY()+i.getY()+r.getY()+n.getY())/4);try{var s=new Pg(this.image,15,l,c).detect();e=s[0],r=s[1],n=s[2],i=s[3]}catch{e=this.getFirstDifferent(new Wr(l+7,c-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new Wr(l+7,c+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new Wr(l-7,c+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new Wr(l-7,c-7),!1,-1,-1).toResultPoint()}return l=Ke.round((e.getX()+i.getX()+r.getX()+n.getX())/4),c=Ke.round((e.getY()+i.getY()+r.getY()+n.getY())/4),new Wr(l,c)},t.prototype.getMatrixCornerPoints=function(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())},t.prototype.sampleGrid=function(e,r,n,i,s){var a=Ky.getInstance(),o=this.getDimension(),l=o/2-this.nbCenterLayers,c=o/2+this.nbCenterLayers;return a.sampleGrid(e,o,o,l,l,c,l,c,c,l,c,r.getX(),r.getY(),n.getX(),n.getY(),i.getX(),i.getY(),s.getX(),s.getY())},t.prototype.sampleLine=function(e,r,n){for(var i=0,s=this.distanceResultPoint(e,r),a=s/n,o=e.getX(),l=e.getY(),c=a*(r.getX()-e.getX())/s,d=a*(r.getY()-e.getY())/s,f=0;f<n;f++)this.image.get(Ke.round(o+f*c),Ke.round(l+f*d))&&(i|=1<<n-f-1);return i},t.prototype.isWhiteOrBlackRectangle=function(e,r,n,i){var s=3;e=new Wr(e.getX()-s,e.getY()+s),r=new Wr(r.getX()-s,r.getY()-s),n=new Wr(n.getX()+s,n.getY()-s),i=new Wr(i.getX()+s,i.getY()+s);var a=this.getColor(i,e);if(a===0)return!1;var o=this.getColor(e,r);return o!==a||(o=this.getColor(r,n),o!==a)?!1:(o=this.getColor(n,i),o===a)},t.prototype.getColor=function(e,r){for(var n=this.distancePoint(e,r),i=(r.getX()-e.getX())/n,s=(r.getY()-e.getY())/n,a=0,o=e.getX(),l=e.getY(),c=this.image.get(e.getX(),e.getY()),d=Math.ceil(n),f=0;f<d;f++)o+=i,l+=s,this.image.get(Ke.round(o),Ke.round(l))!==c&&a++;var h=a/n;return h>.1&&h<.9?0:h<=.1===c?1:-1},t.prototype.getFirstDifferent=function(e,r,n,i){for(var s=e.getX()+n,a=e.getY()+i;this.isValid(s,a)&&this.image.get(s,a)===r;)s+=n,a+=i;for(s-=n,a-=i;this.isValid(s,a)&&this.image.get(s,a)===r;)s+=n;for(s-=n;this.isValid(s,a)&&this.image.get(s,a)===r;)a+=i;return a-=i,new Wr(s,a)},t.prototype.expandSquare=function(e,r,n){var i=n/(2*r),s=e[0].getX()-e[2].getX(),a=e[0].getY()-e[2].getY(),o=(e[0].getX()+e[2].getX())/2,l=(e[0].getY()+e[2].getY())/2,c=new ve(o+i*s,l+i*a),d=new ve(o-i*s,l-i*a);s=e[1].getX()-e[3].getX(),a=e[1].getY()-e[3].getY(),o=(e[1].getX()+e[3].getX())/2,l=(e[1].getY()+e[3].getY())/2;var f=new ve(o+i*s,l+i*a),h=new ve(o-i*s,l-i*a),p=[c,f,d,h];return p},t.prototype.isValid=function(e,r){return e>=0&&e<this.image.getWidth()&&r>0&&r<this.image.getHeight()},t.prototype.isValidPoint=function(e){var r=Ke.round(e.getX()),n=Ke.round(e.getY());return this.isValid(r,n)},t.prototype.distancePoint=function(e,r){return Ke.distance(e.getX(),e.getY(),r.getX(),r.getY())},t.prototype.distanceResultPoint=function(e,r){return Ke.distance(e.getX(),e.getY(),r.getX(),r.getY())},t.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(Me.truncDivision(this.nbLayers-4,8)+1)+15},t}(),Og=function(){function t(){}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n=null,i=new d$(e.getBlackMatrix()),s=null,a=null;try{var o=i.detectMirror(!1);s=o.getPoints(),this.reportFoundResultPoints(r,s),a=new J_().decode(o)}catch(f){n=f}if(a==null)try{var o=i.detectMirror(!0);s=o.getPoints(),this.reportFoundResultPoints(r,s),a=new J_().decode(o)}catch(f){throw n??f}var l=new Tr(a.getText(),a.getRawBytes(),a.getNumBits(),s,Ce.AZTEC,vt.currentTimeMillis()),c=a.getByteSegments();c!=null&&l.putMetadata(mr.BYTE_SEGMENTS,c);var d=a.getECLevel();return d!=null&&l.putMetadata(mr.ERROR_CORRECTION_LEVEL,d),l},t.prototype.reportFoundResultPoints=function(e,r){if(e!=null){var n=e.get(Et.NEED_RESULT_POINT_CALLBACK);n!=null&&r.forEach(function(i,s,a){n.foundPossibleResultPoint(i)})}},t.prototype.reset=function(){},t}(),f$=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){f$(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new Og,r)||this}return e})(_c);var er=function(){function t(){}return t.prototype.decode=function(e,r){try{return this.doDecode(e,r)}catch{var n=r&&r.get(Et.TRY_HARDER)===!0;if(n&&e.isRotateSupported()){var i=e.rotateCounterClockwise(),s=this.doDecode(i,r),a=s.getResultMetadata(),o=270;a!==null&&a.get(mr.ORIENTATION)===!0&&(o=o+a.get(mr.ORIENTATION)%360),s.putMetadata(mr.ORIENTATION,o);var l=s.getResultPoints();if(l!==null)for(var c=i.getHeight(),d=0;d<l.length;d++)l[d]=new ve(c-l[d].getY()-1,l[d].getX());return s}else throw new K}},t.prototype.reset=function(){},t.prototype.doDecode=function(e,r){var n=e.getWidth(),i=e.getHeight(),s=new lr(n),a=r&&r.get(Et.TRY_HARDER)===!0,o=Math.max(1,i>>(a?8:5)),l;a?l=i:l=15;for(var c=Math.trunc(i/2),d=0;d<l;d++){var f=Math.trunc((d+1)/2),h=(d&1)===0,p=c+o*(h?f:-f);if(p<0||p>=i)break;try{s=e.getBlackRow(p,s)}catch{continue}for(var g=function(v){if(v===1&&(s.reverse(),r&&r.get(Et.NEED_RESULT_POINT_CALLBACK)===!0)){var _=new Map;r.forEach(function(A,E){return _.set(E,A)}),_.delete(Et.NEED_RESULT_POINT_CALLBACK),r=_}try{var w=m.decodeRow(p,s,r);if(v===1){w.putMetadata(mr.ORIENTATION,180);var S=w.getResultPoints();S!==null&&(S[0]=new ve(n-S[0].getX()-1,S[0].getY()),S[1]=new ve(n-S[1].getX()-1,S[1].getY()))}return{value:w}}catch{}},m=this,x=0;x<2;x++){var y=g(x);if(typeof y=="object")return y.value}}throw new K},t.recordPattern=function(e,r,n){for(var i=n.length,s=0;s<i;s++)n[s]=0;var a=e.getSize();if(r>=a)throw new K;for(var o=!e.get(r),l=0,c=r;c<a;){if(e.get(c)!==o)n[l]++;else{if(++l===i)break;n[l]=1,o=!o}c++}if(!(l===i||l===i-1&&c===a))throw new K},t.recordPatternInReverse=function(e,r,n){for(var i=n.length,s=e.get(r);r>0&&i>=0;)e.get(--r)!==s&&(i--,s=!s);if(i>=0)throw new K;t.recordPattern(e,r+1,n)},t.patternMatchVariance=function(e,r,n){for(var i=e.length,s=0,a=0,o=0;o<i;o++)s+=e[o],a+=r[o];if(s<a)return Number.POSITIVE_INFINITY;var l=s/a;n*=l;for(var c=0,d=0;d<i;d++){var f=e[d],h=r[d]*l,p=f>h?f-h:h-f;if(p>n)return Number.POSITIVE_INFINITY;c+=p}return c/s},t}(),h$=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),tb=function(t){h$(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.findStartPattern=function(r){for(var n=r.getSize(),i=r.getNextSet(0),s=0,a=Int32Array.from([0,0,0,0,0,0]),o=i,l=!1,c=6,d=i;d<n;d++)if(r.get(d)!==l)a[s]++;else{if(s===c-1){for(var f=e.MAX_AVG_VARIANCE,h=-1,p=e.CODE_START_A;p<=e.CODE_START_C;p++){var g=er.patternMatchVariance(a,e.CODE_PATTERNS[p],e.MAX_INDIVIDUAL_VARIANCE);g<f&&(f=g,h=p)}if(h>=0&&r.isRange(Math.max(0,o-(d-o)/2),o,!1))return Int32Array.from([o,d,h]);o+=a[0]+a[1],a=a.slice(2,a.length),a[s-1]=0,a[s]=0,s--}else s++;a[s]=1,l=!l}throw new K},e.decodeCode=function(r,n,i){er.recordPattern(r,i,n);for(var s=e.MAX_AVG_VARIANCE,a=-1,o=0;o<e.CODE_PATTERNS.length;o++){var l=e.CODE_PATTERNS[o],c=this.patternMatchVariance(n,l,e.MAX_INDIVIDUAL_VARIANCE);c<s&&(s=c,a=o)}if(a>=0)return a;throw new K},e.prototype.decodeRow=function(r,n,i){var s=i&&i.get(Et.ASSUME_GS1)===!0,a=e.findStartPattern(n),o=a[2],l=0,c=new Uint8Array(20);c[l++]=o;var d;switch(o){case e.CODE_START_A:d=e.CODE_CODE_A;break;case e.CODE_START_B:d=e.CODE_CODE_B;break;case e.CODE_START_C:d=e.CODE_CODE_C;break;default:throw new ne}for(var f=!1,h=!1,p="",g=a[0],m=a[1],x=Int32Array.from([0,0,0,0,0,0]),y=0,v=0,_=o,w=0,S=!0,A=!1,E=!1;!f;){var P=h;switch(h=!1,y=v,v=e.decodeCode(n,x,m),c[l++]=v,v!==e.CODE_STOP&&(S=!0),v!==e.CODE_STOP&&(w++,_+=w*v),g=m,m+=x.reduce(function(X,D){return X+D},0),v){case e.CODE_START_A:case e.CODE_START_B:case e.CODE_START_C:throw new ne}switch(d){case e.CODE_CODE_A:if(v<64)E===A?p+=String.fromCharCode(32+v):p+=String.fromCharCode(32+v+128),E=!1;else if(v<96)E===A?p+=String.fromCharCode(v-64):p+=String.fromCharCode(v+64),E=!1;else switch(v!==e.CODE_STOP&&(S=!1),v){case e.CODE_FNC_1:s&&(p.length===0?p+="]C1":p+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_A:!A&&E?(A=!0,E=!1):A&&E?(A=!1,E=!1):E=!0;break;case e.CODE_SHIFT:h=!0,d=e.CODE_CODE_B;break;case e.CODE_CODE_B:d=e.CODE_CODE_B;break;case e.CODE_CODE_C:d=e.CODE_CODE_C;break;case e.CODE_STOP:f=!0;break}break;case e.CODE_CODE_B:if(v<96)E===A?p+=String.fromCharCode(32+v):p+=String.fromCharCode(32+v+128),E=!1;else switch(v!==e.CODE_STOP&&(S=!1),v){case e.CODE_FNC_1:s&&(p.length===0?p+="]C1":p+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_B:!A&&E?(A=!0,E=!1):A&&E?(A=!1,E=!1):E=!0;break;case e.CODE_SHIFT:h=!0,d=e.CODE_CODE_A;break;case e.CODE_CODE_A:d=e.CODE_CODE_A;break;case e.CODE_CODE_C:d=e.CODE_CODE_C;break;case e.CODE_STOP:f=!0;break}break;case e.CODE_CODE_C:if(v<100)v<10&&(p+="0"),p+=v;else switch(v!==e.CODE_STOP&&(S=!1),v){case e.CODE_FNC_1:s&&(p.length===0?p+="]C1":p+="");break;case e.CODE_CODE_A:d=e.CODE_CODE_A;break;case e.CODE_CODE_B:d=e.CODE_CODE_B;break;case e.CODE_STOP:f=!0;break}break}P&&(d=d===e.CODE_CODE_A?e.CODE_CODE_B:e.CODE_CODE_A)}var j=m-g;if(m=n.getNextUnset(m),!n.isRange(m,Math.min(n.getSize(),m+(m-g)/2),!1))throw new K;if(_-=w*y,_%103!==y)throw new or;var F=p.length;if(F===0)throw new K;F>0&&S&&(d===e.CODE_CODE_C?p=p.substring(0,F-2):p=p.substring(0,F-1));for(var H=(a[1]+a[0])/2,L=g+j/2,N=c.length,O=new Uint8Array(N),q=0;q<N;q++)O[q]=c[q];var Q=[new ve(H,r),new ve(L,r)];return new Tr(p,O,0,Q,Ce.CODE_128,new Date().getTime())},e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],e.MAX_AVG_VARIANCE=.25,e.MAX_INDIVIDUAL_VARIANCE=.7,e.CODE_SHIFT=98,e.CODE_CODE_C=99,e.CODE_CODE_B=100,e.CODE_CODE_A=101,e.CODE_FNC_1=102,e.CODE_FNC_2=97,e.CODE_FNC_3=96,e.CODE_FNC_4_A=101,e.CODE_FNC_4_B=100,e.CODE_START_A=103,e.CODE_START_B=104,e.CODE_START_C=105,e.CODE_STOP=106,e}(er),p$=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),o1=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},rb=function(t){p$(e,t);function e(r,n){r===void 0&&(r=!1),n===void 0&&(n=!1);var i=t.call(this)||this;return i.usingCheckDigit=r,i.extendedMode=n,i.decodeRowResult="",i.counters=new Int32Array(9),i}return e.prototype.decodeRow=function(r,n,i){var s,a,o,l,c=this.counters;c.fill(0),this.decodeRowResult="";var d=e.findAsteriskPattern(n,c),f=n.getNextSet(d[1]),h=n.getSize(),p,g;do{e.recordPattern(n,f,c);var m=e.toNarrowWidePattern(c);if(m<0)throw new K;p=e.patternToChar(m),this.decodeRowResult+=p,g=f;try{for(var x=(s=void 0,o1(c)),y=x.next();!y.done;y=x.next()){var v=y.value;f+=v}}catch(N){s={error:N}}finally{try{y&&!y.done&&(a=x.return)&&a.call(x)}finally{if(s)throw s.error}}f=n.getNextSet(f)}while(p!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var _=0;try{for(var w=o1(c),S=w.next();!S.done;S=w.next()){var v=S.value;_+=v}}catch(N){o={error:N}}finally{try{S&&!S.done&&(l=w.return)&&l.call(w)}finally{if(o)throw o.error}}var A=f-g-_;if(f!==h&&A*2<_)throw new K;if(this.usingCheckDigit){for(var E=this.decodeRowResult.length-1,P=0,j=0;j<E;j++)P+=e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(j));if(this.decodeRowResult.charAt(E)!==e.ALPHABET_STRING.charAt(P%43))throw new or;this.decodeRowResult=this.decodeRowResult.substring(0,E)}if(this.decodeRowResult.length===0)throw new K;var F;this.extendedMode?F=e.decodeExtended(this.decodeRowResult):F=this.decodeRowResult;var H=(d[1]+d[0])/2,L=g+_/2;return new Tr(F,null,0,[new ve(H,r),new ve(L,r)],Ce.CODE_39,new Date().getTime())},e.findAsteriskPattern=function(r,n){for(var i=r.getSize(),s=r.getNextSet(0),a=0,o=s,l=!1,c=n.length,d=s;d<i;d++)if(r.get(d)!==l)n[a]++;else{if(a===c-1){if(this.toNarrowWidePattern(n)===e.ASTERISK_ENCODING&&r.isRange(Math.max(0,o-Math.floor((d-o)/2)),o,!1))return[o,d];o+=n[0]+n[1],n.copyWithin(0,2,2+a-1),n[a-1]=0,n[a]=0,a--}else a++;n[a]=1,l=!l}throw new K},e.toNarrowWidePattern=function(r){var n,i,s=r.length,a=0,o;do{var l=2147483647;try{for(var c=(n=void 0,o1(r)),d=c.next();!d.done;d=c.next()){var f=d.value;f<l&&f>a&&(l=f)}}catch(m){n={error:m}}finally{try{d&&!d.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}a=l,o=0;for(var h=0,p=0,g=0;g<s;g++){var f=r[g];f>a&&(p|=1<<s-1-g,o++,h+=f)}if(o===3){for(var g=0;g<s&&o>0;g++){var f=r[g];if(f>a&&(o--,f*2>=h))return-1}return p}}while(o>3);return-1},e.patternToChar=function(r){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===r)return e.ALPHABET_STRING.charAt(n);if(r===e.ASTERISK_ENCODING)return"*";throw new K},e.decodeExtended=function(r){for(var n=r.length,i="",s=0;s<n;s++){var a=r.charAt(s);if(a==="+"||a==="$"||a==="%"||a==="/"){var o=r.charAt(s+1),l="\0";switch(a){case"+":if(o>="A"&&o<="Z")l=String.fromCharCode(o.charCodeAt(0)+32);else throw new ne;break;case"$":if(o>="A"&&o<="Z")l=String.fromCharCode(o.charCodeAt(0)-64);else throw new ne;break;case"%":if(o>="A"&&o<="E")l=String.fromCharCode(o.charCodeAt(0)-38);else if(o>="F"&&o<="J")l=String.fromCharCode(o.charCodeAt(0)-11);else if(o>="K"&&o<="O")l=String.fromCharCode(o.charCodeAt(0)+16);else if(o>="P"&&o<="T")l=String.fromCharCode(o.charCodeAt(0)+43);else if(o==="U")l="\0";else if(o==="V")l="@";else if(o==="W")l="`";else if(o==="X"||o==="Y"||o==="Z")l="";else throw new ne;break;case"/":if(o>="A"&&o<="O")l=String.fromCharCode(o.charCodeAt(0)-32);else if(o==="Z")l=":";else throw new ne;break}i+=l,s++}else i+=a}return i},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],e.ASTERISK_ENCODING=148,e}(er),m$=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),l1=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},nb=function(t){m$(e,t);function e(){var r=t.call(this)||this;return r.decodeRowResult="",r.counters=new Int32Array(6),r}return e.prototype.decodeRow=function(r,n,i){var s,a,o,l,c=this.findAsteriskPattern(n),d=n.getNextSet(c[1]),f=n.getSize(),h=this.counters;h.fill(0),this.decodeRowResult="";var p,g;do{e.recordPattern(n,d,h);var m=this.toPattern(h);if(m<0)throw new K;p=this.patternToChar(m),this.decodeRowResult+=p,g=d;try{for(var x=(s=void 0,l1(h)),y=x.next();!y.done;y=x.next()){var v=y.value;d+=v}}catch(j){s={error:j}}finally{try{y&&!y.done&&(a=x.return)&&a.call(x)}finally{if(s)throw s.error}}d=n.getNextSet(d)}while(p!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var _=0;try{for(var w=l1(h),S=w.next();!S.done;S=w.next()){var v=S.value;_+=v}}catch(j){o={error:j}}finally{try{S&&!S.done&&(l=w.return)&&l.call(w)}finally{if(o)throw o.error}}if(d===f||!n.get(d))throw new K;if(this.decodeRowResult.length<2)throw new K;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var A=this.decodeExtended(this.decodeRowResult),E=(c[1]+c[0])/2,P=g+_/2;return new Tr(A,null,0,[new ve(E,r),new ve(P,r)],Ce.CODE_93,new Date().getTime())},e.prototype.findAsteriskPattern=function(r){var n=r.getSize(),i=r.getNextSet(0);this.counters.fill(0);for(var s=this.counters,a=i,o=!1,l=s.length,c=0,d=i;d<n;d++)if(r.get(d)!==o)s[c]++;else{if(c===l-1){if(this.toPattern(s)===e.ASTERISK_ENCODING)return new Int32Array([a,d]);a+=s[0]+s[1],s.copyWithin(0,2,2+c-1),s[c-1]=0,s[c]=0,c--}else c++;s[c]=1,o=!o}throw new K},e.prototype.toPattern=function(r){var n,i,s=0;try{for(var a=l1(r),o=a.next();!o.done;o=a.next()){var l=o.value;s+=l}}catch(g){n={error:g}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}for(var c=0,d=r.length,f=0;f<d;f++){var h=Math.round(r[f]*9/s);if(h<1||h>4)return-1;if(f&1)c<<=h;else for(var p=0;p<h;p++)c=c<<1|1}return c},e.prototype.patternToChar=function(r){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===r)return e.ALPHABET_STRING.charAt(n);throw new K},e.prototype.decodeExtended=function(r){for(var n=r.length,i="",s=0;s<n;s++){var a=r.charAt(s);if(a>="a"&&a<="d"){if(s>=n-1)throw new ne;var o=r.charAt(s+1),l="\0";switch(a){case"d":if(o>="A"&&o<="Z")l=String.fromCharCode(o.charCodeAt(0)+32);else throw new ne;break;case"a":if(o>="A"&&o<="Z")l=String.fromCharCode(o.charCodeAt(0)-64);else throw new ne;break;case"b":if(o>="A"&&o<="E")l=String.fromCharCode(o.charCodeAt(0)-38);else if(o>="F"&&o<="J")l=String.fromCharCode(o.charCodeAt(0)-11);else if(o>="K"&&o<="O")l=String.fromCharCode(o.charCodeAt(0)+16);else if(o>="P"&&o<="T")l=String.fromCharCode(o.charCodeAt(0)+43);else if(o==="U")l="\0";else if(o==="V")l="@";else if(o==="W")l="`";else if(o>="X"&&o<="Z")l="";else throw new ne;break;case"c":if(o>="A"&&o<="O")l=String.fromCharCode(o.charCodeAt(0)-32);else if(o==="Z")l=":";else throw new ne;break}i+=l,s++}else i+=a}return i},e.prototype.checkChecksums=function(r){var n=r.length;this.checkOneChecksum(r,n-2,20),this.checkOneChecksum(r,n-1,15)},e.prototype.checkOneChecksum=function(r,n,i){for(var s=1,a=0,o=n-1;o>=0;o--)a+=s*e.ALPHABET_STRING.indexOf(r.charAt(o)),++s>i&&(s=1);if(r.charAt(n)!==e.ALPHABET_STRING[a%47])throw new or},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",e.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350],e.ASTERISK_ENCODING=e.CHARACTER_ENCODINGS[47],e}(er),g$=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),v$=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ib=function(t){g$(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.narrowLineWidth=-1,r}return e.prototype.decodeRow=function(r,n,i){var s,a,o=this.decodeStart(n),l=this.decodeEnd(n),c=new Fe;e.decodeMiddle(n,o[1],l[0],c);var d=c.toString(),f=null;i!=null&&(f=i.get(Et.ALLOWED_LENGTHS)),f==null&&(f=e.DEFAULT_ALLOWED_LENGTHS);var h=d.length,p=!1,g=0;try{for(var m=v$(f),x=m.next();!x.done;x=m.next()){var y=x.value;if(h===y){p=!0;break}y>g&&(g=y)}}catch(w){s={error:w}}finally{try{x&&!x.done&&(a=m.return)&&a.call(m)}finally{if(s)throw s.error}}if(!p&&h>g&&(p=!0),!p)throw new ne;var v=[new ve(o[1],r),new ve(l[0],r)],_=new Tr(d,null,0,v,Ce.ITF,new Date().getTime());return _},e.decodeMiddle=function(r,n,i,s){var a=new Int32Array(10),o=new Int32Array(5),l=new Int32Array(5);for(a.fill(0),o.fill(0),l.fill(0);n<i;){er.recordPattern(r,n,a);for(var c=0;c<5;c++){var d=2*c;o[c]=a[d],l[c]=a[d+1]}var f=e.decodeDigit(o);s.append(f.toString()),f=this.decodeDigit(l),s.append(f.toString()),a.forEach(function(h){n+=h})}},e.prototype.decodeStart=function(r){var n=e.skipWhiteSpace(r),i=e.findGuardPattern(r,n,e.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(r,i[0]),i},e.prototype.validateQuietZone=function(r,n){var i=this.narrowLineWidth*10;i=i<n?i:n;for(var s=n-1;i>0&&s>=0&&!r.get(s);s--)i--;if(i!==0)throw new K},e.skipWhiteSpace=function(r){var n=r.getSize(),i=r.getNextSet(0);if(i===n)throw new K;return i},e.prototype.decodeEnd=function(r){r.reverse();try{var n=e.skipWhiteSpace(r),i=void 0;try{i=e.findGuardPattern(r,n,e.END_PATTERN_REVERSED[0])}catch(a){a instanceof K&&(i=e.findGuardPattern(r,n,e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(r,i[0]);var s=i[0];return i[0]=r.getSize()-i[1],i[1]=r.getSize()-s,i}finally{r.reverse()}},e.findGuardPattern=function(r,n,i){var s=i.length,a=new Int32Array(s),o=r.getSize(),l=!1,c=0,d=n;a.fill(0);for(var f=n;f<o;f++)if(r.get(f)!==l)a[c]++;else{if(c===s-1){if(er.patternMatchVariance(a,i,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return[d,f];d+=a[0]+a[1],vt.arraycopy(a,2,a,0,c-1),a[c-1]=0,a[c]=0,c--}else c++;a[c]=1,l=!l}throw new K},e.decodeDigit=function(r){for(var n=e.MAX_AVG_VARIANCE,i=-1,s=e.PATTERNS.length,a=0;a<s;a++){var o=e.PATTERNS[a],l=er.patternMatchVariance(r,o,e.MAX_INDIVIDUAL_VARIANCE);l<n?(n=l,i=a):l===n&&(i=-1)}if(i>=0)return i%10;throw new K},e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],e.MAX_AVG_VARIANCE=.38,e.MAX_INDIVIDUAL_VARIANCE=.5,e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],e.START_PATTERN=Int32Array.from([1,1,1,1]),e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],e}(er),y$=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),lc=function(t){y$(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.decodeRowStringBuffer="",r}return e.findStartGuardPattern=function(r){for(var n=!1,i,s=0,a=Int32Array.from([0,0,0]);!n;){a=Int32Array.from([0,0,0]),i=e.findGuardPattern(r,s,!1,this.START_END_PATTERN,a);var o=i[0];s=i[1];var l=o-(s-o);l>=0&&(n=r.isRange(l,o,!1))}return i},e.checkChecksum=function(r){return e.checkStandardUPCEANChecksum(r)},e.checkStandardUPCEANChecksum=function(r){var n=r.length;if(n===0)return!1;var i=parseInt(r.charAt(n-1),10);return e.getStandardUPCEANChecksum(r.substring(0,n-1))===i},e.getStandardUPCEANChecksum=function(r){for(var n=r.length,i=0,s=n-1;s>=0;s-=2){var a=r.charAt(s).charCodeAt(0)-48;if(a<0||a>9)throw new ne;i+=a}i*=3;for(var s=n-2;s>=0;s-=2){var a=r.charAt(s).charCodeAt(0)-48;if(a<0||a>9)throw new ne;i+=a}return(1e3-i)%10},e.decodeEnd=function(r,n){return e.findGuardPattern(r,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e.findGuardPatternWithoutCounters=function(r,n,i,s){return this.findGuardPattern(r,n,i,s,new Int32Array(s.length))},e.findGuardPattern=function(r,n,i,s,a){var o=r.getSize();n=i?r.getNextUnset(n):r.getNextSet(n);for(var l=0,c=n,d=s.length,f=i,h=n;h<o;h++)if(r.get(h)!==f)a[l]++;else{if(l===d-1){if(er.patternMatchVariance(a,s,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return Int32Array.from([c,h]);c+=a[0]+a[1];for(var p=a.slice(2,a.length),g=0;g<l-1;g++)a[g]=p[g];a[l-1]=0,a[l]=0,l--}else l++;a[l]=1,f=!f}throw new K},e.decodeDigit=function(r,n,i,s){this.recordPattern(r,i,n);for(var a=this.MAX_AVG_VARIANCE,o=-1,l=s.length,c=0;c<l;c++){var d=s[c],f=er.patternMatchVariance(n,d,e.MAX_INDIVIDUAL_VARIANCE);f<a&&(a=f,o=c)}if(o>=0)return o;throw new K},e.MAX_AVG_VARIANCE=.48,e.MAX_INDIVIDUAL_VARIANCE=.7,e.START_END_PATTERN=Int32Array.from([1,1,1]),e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],e}(er),x$=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},w$=function(){function t(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,r,n){var i=this.decodeRowStringBuffer,s=this.decodeMiddle(r,n,i),a=i.toString(),o=t.parseExtensionString(a),l=[new ve((n[0]+n[1])/2,e),new ve(s,e)],c=new Tr(a,null,0,l,Ce.UPC_EAN_EXTENSION,new Date().getTime());return o!=null&&c.putAllMetadata(o),c},t.prototype.decodeMiddle=function(e,r,n){var i,s,a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;for(var o=e.getSize(),l=r[1],c=0,d=0;d<5&&l<o;d++){var f=lc.decodeDigit(e,a,l,lc.L_AND_G_PATTERNS);n+=String.fromCharCode(48+f%10);try{for(var h=(i=void 0,x$(a)),p=h.next();!p.done;p=h.next()){var g=p.value;l+=g}}catch(x){i={error:x}}finally{try{p&&!p.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}f>=10&&(c|=1<<4-d),d!==4&&(l=e.getNextSet(l),l=e.getNextUnset(l))}if(n.length!==5)throw new K;var m=this.determineCheckDigit(c);if(t.extensionChecksum(n.toString())!==m)throw new K;return l},t.extensionChecksum=function(e){for(var r=e.length,n=0,i=r-2;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-48;n*=3;for(var i=r-1;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-48;return n*=3,n%10},t.prototype.determineCheckDigit=function(e){for(var r=0;r<10;r++)if(e===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new K},t.parseExtensionString=function(e){if(e.length!==5)return null;var r=t.parseExtension5String(e);return r==null?null:new Map([[mr.SUGGESTED_PRICE,r]])},t.parseExtension5String=function(e){var r;switch(e.charAt(0)){case"0":r="";break;case"5":r="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}var n=parseInt(e.substring(1)),i=(n/100).toString(),s=n%100,a=s<10?"0"+s:s.toString();return r+i+"."+a},t}(),_$=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},b$=function(){function t(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,r,n){var i=this.decodeRowStringBuffer,s=this.decodeMiddle(r,n,i),a=i.toString(),o=t.parseExtensionString(a),l=[new ve((n[0]+n[1])/2,e),new ve(s,e)],c=new Tr(a,null,0,l,Ce.UPC_EAN_EXTENSION,new Date().getTime());return o!=null&&c.putAllMetadata(o),c},t.prototype.decodeMiddle=function(e,r,n){var i,s,a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;for(var o=e.getSize(),l=r[1],c=0,d=0;d<2&&l<o;d++){var f=lc.decodeDigit(e,a,l,lc.L_AND_G_PATTERNS);n+=String.fromCharCode(48+f%10);try{for(var h=(i=void 0,_$(a)),p=h.next();!p.done;p=h.next()){var g=p.value;l+=g}}catch(m){i={error:m}}finally{try{p&&!p.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}f>=10&&(c|=1<<1-d),d!==1&&(l=e.getNextSet(l),l=e.getNextUnset(l))}if(n.length!==2)throw new K;if(parseInt(n.toString())%4!==c)throw new K;return l},t.parseExtensionString=function(e){return e.length!==2?null:new Map([[mr.ISSUE_NUMBER,parseInt(e)]])},t}(),C$=function(){function t(){}return t.decodeRow=function(e,r,n){var i=lc.findGuardPattern(r,n,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var s=new w$;return s.decodeRow(e,r,i)}catch{var a=new b$;return a.decodeRow(e,r,i)}},t.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),t}(),S$=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Xt=function(t){S$(e,t);function e(){var r=t.call(this)||this;r.decodeRowStringBuffer="",e.L_AND_G_PATTERNS=e.L_PATTERNS.map(function(o){return Int32Array.from(o)});for(var n=10;n<20;n++){for(var i=e.L_PATTERNS[n-10],s=new Int32Array(i.length),a=0;a<i.length;a++)s[a]=i[i.length-a-1];e.L_AND_G_PATTERNS[n]=s}return r}return e.prototype.decodeRow=function(r,n,i){var s=e.findStartGuardPattern(n),a=i==null?null:i.get(Et.NEED_RESULT_POINT_CALLBACK);if(a!=null){var o=new ve((s[0]+s[1])/2,r);a.foundPossibleResultPoint(o)}var l=this.decodeMiddle(n,s,this.decodeRowStringBuffer),c=l.rowOffset,d=l.resultString;if(a!=null){var f=new ve(c,r);a.foundPossibleResultPoint(f)}var h=e.decodeEnd(n,c);if(a!=null){var p=new ve((h[0]+h[1])/2,r);a.foundPossibleResultPoint(p)}var g=h[1],m=g+(g-h[0]);if(m>=n.getSize()||!n.isRange(g,m,!1))throw new K;var x=d.toString();if(x.length<8)throw new ne;if(!e.checkChecksum(x))throw new or;var y=(s[1]+s[0])/2,v=(h[1]+h[0])/2,_=this.getBarcodeFormat(),w=[new ve(y,r),new ve(v,r)],S=new Tr(x,null,0,w,_,new Date().getTime()),A=0;try{var E=C$.decodeRow(r,n,h[1]);S.putMetadata(mr.UPC_EAN_EXTENSION,E.getText()),S.putAllMetadata(E.getResultMetadata()),S.addResultPoints(E.getResultPoints()),A=E.getText().length}catch{}var P=i==null?null:i.get(Et.ALLOWED_EAN_EXTENSIONS);if(P!=null){var j=!1;for(var F in P)if(A.toString()===F){j=!0;break}if(!j)throw new K}return _===Ce.EAN_13||Ce.UPC_A,S},e.checkChecksum=function(r){return e.checkStandardUPCEANChecksum(r)},e.checkStandardUPCEANChecksum=function(r){var n=r.length;if(n===0)return!1;var i=parseInt(r.charAt(n-1),10);return e.getStandardUPCEANChecksum(r.substring(0,n-1))===i},e.getStandardUPCEANChecksum=function(r){for(var n=r.length,i=0,s=n-1;s>=0;s-=2){var a=r.charAt(s).charCodeAt(0)-48;if(a<0||a>9)throw new ne;i+=a}i*=3;for(var s=n-2;s>=0;s-=2){var a=r.charAt(s).charCodeAt(0)-48;if(a<0||a>9)throw new ne;i+=a}return(1e3-i)%10},e.decodeEnd=function(r,n){return e.findGuardPattern(r,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e}(lc),E$=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),sb=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Rg=function(t){E$(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return e.prototype.decodeMiddle=function(r,n,i){var s,a,o,l,c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;for(var d=r.getSize(),f=n[1],h=0,p=0;p<6&&f<d;p++){var g=Xt.decodeDigit(r,c,f,Xt.L_AND_G_PATTERNS);i+=String.fromCharCode(48+g%10);try{for(var m=(s=void 0,sb(c)),x=m.next();!x.done;x=m.next()){var y=x.value;f+=y}}catch(S){s={error:S}}finally{try{x&&!x.done&&(a=m.return)&&a.call(m)}finally{if(s)throw s.error}}g>=10&&(h|=1<<5-p)}i=e.determineFirstDigit(i,h);var v=Xt.findGuardPattern(r,f,!0,Xt.MIDDLE_PATTERN,new Int32Array(Xt.MIDDLE_PATTERN.length).fill(0));f=v[1];for(var p=0;p<6&&f<d;p++){var g=Xt.decodeDigit(r,c,f,Xt.L_PATTERNS);i+=String.fromCharCode(48+g);try{for(var _=(o=void 0,sb(c)),w=_.next();!w.done;w=_.next()){var y=w.value;f+=y}}catch(E){o={error:E}}finally{try{w&&!w.done&&(l=_.return)&&l.call(_)}finally{if(o)throw o.error}}}return{rowOffset:f,resultString:i}},e.prototype.getBarcodeFormat=function(){return Ce.EAN_13},e.determineFirstDigit=function(r,n){for(var i=0;i<10;i++)if(n===this.FIRST_DIGIT_ENCODINGS[i])return r=String.fromCharCode(48+i)+r,r;throw new K},e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],e}(Xt),A$=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ab=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ob=function(t){A$(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return e.prototype.decodeMiddle=function(r,n,i){var s,a,o,l,c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;for(var d=r.getSize(),f=n[1],h=0;h<4&&f<d;h++){var p=Xt.decodeDigit(r,c,f,Xt.L_PATTERNS);i+=String.fromCharCode(48+p);try{for(var g=(s=void 0,ab(c)),m=g.next();!m.done;m=g.next()){var x=m.value;f+=x}}catch(w){s={error:w}}finally{try{m&&!m.done&&(a=g.return)&&a.call(g)}finally{if(s)throw s.error}}}var y=Xt.findGuardPattern(r,f,!0,Xt.MIDDLE_PATTERN,new Int32Array(Xt.MIDDLE_PATTERN.length).fill(0));f=y[1];for(var h=0;h<4&&f<d;h++){var p=Xt.decodeDigit(r,c,f,Xt.L_PATTERNS);i+=String.fromCharCode(48+p);try{for(var v=(o=void 0,ab(c)),_=v.next();!_.done;_=v.next()){var x=_.value;f+=x}}catch(A){o={error:A}}finally{try{_&&!_.done&&(l=v.return)&&l.call(v)}finally{if(o)throw o.error}}}return{rowOffset:f,resultString:i}},e.prototype.getBarcodeFormat=function(){return Ce.EAN_8},e}(Xt),N$=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),lb=function(t){N$(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.ean13Reader=new Rg,r}return e.prototype.getBarcodeFormat=function(){return Ce.UPC_A},e.prototype.decode=function(r,n){return this.maybeReturnResult(this.ean13Reader.decode(r))},e.prototype.decodeRow=function(r,n,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(r,n,i))},e.prototype.decodeMiddle=function(r,n,i){return this.ean13Reader.decodeMiddle(r,n,i)},e.prototype.maybeReturnResult=function(r){var n=r.getText();if(n.charAt(0)==="0"){var i=new Tr(n.substring(1),null,null,r.getResultPoints(),Ce.UPC_A);return r.getResultMetadata()!=null&&i.putAllMetadata(r.getResultMetadata()),i}else throw new K},e.prototype.reset=function(){this.ean13Reader.reset()},e}(Xt),T$=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),I$=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},cb=function(t){T$(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=new Int32Array(4),r}return e.prototype.decodeMiddle=function(r,n,i){var s,a,o=this.decodeMiddleCounters.map(function(x){return x});o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var l=r.getSize(),c=n[1],d=0,f=0;f<6&&c<l;f++){var h=e.decodeDigit(r,o,c,e.L_AND_G_PATTERNS);i+=String.fromCharCode(48+h%10);try{for(var p=(s=void 0,I$(o)),g=p.next();!g.done;g=p.next()){var m=g.value;c+=m}}catch(x){s={error:x}}finally{try{g&&!g.done&&(a=p.return)&&a.call(p)}finally{if(s)throw s.error}}h>=10&&(d|=1<<5-f)}return e.determineNumSysAndCheckDigit(new Fe(i),d),c},e.prototype.decodeEnd=function(r,n){return e.findGuardPatternWithoutCounters(r,n,!0,e.MIDDLE_END_PATTERN)},e.prototype.checkChecksum=function(r){return Xt.checkChecksum(e.convertUPCEtoUPCA(r))},e.determineNumSysAndCheckDigit=function(r,n){for(var i=0;i<=1;i++)for(var s=0;s<10;s++)if(n===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][s]){r.insert(0,"0"+i),r.append("0"+s);return}throw K.getNotFoundInstance()},e.prototype.getBarcodeFormat=function(){return Ce.UPC_E},e.convertUPCEtoUPCA=function(r){var n=r.slice(1,7).split("").map(function(a){return a.charCodeAt(0)}),i=new Fe;i.append(r.charAt(0));var s=n[5];switch(s){case 0:case 1:case 2:i.appendChars(n,0,2),i.append(s),i.append("0000"),i.appendChars(n,2,3);break;case 3:i.appendChars(n,0,3),i.append("00000"),i.appendChars(n,3,2);break;case 4:i.appendChars(n,0,4),i.append("00000"),i.append(n[4]);break;default:i.appendChars(n,0,5),i.append("0000"),i.append(s);break}return r.length>=8&&i.append(r.charAt(7)),i.toString()},e.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],e}(Xt),P$=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ub=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},c1=function(t){P$(e,t);function e(r){var n=t.call(this)||this,i=r==null?null:r.get(Et.POSSIBLE_FORMATS),s=[];return i!=null&&(i.indexOf(Ce.EAN_13)>-1&&s.push(new Rg),i.indexOf(Ce.UPC_A)>-1&&s.push(new lb),i.indexOf(Ce.EAN_8)>-1&&s.push(new ob),i.indexOf(Ce.UPC_E)>-1&&s.push(new cb)),s.length===0&&(s.push(new Rg),s.push(new lb),s.push(new ob),s.push(new cb)),n.readers=s,n}return e.prototype.decodeRow=function(r,n,i){var s,a;try{for(var o=ub(this.readers),l=o.next();!l.done;l=o.next()){var c=l.value;try{var d=c.decodeRow(r,n,i),f=d.getBarcodeFormat()===Ce.EAN_13&&d.getText().charAt(0)==="0",h=i==null?null:i.get(Et.POSSIBLE_FORMATS),p=h==null||h.includes(Ce.UPC_A);if(f&&p){var g=d.getRawBytes(),m=new Tr(d.getText().substring(1),g,g?g.length:null,d.getResultPoints(),Ce.UPC_A);return m.putAllMetadata(d.getResultMetadata()),m}return d}catch{}}}catch(x){s={error:x}}finally{try{l&&!l.done&&(a=o.return)&&a.call(o)}finally{if(s)throw s.error}}throw new K},e.prototype.reset=function(){var r,n;try{for(var i=ub(this.readers),s=i.next();!s.done;s=i.next()){var a=s.value;a.reset()}}catch(o){r={error:o}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},e}(er),O$=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),R$=function(t){O$(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},r}return e.prototype.decodeRow=function(r,n,i){var s=this.getValidRowData(n);if(!s)throw new K;var a=this.codaBarDecodeRow(s.row);if(!a)throw new K;return new Tr(a,null,0,[new ve(s.left,r),new ve(s.right,r)],Ce.CODABAR,new Date().getTime())},e.prototype.getValidRowData=function(r){var n=r.toArray(),i=n.indexOf(!0);if(i===-1)return null;var s=n.lastIndexOf(!0);if(s<=i)return null;n=n.slice(i,s+1);for(var a=[],o=n[0],l=1,c=1;c<n.length;c++)n[c]===o?l++:(o=n[c],a.push(l),l=1);return a.push(l),a.length<23&&(a.length+1)%8!==0?null:{row:a,left:i,right:s}},e.prototype.codaBarDecodeRow=function(r){for(var n=[],i=Math.ceil(r.reduce(function(l,c){return(l+c)/2},0));r.length>0;){var s=r.splice(0,8).splice(0,7),a=s.map(function(l){return l<i?"n":"w"}).join("");if(this.CODA_BAR_CHAR_SET[a]===void 0)return null;n.push(this.CODA_BAR_CHAR_SET[a])}var o=n.join("");return this.validCodaBarString(o)?o:null},e.prototype.validCodaBarString=function(r){var n=/^[A-D].{1,}[A-D]$/;return n.test(r)},e}(er),k$=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),D$=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Oa=function(t){k$(e,t);function e(){var r=t.call(this)||this;return r.decodeFinderCounters=new Int32Array(4),r.dataCharacterCounters=new Int32Array(8),r.oddRoundingErrors=new Array(4),r.evenRoundingErrors=new Array(4),r.oddCounts=new Array(r.dataCharacterCounters.length/2),r.evenCounts=new Array(r.dataCharacterCounters.length/2),r}return e.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},e.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},e.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},e.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},e.prototype.getOddCounts=function(){return this.oddCounts},e.prototype.getEvenCounts=function(){return this.evenCounts},e.prototype.parseFinderValue=function(r,n){for(var i=0;i<n.length;i++)if(er.patternMatchVariance(r,n[i],e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return i;throw new K},e.count=function(r){return Ke.sum(new Int32Array(r))},e.increment=function(r,n){for(var i=0,s=n[0],a=1;a<r.length;a++)n[a]>s&&(s=n[a],i=a);r[i]++},e.decrement=function(r,n){for(var i=0,s=n[0],a=1;a<r.length;a++)n[a]<s&&(s=n[a],i=a);r[i]--},e.isFinderPattern=function(r){var n,i,s=r[0]+r[1],a=s+r[2]+r[3],o=s/a;if(o>=e.MIN_FINDER_PATTERN_RATIO&&o<=e.MAX_FINDER_PATTERN_RATIO){var l=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER;try{for(var d=D$(r),f=d.next();!f.done;f=d.next()){var h=f.value;h>c&&(c=h),h<l&&(l=h)}}catch(p){n={error:p}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}return c<10*l}return!1},e.MAX_AVG_VARIANCE=.2,e.MAX_INDIVIDUAL_VARIANCE=.45,e.MIN_FINDER_PATTERN_RATIO=9.5/12,e.MAX_FINDER_PATTERN_RATIO=12.5/14,e}(er),Gh=function(){function t(e,r){this.value=e,this.checksumPortion=r}return t.prototype.getValue=function(){return this.value},t.prototype.getChecksumPortion=function(){return this.checksumPortion},t.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value&&this.checksumPortion===r.checksumPortion},t.prototype.hashCode=function(){return this.value^this.checksumPortion},t}(),Z8=function(){function t(e,r,n,i,s){this.value=e,this.startEnd=r,this.value=e,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new ve(n,s)),this.resultPoints.push(new ve(i,s))}return t.prototype.getValue=function(){return this.value},t.prototype.getStartEnd=function(){return this.startEnd},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.prototype.hashCode=function(){return this.value},t}(),j$=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},el=function(){function t(){}return t.getRSSvalue=function(e,r,n){var i,s,a=0;try{for(var o=j$(e),l=o.next();!l.done;l=o.next()){var c=l.value;a+=c}}catch(v){i={error:v}}finally{try{l&&!l.done&&(s=o.return)&&s.call(o)}finally{if(i)throw i.error}}for(var d=0,f=0,h=e.length,p=0;p<h-1;p++){var g=void 0;for(g=1,f|=1<<p;g<e[p];g++,f&=~(1<<p)){var m=t.combins(a-g-1,h-p-2);if(n&&f===0&&a-g-(h-p-1)>=h-p-1&&(m-=t.combins(a-g-(h-p),h-p-2)),h-p-1>1){for(var x=0,y=a-g-(h-p-2);y>r;y--)x+=t.combins(a-g-y-1,h-p-3);m-=x*(h-1-p)}else a-g>r&&m--;d+=m}a-=g}return d},t.combins=function(e,r){var n,i;e-r>r?(i=r,n=e-r):(i=e-r,n=r);for(var s=1,a=1,o=e;o>n;o--)s*=o,a<=i&&(s/=a,a++);for(;a<=i;)s/=a,a++;return s},t}(),F$=function(){function t(){}return t.buildBitArray=function(e){var r=e.length*2-1;e[e.length-1].getRightChar()==null&&(r-=1);for(var n=12*r,i=new lr(n),s=0,a=e[0],o=a.getRightChar().getValue(),l=11;l>=0;--l)o&1<<l&&i.set(s),s++;for(var l=1;l<e.length;++l){for(var c=e[l],d=c.getLeftChar().getValue(),f=11;f>=0;--f)d&1<<f&&i.set(s),s++;if(c.getRightChar()!==null)for(var h=c.getRightChar().getValue(),f=11;f>=0;--f)h&1<<f&&i.set(s),s++}return i},t}(),Ea=function(){function t(e,r){r?this.decodedInformation=null:(this.finished=e,this.decodedInformation=r)}return t.prototype.getDecodedInformation=function(){return this.decodedInformation},t.prototype.isFinished=function(){return this.finished},t}(),Yy=function(){function t(e){this.newPosition=e}return t.prototype.getNewPosition=function(){return this.newPosition},t}(),M$=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ln=function(t){M$(e,t);function e(r,n){var i=t.call(this,r)||this;return i.value=n,i}return e.prototype.getValue=function(){return this.value},e.prototype.isFNC1=function(){return this.value===e.FNC1},e.FNC1="$",e}(Yy),L$=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Aa=function(t){L$(e,t);function e(r,n,i){var s=t.call(this,r)||this;return i?(s.remaining=!0,s.remainingValue=s.remainingValue):(s.remaining=!1,s.remainingValue=0),s.newString=n,s}return e.prototype.getNewString=function(){return this.newString},e.prototype.isRemaining=function(){return this.remaining},e.prototype.getRemainingValue=function(){return this.remainingValue},e}(Yy),B$=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Lo=function(t){B$(e,t);function e(r,n,i){var s=t.call(this,r)||this;if(n<0||n>10||i<0||i>10)throw new ne;return s.firstDigit=n,s.secondDigit=i,s}return e.prototype.getFirstDigit=function(){return this.firstDigit},e.prototype.getSecondDigit=function(){return this.secondDigit},e.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},e.prototype.isFirstDigitFNC1=function(){return this.firstDigit===e.FNC1},e.prototype.isSecondDigitFNC1=function(){return this.secondDigit===e.FNC1},e.prototype.isAnyFNC1=function(){return this.firstDigit===e.FNC1||this.secondDigit===e.FNC1},e.FNC1=10,e}(Yy),_f=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},U$=function(){function t(){}return t.parseFieldsInGeneralPurpose=function(e){var r,n,i,s,a,o,l,c;if(!e)return null;if(e.length<2)throw new K;var d=e.substring(0,2);try{for(var f=_f(t.TWO_DIGIT_DATA_LENGTH),h=f.next();!h.done;h=f.next()){var p=h.value;if(p[0]===d)return p[1]===t.VARIABLE_LENGTH?t.processVariableAI(2,p[2],e):t.processFixedAI(2,p[1],e)}}catch(A){r={error:A}}finally{try{h&&!h.done&&(n=f.return)&&n.call(f)}finally{if(r)throw r.error}}if(e.length<3)throw new K;var g=e.substring(0,3);try{for(var m=_f(t.THREE_DIGIT_DATA_LENGTH),x=m.next();!x.done;x=m.next()){var p=x.value;if(p[0]===g)return p[1]===t.VARIABLE_LENGTH?t.processVariableAI(3,p[2],e):t.processFixedAI(3,p[1],e)}}catch(A){i={error:A}}finally{try{x&&!x.done&&(s=m.return)&&s.call(m)}finally{if(i)throw i.error}}try{for(var y=_f(t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),v=y.next();!v.done;v=y.next()){var p=v.value;if(p[0]===g)return p[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,p[2],e):t.processFixedAI(4,p[1],e)}}catch(A){a={error:A}}finally{try{v&&!v.done&&(o=y.return)&&o.call(y)}finally{if(a)throw a.error}}if(e.length<4)throw new K;var _=e.substring(0,4);try{for(var w=_f(t.FOUR_DIGIT_DATA_LENGTH),S=w.next();!S.done;S=w.next()){var p=S.value;if(p[0]===_)return p[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,p[2],e):t.processFixedAI(4,p[1],e)}}catch(A){l={error:A}}finally{try{S&&!S.done&&(c=w.return)&&c.call(w)}finally{if(l)throw l.error}}throw new K},t.processFixedAI=function(e,r,n){if(n.length<e)throw new K;var i=n.substring(0,e);if(n.length<e+r)throw new K;var s=n.substring(e,e+r),a=n.substring(e+r),o="("+i+")"+s,l=t.parseFieldsInGeneralPurpose(a);return l==null?o:o+l},t.processVariableAI=function(e,r,n){var i=n.substring(0,e),s;n.length<e+r?s=n.length:s=e+r;var a=n.substring(e,s),o=n.substring(s),l="("+i+")"+a,c=t.parseFieldsInGeneralPurpose(o);return c==null?l:l+c},t.VARIABLE_LENGTH=[],t.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",t.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",t.VARIABLE_LENGTH,20],["22",t.VARIABLE_LENGTH,29],["30",t.VARIABLE_LENGTH,8],["37",t.VARIABLE_LENGTH,8],["90",t.VARIABLE_LENGTH,30],["91",t.VARIABLE_LENGTH,30],["92",t.VARIABLE_LENGTH,30],["93",t.VARIABLE_LENGTH,30],["94",t.VARIABLE_LENGTH,30],["95",t.VARIABLE_LENGTH,30],["96",t.VARIABLE_LENGTH,30],["97",t.VARIABLE_LENGTH,3],["98",t.VARIABLE_LENGTH,30],["99",t.VARIABLE_LENGTH,30]],t.THREE_DIGIT_DATA_LENGTH=[["240",t.VARIABLE_LENGTH,30],["241",t.VARIABLE_LENGTH,30],["242",t.VARIABLE_LENGTH,6],["250",t.VARIABLE_LENGTH,30],["251",t.VARIABLE_LENGTH,30],["253",t.VARIABLE_LENGTH,17],["254",t.VARIABLE_LENGTH,20],["400",t.VARIABLE_LENGTH,30],["401",t.VARIABLE_LENGTH,30],["402",17],["403",t.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",t.VARIABLE_LENGTH,20],["421",t.VARIABLE_LENGTH,15],["422",3],["423",t.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",t.VARIABLE_LENGTH,15],["391",t.VARIABLE_LENGTH,18],["392",t.VARIABLE_LENGTH,15],["393",t.VARIABLE_LENGTH,18],["703",t.VARIABLE_LENGTH,30]],t.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",t.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",t.VARIABLE_LENGTH,20],["8003",t.VARIABLE_LENGTH,30],["8004",t.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",t.VARIABLE_LENGTH,30],["8008",t.VARIABLE_LENGTH,12],["8018",18],["8020",t.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",t.VARIABLE_LENGTH,70],["8200",t.VARIABLE_LENGTH,70]],t}(),Qf=function(){function t(e){this.buffer=new Fe,this.information=e}return t.prototype.decodeAllCodes=function(e,r){var n=r,i=null;do{var s=this.decodeGeneralPurposeField(n,i),a=U$.parseFieldsInGeneralPurpose(s.getNewString());if(a!=null&&e.append(a),s.isRemaining()?i=""+s.getRemainingValue():i=null,n===s.getNewPosition())break;n=s.getNewPosition()}while(!0);return e.toString()},t.prototype.isStillNumeric=function(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(var r=e;r<e+3;++r)if(this.information.get(r))return!0;return this.information.get(e+3)},t.prototype.decodeNumeric=function(e){if(e+7>this.information.getSize()){var r=this.extractNumericValueFromBitArray(e,4);return r===0?new Lo(this.information.getSize(),Lo.FNC1,Lo.FNC1):new Lo(this.information.getSize(),r-1,Lo.FNC1)}var n=this.extractNumericValueFromBitArray(e,7),i=(n-8)/11,s=(n-8)%11;return new Lo(e+7,i,s)},t.prototype.extractNumericValueFromBitArray=function(e,r){return t.extractNumericValueFromBitArray(this.information,e,r)},t.extractNumericValueFromBitArray=function(e,r,n){for(var i=0,s=0;s<n;++s)e.get(r+s)&&(i|=1<<n-s-1);return i},t.prototype.decodeGeneralPurposeField=function(e,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(e);var n=this.parseBlocks();return n!=null&&n.isRemaining()?new Aa(this.current.getPosition(),this.buffer.toString(),n.getRemainingValue()):new Aa(this.current.getPosition(),this.buffer.toString())},t.prototype.parseBlocks=function(){var e,r;do{var n=this.current.getPosition();this.current.isAlpha()?(r=this.parseAlphaBlock(),e=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),e=r.isFinished()):(r=this.parseNumericBlock(),e=r.isFinished());var i=n!==this.current.getPosition();if(!i&&!e)break}while(!e);return r.getDecodedInformation()},t.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){var r=void 0;return e.isSecondDigitFNC1()?r=new Aa(this.current.getPosition(),this.buffer.toString()):r=new Aa(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new Ea(!0,r)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){var r=new Aa(this.current.getPosition(),this.buffer.toString());return new Ea(!0,r)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Ea(!1)},t.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var r=new Aa(this.current.getPosition(),this.buffer.toString());return new Ea(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Ea(!1)},t.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var r=new Aa(this.current.getPosition(),this.buffer.toString());return new Ea(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Ea(!1)},t.prototype.isStillIsoIec646=function(e){if(e+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+7>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<116)return!0;if(e+8>this.information.getSize())return!1;var i=this.extractNumericValueFromBitArray(e,8);return i>=232&&i<253},t.prototype.decodeIsoIec646=function(e){var r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new Ln(e+5,Ln.FNC1);if(r>=5&&r<15)return new Ln(e+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<90)return new Ln(e+7,""+(n+1));if(n>=90&&n<116)return new Ln(e+7,""+(n+7));var i=this.extractNumericValueFromBitArray(e,8),s;switch(i){case 232:s="!";break;case 233:s='"';break;case 234:s="%";break;case 235:s="&";break;case 236:s="'";break;case 237:s="(";break;case 238:s=")";break;case 239:s="*";break;case 240:s="+";break;case 241:s=",";break;case 242:s="-";break;case 243:s=".";break;case 244:s="/";break;case 245:s=":";break;case 246:s=";";break;case 247:s="<";break;case 248:s="=";break;case 249:s=">";break;case 250:s="?";break;case 251:s="_";break;case 252:s=" ";break;default:throw new ne}return new Ln(e+8,s)},t.prototype.isStillAlpha=function(e){if(e+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+6>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,6);return n>=16&&n<63},t.prototype.decodeAlphanumeric=function(e){var r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new Ln(e+5,Ln.FNC1);if(r>=5&&r<15)return new Ln(e+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(e,6);if(n>=32&&n<58)return new Ln(e+6,""+(n+33));var i;switch(n){case 58:i="*";break;case 59:i=",";break;case 60:i="-";break;case 61:i=".";break;case 62:i="/";break;default:throw new kd("Decoding invalid alphanumeric value: "+n)}return new Ln(e+6,i)},t.prototype.isAlphaTo646ToAlphaLatch=function(e){if(e+1>this.information.getSize())return!1;for(var r=0;r<5&&r+e<this.information.getSize();++r)if(r===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+r))return!1;return!0},t.prototype.isAlphaOr646ToNumericLatch=function(e){if(e+3>this.information.getSize())return!1;for(var r=e;r<e+3;++r)if(this.information.get(r))return!1;return!0},t.prototype.isNumericToAlphaNumericLatch=function(e){if(e+1>this.information.getSize())return!1;for(var r=0;r<4&&r+e<this.information.getSize();++r)if(this.information.get(e+r))return!1;return!0},t}(),Q8=function(){function t(e){this.information=e,this.generalDecoder=new Qf(e)}return t.prototype.getInformation=function(){return this.information},t.prototype.getGeneralDecoder=function(){return this.generalDecoder},t}(),$$=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ai=function(t){$$(e,t);function e(r){return t.call(this,r)||this}return e.prototype.encodeCompressedGtin=function(r,n){r.append("(01)");var i=r.length();r.append("9"),this.encodeCompressedGtinWithoutAI(r,n,i)},e.prototype.encodeCompressedGtinWithoutAI=function(r,n,i){for(var s=0;s<4;++s){var a=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*s,10);a/100===0&&r.append("0"),a/10===0&&r.append("0"),r.append(a)}e.appendCheckDigit(r,i)},e.appendCheckDigit=function(r,n){for(var i=0,s=0;s<13;s++){var a=r.charAt(s+n).charCodeAt(0)-48;i+=s&1?a:3*a}i=10-i%10,i===10&&(i=0),r.append(i)},e.GTIN_SIZE=40,e}(Q8),V$=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),z$=function(t){V$(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){var r=new Fe;r.append("(01)");var n=r.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE,4);return r.append(i),this.encodeCompressedGtinWithoutAI(r,e.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(r,e.HEADER_SIZE+44)},e.HEADER_SIZE=4,e}(ai),H$=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),W$=function(t){H$(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){var r=new Fe;return this.getGeneralDecoder().decodeAllCodes(r,e.HEADER_SIZE)},e.HEADER_SIZE=5,e}(Q8),G$=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Jf=function(t){G$(e,t);function e(r){return t.call(this,r)||this}return e.prototype.encodeCompressedWeight=function(r,n,i){var s=this.getGeneralDecoder().extractNumericValueFromBitArray(n,i);this.addWeightCode(r,s);for(var a=this.checkWeight(s),o=1e5,l=0;l<5;++l)a/o===0&&r.append("0"),o/=10;r.append(a)},e}(ai),q$=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),J8=function(t){q$(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+Jf.GTIN_SIZE+e.WEIGHT_SIZE)throw new K;var r=new Fe;return this.encodeCompressedGtin(r,e.HEADER_SIZE),this.encodeCompressedWeight(r,e.HEADER_SIZE+Jf.GTIN_SIZE,e.WEIGHT_SIZE),r.toString()},e.HEADER_SIZE=5,e.WEIGHT_SIZE=15,e}(Jf),X$=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),K$=function(t){X$(e,t);function e(r){return t.call(this,r)||this}return e.prototype.addWeightCode=function(r,n){r.append("(3103)")},e.prototype.checkWeight=function(r){return r},e}(J8),Y$=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Z$=function(t){Y$(e,t);function e(r){return t.call(this,r)||this}return e.prototype.addWeightCode=function(r,n){n<1e4?r.append("(3202)"):r.append("(3203)")},e.prototype.checkWeight=function(r){return r<1e4?r:r-1e4},e}(J8),Q$=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),J$=function(t){Q$(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+ai.GTIN_SIZE)throw new K;var r=new Fe;this.encodeCompressedGtin(r,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+ai.GTIN_SIZE,e.LAST_DIGIT_SIZE);r.append("(392"),r.append(n),r.append(")");var i=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+ai.GTIN_SIZE+e.LAST_DIGIT_SIZE,null);return r.append(i.getNewString()),r.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e}(ai),eV=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),tV=function(t){eV(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+ai.GTIN_SIZE)throw new K;var r=new Fe;this.encodeCompressedGtin(r,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+ai.GTIN_SIZE,e.LAST_DIGIT_SIZE);r.append("(393"),r.append(n),r.append(")");var i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+ai.GTIN_SIZE+e.LAST_DIGIT_SIZE,e.FIRST_THREE_DIGITS_SIZE);i/100===0&&r.append("0"),i/10===0&&r.append("0"),r.append(i);var s=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+ai.GTIN_SIZE+e.LAST_DIGIT_SIZE+e.FIRST_THREE_DIGITS_SIZE,null);return r.append(s.getNewString()),r.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e.FIRST_THREE_DIGITS_SIZE=10,e}(ai),rV=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),bs=function(t){rV(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.dateCode=i,s.firstAIdigits=n,s}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE+e.DATE_SIZE)throw new K;var r=new Fe;return this.encodeCompressedGtin(r,e.HEADER_SIZE),this.encodeCompressedWeight(r,e.HEADER_SIZE+e.GTIN_SIZE,e.WEIGHT_SIZE),this.encodeCompressedDate(r,e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE),r.toString()},e.prototype.encodeCompressedDate=function(r,n){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(n,e.DATE_SIZE);if(i!==38400){r.append("("),r.append(this.dateCode),r.append(")");var s=i%32;i/=32;var a=i%12+1;i/=12;var o=i;o/10===0&&r.append("0"),r.append(o),a/10===0&&r.append("0"),r.append(a),s/10===0&&r.append("0"),r.append(s)}},e.prototype.addWeightCode=function(r,n){r.append("("),r.append(this.firstAIdigits),r.append(n/1e5),r.append(")")},e.prototype.checkWeight=function(r){return r%1e5},e.HEADER_SIZE=8,e.WEIGHT_SIZE=20,e.DATE_SIZE=16,e}(Jf);function nV(t){try{if(t.get(1))return new z$(t);if(!t.get(2))return new W$(t);var e=Qf.extractNumericValueFromBitArray(t,1,4);switch(e){case 4:return new K$(t);case 5:return new Z$(t)}var r=Qf.extractNumericValueFromBitArray(t,1,5);switch(r){case 12:return new J$(t);case 13:return new tV(t)}var n=Qf.extractNumericValueFromBitArray(t,1,7);switch(n){case 56:return new bs(t,"310","11");case 57:return new bs(t,"320","11");case 58:return new bs(t,"310","13");case 59:return new bs(t,"320","13");case 60:return new bs(t,"310","15");case 61:return new bs(t,"320","15");case 62:return new bs(t,"310","17");case 63:return new bs(t,"320","17")}}catch(i){throw console.log(i),new kd("unknown decoder: "+t)}}var db=function(){function t(e,r,n,i){this.leftchar=e,this.rightchar=r,this.finderpattern=n,this.maybeLast=i}return t.prototype.mayBeLast=function(){return this.maybeLast},t.prototype.getLeftChar=function(){return this.leftchar},t.prototype.getRightChar=function(){return this.rightchar},t.prototype.getFinderPattern=function(){return this.finderpattern},t.prototype.mustBeLast=function(){return this.rightchar==null},t.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},t.equals=function(e,r){return e instanceof t?t.equalsOrNull(e.leftchar,r.leftchar)&&t.equalsOrNull(e.rightchar,r.rightchar)&&t.equalsOrNull(e.finderpattern,r.finderpattern):!1},t.equalsOrNull=function(e,r){return e===null?r===null:t.equals(e,r)},t.prototype.hashCode=function(){var e=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return e},t}(),iV=function(){function t(e,r,n){this.pairs=e,this.rowNumber=r,this.wasReversed=n}return t.prototype.getPairs=function(){return this.pairs},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.isReversed=function(){return this.wasReversed},t.prototype.isEquivalent=function(e){return this.checkEqualitity(this,e)},t.prototype.toString=function(){return"{ "+this.pairs+" }"},t.prototype.equals=function(e,r){return e instanceof t?this.checkEqualitity(e,r)&&e.wasReversed===r.wasReversed:!1},t.prototype.checkEqualitity=function(e,r){if(!(!e||!r)){var n;return e.forEach(function(i,s){r.forEach(function(a){i.getLeftChar().getValue()===a.getLeftChar().getValue()&&i.getRightChar().getValue()===a.getRightChar().getValue()&&i.getFinderPatter().getValue()===a.getFinderPatter().getValue()&&(n=!0)})}),n}},t}(),sV=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Cs=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},aV=function(t){sV(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.pairs=new Array(e.MAX_PAIRS),r.rows=new Array,r.startEnd=[2],r}return e.prototype.decodeRow=function(r,n,i){this.pairs.length=0,this.startFromEven=!1;try{return e.constructResult(this.decodeRow2pairs(r,n))}catch{}return this.pairs.length=0,this.startFromEven=!0,e.constructResult(this.decodeRow2pairs(r,n))},e.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},e.prototype.decodeRow2pairs=function(r,n){for(var i=!1;!i;)try{this.pairs.push(this.retrieveNextPair(n,this.pairs,r))}catch(o){if(o instanceof K){if(!this.pairs.length)throw new K;i=!0}}if(this.checkChecksum())return this.pairs;var s;if(this.rows.length?s=!0:s=!1,this.storeRow(r,!1),s){var a=this.checkRowsBoolean(!1);if(a!=null||(a=this.checkRowsBoolean(!0),a!=null))return a}throw new K},e.prototype.checkRowsBoolean=function(r){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,r&&(this.rows=this.rows.reverse());var n=null;try{n=this.checkRows(new Array,0)}catch(i){console.log(i)}return r&&(this.rows=this.rows.reverse()),n},e.prototype.checkRows=function(r,n){for(var i,s,a=n;a<this.rows.length;a++){var o=this.rows[a];this.pairs.length=0;try{for(var l=(i=void 0,Cs(r)),c=l.next();!c.done;c=l.next()){var d=c.value;this.pairs.push(d.getPairs())}}catch(h){i={error:h}}finally{try{c&&!c.done&&(s=l.return)&&s.call(l)}finally{if(i)throw i.error}}if(this.pairs.push(o.getPairs()),!!e.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var f=new Array(r);f.push(o);try{return this.checkRows(f,a+1)}catch(h){console.log(h)}}}throw new K},e.isValidSequence=function(r){var n,i;try{for(var s=Cs(e.FINDER_PATTERN_SEQUENCES),a=s.next();!a.done;a=s.next()){var o=a.value;if(!(r.length>o.length)){for(var l=!0,c=0;c<r.length;c++)if(r[c].getFinderPattern().getValue()!==o[c]){l=!1;break}if(l)return!0}}}catch(d){n={error:d}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return!1},e.prototype.storeRow=function(r,n){for(var i=0,s=!1,a=!1;i<this.rows.length;){var o=this.rows[i];if(o.getRowNumber()>r){a=o.isEquivalent(this.pairs);break}s=o.isEquivalent(this.pairs),i++}a||s||e.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new iV(this.pairs,r,n)),this.removePartialRows(this.pairs,this.rows))},e.prototype.removePartialRows=function(r,n){var i,s,a,o,l,c;try{for(var d=Cs(n),f=d.next();!f.done;f=d.next()){var h=f.value;if(h.getPairs().length!==r.length){var p=!0;try{for(var g=(a=void 0,Cs(h.getPairs())),m=g.next();!m.done;m=g.next()){var x=m.value,y=!1;try{for(var v=(l=void 0,Cs(r)),_=v.next();!_.done;_=v.next()){var w=_.value;if(db.equals(x,w)){y=!0;break}}}catch(S){l={error:S}}finally{try{_&&!_.done&&(c=v.return)&&c.call(v)}finally{if(l)throw l.error}}y||(p=!1)}}catch(S){a={error:S}}finally{try{m&&!m.done&&(o=g.return)&&o.call(g)}finally{if(a)throw a.error}}}}}catch(S){i={error:S}}finally{try{f&&!f.done&&(s=d.return)&&s.call(d)}finally{if(i)throw i.error}}},e.isPartialRow=function(r,n){var i,s,a,o,l,c;try{for(var d=Cs(n),f=d.next();!f.done;f=d.next()){var h=f.value,p=!0;try{for(var g=(a=void 0,Cs(r)),m=g.next();!m.done;m=g.next()){var x=m.value,y=!1;try{for(var v=(l=void 0,Cs(h.getPairs())),_=v.next();!_.done;_=v.next()){var w=_.value;if(x.equals(w)){y=!0;break}}}catch(S){l={error:S}}finally{try{_&&!_.done&&(c=v.return)&&c.call(v)}finally{if(l)throw l.error}}if(!y){p=!1;break}}}catch(S){a={error:S}}finally{try{m&&!m.done&&(o=g.return)&&o.call(g)}finally{if(a)throw a.error}}if(p)return!0}}catch(S){i={error:S}}finally{try{f&&!f.done&&(s=d.return)&&s.call(d)}finally{if(i)throw i.error}}return!1},e.prototype.getRows=function(){return this.rows},e.constructResult=function(r){var n=F$.buildBitArray(r),i=nV(n),s=i.parseInformation(),a=r[0].getFinderPattern().getResultPoints(),o=r[r.length-1].getFinderPattern().getResultPoints(),l=[a[0],a[1],o[0],o[1]];return new Tr(s,null,null,l,Ce.RSS_EXPANDED,null)},e.prototype.checkChecksum=function(){var r=this.pairs.get(0),n=r.getLeftChar(),i=r.getRightChar();if(i===null)return!1;for(var s=i.getChecksumPortion(),a=2,o=1;o<this.pairs.size();++o){var l=this.pairs.get(o);s+=l.getLeftChar().getChecksumPortion(),a++;var c=l.getRightChar();c!=null&&(s+=c.getChecksumPortion(),a++)}s%=211;var d=211*(a-4)+s;return d===n.getValue()},e.getNextSecondBar=function(r,n){var i;return r.get(n)?(i=r.getNextUnset(n),i=r.getNextSet(i)):(i=r.getNextSet(n),i=r.getNextUnset(i)),i},e.prototype.retrieveNextPair=function(r,n,i){var s=n.length%2===0;this.startFromEven&&(s=!s);var a,o=!0,l=-1;do this.findNextPair(r,n,l),a=this.parseFoundFinderPattern(r,i,s),a===null?l=e.getNextSecondBar(r,this.startEnd[0]):o=!1;while(o);var c=this.decodeDataCharacter(r,a,s,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new K;var d;try{d=this.decodeDataCharacter(r,a,s,!1)}catch(f){d=null,console.log(f)}return new db(c,d,a,!0)},e.prototype.isEmptyPair=function(r){return r.length===0},e.prototype.findNextPair=function(r,n,i){var s=this.getDecodeFinderCounters();s[0]=0,s[1]=0,s[2]=0,s[3]=0;var a=r.getSize(),o;if(i>=0)o=i;else if(this.isEmptyPair(n))o=0;else{var l=n[n.length-1];o=l.getFinderPattern().getStartEnd()[1]}var c=n.length%2!==0;this.startFromEven&&(c=!c);for(var d=!1;o<a&&(d=!r.get(o),!!d);)o++;for(var f=0,h=o,p=o;p<a;p++)if(r.get(p)!==d)s[f]++;else{if(f===3){if(c&&e.reverseCounters(s),e.isFinderPattern(s)){this.startEnd[0]=h,this.startEnd[1]=p;return}c&&e.reverseCounters(s),h+=s[0]+s[1],s[0]=s[2],s[1]=s[3],s[2]=0,s[3]=0,f--}else f++;s[f]=1,d=!d}throw new K},e.reverseCounters=function(r){for(var n=r.length,i=0;i<n/2;++i){var s=r[i];r[i]=r[n-i-1],r[n-i-1]=s}},e.prototype.parseFoundFinderPattern=function(r,n,i){var s,a,o;if(i){for(var l=this.startEnd[0]-1;l>=0&&!r.get(l);)l--;l++,s=this.startEnd[0]-l,a=l,o=this.startEnd[1]}else a=this.startEnd[0],o=r.getNextUnset(this.startEnd[1]+1),s=o-this.startEnd[1];var c=this.getDecodeFinderCounters();vt.arraycopy(c,0,c,1,c.length-1),c[0]=s;var d;try{d=this.parseFinderValue(c,e.FINDER_PATTERNS)}catch{return null}return new Z8(d,[a,o],a,o,n)},e.prototype.decodeDataCharacter=function(r,n,i,s){for(var a=this.getDataCharacterCounters(),o=0;o<a.length;o++)a[o]=0;if(s)e.recordPatternInReverse(r,n.getStartEnd()[0],a);else{e.recordPattern(r,n.getStartEnd()[1],a);for(var l=0,c=a.length-1;l<c;l++,c--){var d=a[l];a[l]=a[c],a[c]=d}}var f=17,h=Ke.sum(new Int32Array(a))/f,p=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(h-p)/p>.3)throw new K;for(var g=this.getOddCounts(),m=this.getEvenCounts(),x=this.getOddRoundingErrors(),y=this.getEvenRoundingErrors(),l=0;l<a.length;l++){var v=1*a[l]/h,_=v+.5;if(_<1){if(v<.3)throw new K;_=1}else if(_>8){if(v>8.7)throw new K;_=8}var w=l/2;l&1?(m[w]=_,y[w]=v-_):(g[w]=_,x[w]=v-_)}this.adjustOddEvenCounts(f);for(var S=4*n.getValue()+(i?0:2)+(s?0:1)-1,A=0,E=0,l=g.length-1;l>=0;l--){if(e.isNotA1left(n,i,s)){var P=e.WEIGHTS[S][2*l];E+=g[l]*P}A+=g[l]}for(var j=0,l=m.length-1;l>=0;l--)if(e.isNotA1left(n,i,s)){var P=e.WEIGHTS[S][2*l+1];j+=m[l]*P}var F=E+j;if(A&1||A>13||A<4)throw new K;var H=(13-A)/2,L=e.SYMBOL_WIDEST[H],N=9-L,O=el.getRSSvalue(g,L,!0),q=el.getRSSvalue(m,N,!1),Q=e.EVEN_TOTAL_SUBSET[H],X=e.GSUM[H],D=O*Q+q+X;return new Gh(D,F)},e.isNotA1left=function(r,n,i){return!(r.getValue()===0&&n&&i)},e.prototype.adjustOddEvenCounts=function(r){var n=Ke.sum(new Int32Array(this.getOddCounts())),i=Ke.sum(new Int32Array(this.getEvenCounts())),s=!1,a=!1;n>13?a=!0:n<4&&(s=!0);var o=!1,l=!1;i>13?l=!0:i<4&&(o=!0);var c=n+i-r,d=(n&1)===1,f=(i&1)===0;if(c===1)if(d){if(f)throw new K;a=!0}else{if(!f)throw new K;l=!0}else if(c===-1)if(d){if(f)throw new K;s=!0}else{if(!f)throw new K;o=!0}else if(c===0){if(d){if(!f)throw new K;n<i?(s=!0,l=!0):(a=!0,o=!0)}else if(f)throw new K}else throw new K;if(s){if(a)throw new K;e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(a&&e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),o){if(l)throw new K;e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}l&&e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.SYMBOL_WIDEST=[7,5,4,3,1],e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],e.GSUM=[0,348,1388,2948,3988],e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],e.FINDER_PAT_A=0,e.FINDER_PAT_B=1,e.FINDER_PAT_C=2,e.FINDER_PAT_D=3,e.FINDER_PAT_E=4,e.FINDER_PAT_F=5,e.FINDER_PATTERN_SEQUENCES=[[e.FINDER_PAT_A,e.FINDER_PAT_A],[e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B],[e.FINDER_PAT_A,e.FINDER_PAT_C,e.FINDER_PAT_B,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_C],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F]],e.MAX_PAIRS=11,e}(Oa),oV=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),lV=function(t){oV(e,t);function e(r,n,i){var s=t.call(this,r,n)||this;return s.count=0,s.finderPattern=i,s}return e.prototype.getFinderPattern=function(){return this.finderPattern},e.prototype.getCount=function(){return this.count},e.prototype.incrementCount=function(){this.count++},e}(Gh),cV=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),u1=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},fb=function(t){cV(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.possibleLeftPairs=[],r.possibleRightPairs=[],r}return e.prototype.decodeRow=function(r,n,i){var s,a,o,l,c=this.decodePair(n,!1,r,i);e.addOrTally(this.possibleLeftPairs,c),n.reverse();var d=this.decodePair(n,!0,r,i);e.addOrTally(this.possibleRightPairs,d),n.reverse();try{for(var f=u1(this.possibleLeftPairs),h=f.next();!h.done;h=f.next()){var p=h.value;if(p.getCount()>1)try{for(var g=(o=void 0,u1(this.possibleRightPairs)),m=g.next();!m.done;m=g.next()){var x=m.value;if(x.getCount()>1&&e.checkChecksum(p,x))return e.constructResult(p,x)}}catch(y){o={error:y}}finally{try{m&&!m.done&&(l=g.return)&&l.call(g)}finally{if(o)throw o.error}}}}catch(y){s={error:y}}finally{try{h&&!h.done&&(a=f.return)&&a.call(f)}finally{if(s)throw s.error}}throw new K},e.addOrTally=function(r,n){var i,s;if(n!=null){var a=!1;try{for(var o=u1(r),l=o.next();!l.done;l=o.next()){var c=l.value;if(c.getValue()===n.getValue()){c.incrementCount(),a=!0;break}}}catch(d){i={error:d}}finally{try{l&&!l.done&&(s=o.return)&&s.call(o)}finally{if(i)throw i.error}}a||r.push(n)}},e.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},e.constructResult=function(r,n){for(var i=4537077*r.getValue()+n.getValue(),s=new String(i).toString(),a=new Fe,o=13-s.length;o>0;o--)a.append("0");a.append(s);for(var l=0,o=0;o<13;o++){var c=a.charAt(o).charCodeAt(0)-48;l+=o&1?c:3*c}l=10-l%10,l===10&&(l=0),a.append(l.toString());var d=r.getFinderPattern().getResultPoints(),f=n.getFinderPattern().getResultPoints();return new Tr(a.toString(),null,0,[d[0],d[1],f[0],f[1]],Ce.RSS_14,new Date().getTime())},e.checkChecksum=function(r,n){var i=(r.getChecksumPortion()+16*n.getChecksumPortion())%79,s=9*r.getFinderPattern().getValue()+n.getFinderPattern().getValue();return s>72&&s--,s>8&&s--,i===s},e.prototype.decodePair=function(r,n,i,s){try{var a=this.findFinderPattern(r,n),o=this.parseFoundFinderPattern(r,i,n,a),l=s==null?null:s.get(Et.NEED_RESULT_POINT_CALLBACK);if(l!=null){var c=(a[0]+a[1])/2;n&&(c=r.getSize()-1-c),l.foundPossibleResultPoint(new ve(c,i))}var d=this.decodeDataCharacter(r,o,!0),f=this.decodeDataCharacter(r,o,!1);return new lV(1597*d.getValue()+f.getValue(),d.getChecksumPortion()+4*f.getChecksumPortion(),o)}catch{return null}},e.prototype.decodeDataCharacter=function(r,n,i){for(var s=this.getDataCharacterCounters(),a=0;a<s.length;a++)s[a]=0;if(i)er.recordPatternInReverse(r,n.getStartEnd()[0],s);else{er.recordPattern(r,n.getStartEnd()[1]+1,s);for(var o=0,l=s.length-1;o<l;o++,l--){var c=s[o];s[o]=s[l],s[l]=c}}for(var d=i?16:15,f=Ke.sum(new Int32Array(s))/d,h=this.getOddCounts(),p=this.getEvenCounts(),g=this.getOddRoundingErrors(),m=this.getEvenRoundingErrors(),o=0;o<s.length;o++){var x=s[o]/f,y=Math.floor(x+.5);y<1?y=1:y>8&&(y=8);var v=Math.floor(o/2);o&1?(p[v]=y,m[v]=x-y):(h[v]=y,g[v]=x-y)}this.adjustOddEvenCounts(i,d);for(var _=0,w=0,o=h.length-1;o>=0;o--)w*=9,w+=h[o],_+=h[o];for(var S=0,A=0,o=p.length-1;o>=0;o--)S*=9,S+=p[o],A+=p[o];var E=w+3*S;if(i){if(_&1||_>12||_<4)throw new K;var P=(12-_)/2,j=e.OUTSIDE_ODD_WIDEST[P],F=9-j,H=el.getRSSvalue(h,j,!1),L=el.getRSSvalue(p,F,!0),N=e.OUTSIDE_EVEN_TOTAL_SUBSET[P],O=e.OUTSIDE_GSUM[P];return new Gh(H*N+L+O,E)}else{if(A&1||A>10||A<4)throw new K;var P=(10-A)/2,j=e.INSIDE_ODD_WIDEST[P],F=9-j,H=el.getRSSvalue(h,j,!0),L=el.getRSSvalue(p,F,!1),q=e.INSIDE_ODD_TOTAL_SUBSET[P],O=e.INSIDE_GSUM[P];return new Gh(L*q+H+O,E)}},e.prototype.findFinderPattern=function(r,n){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;for(var s=r.getSize(),a=!1,o=0;o<s&&(a=!r.get(o),n!==a);)o++;for(var l=0,c=o,d=o;d<s;d++)if(r.get(d)!==a)i[l]++;else{if(l===3){if(Oa.isFinderPattern(i))return[c,d];c+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,l--}else l++;i[l]=1,a=!a}throw new K},e.prototype.parseFoundFinderPattern=function(r,n,i,s){for(var a=r.get(s[0]),o=s[0]-1;o>=0&&a!==r.get(o);)o--;o++;var l=s[0]-o,c=this.getDecodeFinderCounters(),d=new Int32Array(c.length);vt.arraycopy(c,0,d,1,c.length-1),d[0]=l;var f=this.parseFinderValue(d,e.FINDER_PATTERNS),h=o,p=s[1];return i&&(h=r.getSize()-1-h,p=r.getSize()-1-p),new Z8(f,[o,s[1]],h,p,n)},e.prototype.adjustOddEvenCounts=function(r,n){var i=Ke.sum(new Int32Array(this.getOddCounts())),s=Ke.sum(new Int32Array(this.getEvenCounts())),a=!1,o=!1,l=!1,c=!1;r?(i>12?o=!0:i<4&&(a=!0),s>12?c=!0:s<4&&(l=!0)):(i>11?o=!0:i<5&&(a=!0),s>10?c=!0:s<4&&(l=!0));var d=i+s-n,f=(i&1)===(r?1:0),h=(s&1)===1;if(d===1)if(f){if(h)throw new K;o=!0}else{if(!h)throw new K;c=!0}else if(d===-1)if(f){if(h)throw new K;a=!0}else{if(!h)throw new K;l=!0}else if(d===0){if(f){if(!h)throw new K;i<s?(a=!0,c=!0):(o=!0,l=!0)}else if(h)throw new K}else throw new K;if(a){if(o)throw new K;Oa.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&Oa.decrement(this.getOddCounts(),this.getOddRoundingErrors()),l){if(c)throw new K;Oa.increment(this.getEvenCounts(),this.getOddRoundingErrors())}c&&Oa.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],e.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],e.OUTSIDE_GSUM=[0,161,961,2015,2715],e.INSIDE_GSUM=[0,336,1036,1516],e.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],e.INSIDE_ODD_WIDEST=[2,4,6,8],e.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],e}(Oa),uV=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),eu=function(t){uV(e,t);function e(r){var n=t.call(this)||this;n.readers=[];var i=r?r.get(Et.POSSIBLE_FORMATS):null,s=r&&r.get(Et.ASSUME_CODE_39_CHECK_DIGIT)!==void 0,a=r&&r.get(Et.ENABLE_CODE_39_EXTENDED_MODE)!==void 0;return i&&((i.includes(Ce.EAN_13)||i.includes(Ce.UPC_A)||i.includes(Ce.EAN_8)||i.includes(Ce.UPC_E))&&n.readers.push(new c1(r)),i.includes(Ce.CODE_39)&&n.readers.push(new rb(s,a)),i.includes(Ce.CODE_93)&&n.readers.push(new nb),i.includes(Ce.CODE_128)&&n.readers.push(new tb),i.includes(Ce.ITF)&&n.readers.push(new ib),i.includes(Ce.CODABAR)&&n.readers.push(new R$),i.includes(Ce.RSS_14)&&n.readers.push(new fb),i.includes(Ce.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),n.readers.push(new aV))),n.readers.length===0&&(n.readers.push(new c1(r)),n.readers.push(new rb),n.readers.push(new nb),n.readers.push(new c1(r)),n.readers.push(new tb),n.readers.push(new ib),n.readers.push(new fb)),n}return e.prototype.decodeRow=function(r,n,i){for(var s=0;s<this.readers.length;s++)try{return this.readers[s].decodeRow(r,n,i)}catch{}throw new K},e.prototype.reset=function(){this.readers.forEach(function(r){return r.reset()})},e}(er),dV=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),fV=function(t){dV(e,t);function e(r,n){return r===void 0&&(r=500),t.call(this,new eu(n),r,n)||this}return e}(_c),hb=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Je=function(){function t(e,r,n){this.ecCodewords=e,this.ecBlocks=[r],n&&this.ecBlocks.push(n)}return t.prototype.getECCodewords=function(){return this.ecCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t}(),Ze=function(){function t(e,r){this.count=e,this.dataCodewords=r}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t}(),hV=function(){function t(e,r,n,i,s,a){var o,l;this.versionNumber=e,this.symbolSizeRows=r,this.symbolSizeColumns=n,this.dataRegionSizeRows=i,this.dataRegionSizeColumns=s,this.ecBlocks=a;var c=0,d=a.getECCodewords(),f=a.getECBlocks();try{for(var h=hb(f),p=h.next();!p.done;p=h.next()){var g=p.value;c+=g.getCount()*(g.getDataCodewords()+d)}}catch(m){o={error:m}}finally{try{p&&!p.done&&(l=h.return)&&l.call(h)}finally{if(o)throw o.error}}this.totalCodewords=c}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},t.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},t.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},t.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t.getVersionForDimensions=function(e,r){var n,i;if(e&1||r&1)throw new ne;try{for(var s=hb(t.VERSIONS),a=s.next();!a.done;a=s.next()){var o=a.value;if(o.symbolSizeRows===e&&o.symbolSizeColumns===r)return o}}catch(l){n={error:l}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}throw new ne},t.prototype.toString=function(){return""+this.versionNumber},t.buildVersions=function(){return[new t(1,10,10,8,8,new Je(5,new Ze(1,3))),new t(2,12,12,10,10,new Je(7,new Ze(1,5))),new t(3,14,14,12,12,new Je(10,new Ze(1,8))),new t(4,16,16,14,14,new Je(12,new Ze(1,12))),new t(5,18,18,16,16,new Je(14,new Ze(1,18))),new t(6,20,20,18,18,new Je(18,new Ze(1,22))),new t(7,22,22,20,20,new Je(20,new Ze(1,30))),new t(8,24,24,22,22,new Je(24,new Ze(1,36))),new t(9,26,26,24,24,new Je(28,new Ze(1,44))),new t(10,32,32,14,14,new Je(36,new Ze(1,62))),new t(11,36,36,16,16,new Je(42,new Ze(1,86))),new t(12,40,40,18,18,new Je(48,new Ze(1,114))),new t(13,44,44,20,20,new Je(56,new Ze(1,144))),new t(14,48,48,22,22,new Je(68,new Ze(1,174))),new t(15,52,52,24,24,new Je(42,new Ze(2,102))),new t(16,64,64,14,14,new Je(56,new Ze(2,140))),new t(17,72,72,16,16,new Je(36,new Ze(4,92))),new t(18,80,80,18,18,new Je(48,new Ze(4,114))),new t(19,88,88,20,20,new Je(56,new Ze(4,144))),new t(20,96,96,22,22,new Je(68,new Ze(4,174))),new t(21,104,104,24,24,new Je(56,new Ze(6,136))),new t(22,120,120,18,18,new Je(68,new Ze(6,175))),new t(23,132,132,20,20,new Je(62,new Ze(8,163))),new t(24,144,144,22,22,new Je(62,new Ze(8,156),new Ze(2,155))),new t(25,8,18,6,16,new Je(7,new Ze(1,5))),new t(26,8,32,6,14,new Je(11,new Ze(1,10))),new t(27,12,26,10,24,new Je(14,new Ze(1,16))),new t(28,12,36,10,16,new Je(18,new Ze(1,22))),new t(29,16,36,14,16,new Je(24,new Ze(1,32))),new t(30,16,48,14,22,new Je(28,new Ze(1,49)))]},t.VERSIONS=t.buildVersions(),t}(),pV=function(){function t(e){var r=e.getHeight();if(r<8||r>144||r&1)throw new ne;this.version=t.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new $i(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return t.prototype.getVersion=function(){return this.version},t.readVersion=function(e){var r=e.getHeight(),n=e.getWidth();return hV.getVersionForDimensions(r,n)},t.prototype.readCodewords=function(){var e=new Int8Array(this.version.getTotalCodewords()),r=0,n=4,i=0,s=this.mappingBitMatrix.getHeight(),a=this.mappingBitMatrix.getWidth(),o=!1,l=!1,c=!1,d=!1;do if(n===s&&i===0&&!o)e[r++]=this.readCorner1(s,a)&255,n-=2,i+=2,o=!0;else if(n===s-2&&i===0&&a&3&&!l)e[r++]=this.readCorner2(s,a)&255,n-=2,i+=2,l=!0;else if(n===s+4&&i===2&&!(a&7)&&!c)e[r++]=this.readCorner3(s,a)&255,n-=2,i+=2,c=!0;else if(n===s-2&&i===0&&(a&7)===4&&!d)e[r++]=this.readCorner4(s,a)&255,n-=2,i+=2,d=!0;else{do n<s&&i>=0&&!this.readMappingMatrix.get(i,n)&&(e[r++]=this.readUtah(n,i,s,a)&255),n-=2,i+=2;while(n>=0&&i<a);n+=1,i+=3;do n>=0&&i<a&&!this.readMappingMatrix.get(i,n)&&(e[r++]=this.readUtah(n,i,s,a)&255),n+=2,i-=2;while(n<s&&i>=0);n+=3,i+=1}while(n<s||i<a);if(r!==this.version.getTotalCodewords())throw new ne;return e},t.prototype.readModule=function(e,r,n,i){return e<0&&(e+=n,r+=4-(n+4&7)),r<0&&(r+=i,e+=4-(i+4&7)),this.readMappingMatrix.set(r,e),this.mappingBitMatrix.get(r,e)},t.prototype.readUtah=function(e,r,n,i){var s=0;return this.readModule(e-2,r-2,n,i)&&(s|=1),s<<=1,this.readModule(e-2,r-1,n,i)&&(s|=1),s<<=1,this.readModule(e-1,r-2,n,i)&&(s|=1),s<<=1,this.readModule(e-1,r-1,n,i)&&(s|=1),s<<=1,this.readModule(e-1,r,n,i)&&(s|=1),s<<=1,this.readModule(e,r-2,n,i)&&(s|=1),s<<=1,this.readModule(e,r-1,n,i)&&(s|=1),s<<=1,this.readModule(e,r,n,i)&&(s|=1),s},t.prototype.readCorner1=function(e,r){var n=0;return this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,1,e,r)&&(n|=1),n<<=1,this.readModule(e-1,2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(2,r-1,e,r)&&(n|=1),n<<=1,this.readModule(3,r-1,e,r)&&(n|=1),n},t.prototype.readCorner2=function(e,r){var n=0;return this.readModule(e-3,0,e,r)&&(n|=1),n<<=1,this.readModule(e-2,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(0,r-4,e,r)&&(n|=1),n<<=1,this.readModule(0,r-3,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n},t.prototype.readCorner3=function(e,r){var n=0;return this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(0,r-3,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-3,e,r)&&(n|=1),n<<=1,this.readModule(1,r-2,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n},t.prototype.readCorner4=function(e,r){var n=0;return this.readModule(e-3,0,e,r)&&(n|=1),n<<=1,this.readModule(e-2,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(2,r-1,e,r)&&(n|=1),n<<=1,this.readModule(3,r-1,e,r)&&(n|=1),n},t.prototype.extractDataRegion=function(e){var r=this.version.getSymbolSizeRows(),n=this.version.getSymbolSizeColumns();if(e.getHeight()!==r)throw new Se("Dimension of bitMatrix must match the version size");for(var i=this.version.getDataRegionSizeRows(),s=this.version.getDataRegionSizeColumns(),a=r/i|0,o=n/s|0,l=a*i,c=o*s,d=new $i(c,l),f=0;f<a;++f)for(var h=f*i,p=0;p<o;++p)for(var g=p*s,m=0;m<i;++m)for(var x=f*(i+2)+1+m,y=h+m,v=0;v<s;++v){var _=p*(s+2)+1+v;if(e.get(_,x)){var w=g+v;d.set(w,y)}}return d},t}(),pb=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},mV=function(){function t(e,r){this.numDataCodewords=e,this.codewords=r}return t.getDataBlocks=function(e,r){var n,i,s,a,o=r.getECBlocks(),l=0,c=o.getECBlocks();try{for(var d=pb(c),f=d.next();!f.done;f=d.next()){var h=f.value;l+=h.getCount()}}catch(O){n={error:O}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}var p=new Array(l),g=0;try{for(var m=pb(c),x=m.next();!x.done;x=m.next())for(var h=x.value,y=0;y<h.getCount();y++){var v=h.getDataCodewords(),_=o.getECCodewords()+v;p[g++]=new t(v,new Uint8Array(_))}}catch(O){s={error:O}}finally{try{x&&!x.done&&(a=m.return)&&a.call(m)}finally{if(s)throw s.error}}for(var w=p[0].codewords.length,S=w-o.getECCodewords(),A=S-1,E=0,y=0;y<A;y++)for(var P=0;P<g;P++)p[P].codewords[y]=e[E++];for(var j=r.getVersionNumber()===24,F=j?8:g,P=0;P<F;P++)p[P].codewords[S-1]=e[E++];for(var H=p[0].codewords.length,y=S;y<H;y++)for(var P=0;P<g;P++){var L=j?(P+8)%g:P,N=j&&L>7?y-1:y;p[L].codewords[N]=e[E++]}if(E!==e.length)throw new Se;return p},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t}(),eT=function(){function t(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}return t.prototype.getBitOffset=function(){return this.bitOffset},t.prototype.getByteOffset=function(){return this.byteOffset},t.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new Se(""+e);var r=0,n=this.bitOffset,i=this.byteOffset,s=this.bytes;if(n>0){var a=8-n,o=e<a?e:a,l=a-o,c=255>>8-o<<l;r=(s[i]&c)>>l,e-=o,n+=o,n===8&&(n=0,i++)}if(e>0){for(;e>=8;)r=r<<8|s[i]&255,i++,e-=8;if(e>0){var l=8-e,c=255>>l<<l;r=r<<e|(s[i]&c)>>l,n+=e}}return this.bitOffset=n,this.byteOffset=i,r},t.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},t}(),Wt;(function(t){t[t.PAD_ENCODE=0]="PAD_ENCODE",t[t.ASCII_ENCODE=1]="ASCII_ENCODE",t[t.C40_ENCODE=2]="C40_ENCODE",t[t.TEXT_ENCODE=3]="TEXT_ENCODE",t[t.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",t[t.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",t[t.BASE256_ENCODE=6]="BASE256_ENCODE"})(Wt||(Wt={}));var gV=function(){function t(){}return t.decode=function(e){var r=new eT(e),n=new Fe,i=new Fe,s=new Array,a=Wt.ASCII_ENCODE;do if(a===Wt.ASCII_ENCODE)a=this.decodeAsciiSegment(r,n,i);else{switch(a){case Wt.C40_ENCODE:this.decodeC40Segment(r,n);break;case Wt.TEXT_ENCODE:this.decodeTextSegment(r,n);break;case Wt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,n);break;case Wt.EDIFACT_ENCODE:this.decodeEdifactSegment(r,n);break;case Wt.BASE256_ENCODE:this.decodeBase256Segment(r,n,s);break;default:throw new ne}a=Wt.ASCII_ENCODE}while(a!==Wt.PAD_ENCODE&&r.available()>0);return i.length()>0&&n.append(i.toString()),new Jp(e,n.toString(),s.length===0?null:s,null)},t.decodeAsciiSegment=function(e,r,n){var i=!1;do{var s=e.readBits(8);if(s===0)throw new ne;if(s<=128)return i&&(s+=128),r.append(String.fromCharCode(s-1)),Wt.ASCII_ENCODE;if(s===129)return Wt.PAD_ENCODE;if(s<=229){var a=s-130;a<10&&r.append("0"),r.append(""+a)}else switch(s){case 230:return Wt.C40_ENCODE;case 231:return Wt.BASE256_ENCODE;case 232:r.append("");break;case 233:case 234:break;case 235:i=!0;break;case 236:r.append("[)>05"),n.insert(0,"");break;case 237:r.append("[)>06"),n.insert(0,"");break;case 238:return Wt.ANSIX12_ENCODE;case 239:return Wt.TEXT_ENCODE;case 240:return Wt.EDIFACT_ENCODE;case 241:break;default:if(s!==254||e.available()!==0)throw new ne;break}}while(e.available()>0);return Wt.ASCII_ENCODE},t.decodeC40Segment=function(e,r){var n=!1,i=[],s=0;do{if(e.available()===8)return;var a=e.readBits(8);if(a===254)return;this.parseTwoBytes(a,e.readBits(8),i);for(var o=0;o<3;o++){var l=i[o];switch(s){case 0:if(l<3)s=l+1;else if(l<this.C40_BASIC_SET_CHARS.length){var c=this.C40_BASIC_SET_CHARS[l];n?(r.append(String.fromCharCode(c.charCodeAt(0)+128)),n=!1):r.append(c)}else throw new ne;break;case 1:n?(r.append(String.fromCharCode(l+128)),n=!1):r.append(String.fromCharCode(l)),s=0;break;case 2:if(l<this.C40_SHIFT2_SET_CHARS.length){var c=this.C40_SHIFT2_SET_CHARS[l];n?(r.append(String.fromCharCode(c.charCodeAt(0)+128)),n=!1):r.append(c)}else switch(l){case 27:r.append("");break;case 30:n=!0;break;default:throw new ne}s=0;break;case 3:n?(r.append(String.fromCharCode(l+224)),n=!1):r.append(String.fromCharCode(l+96)),s=0;break;default:throw new ne}}}while(e.available()>0)},t.decodeTextSegment=function(e,r){var n=!1,i=[],s=0;do{if(e.available()===8)return;var a=e.readBits(8);if(a===254)return;this.parseTwoBytes(a,e.readBits(8),i);for(var o=0;o<3;o++){var l=i[o];switch(s){case 0:if(l<3)s=l+1;else if(l<this.TEXT_BASIC_SET_CHARS.length){var c=this.TEXT_BASIC_SET_CHARS[l];n?(r.append(String.fromCharCode(c.charCodeAt(0)+128)),n=!1):r.append(c)}else throw new ne;break;case 1:n?(r.append(String.fromCharCode(l+128)),n=!1):r.append(String.fromCharCode(l)),s=0;break;case 2:if(l<this.TEXT_SHIFT2_SET_CHARS.length){var c=this.TEXT_SHIFT2_SET_CHARS[l];n?(r.append(String.fromCharCode(c.charCodeAt(0)+128)),n=!1):r.append(c)}else switch(l){case 27:r.append("");break;case 30:n=!0;break;default:throw new ne}s=0;break;case 3:if(l<this.TEXT_SHIFT3_SET_CHARS.length){var c=this.TEXT_SHIFT3_SET_CHARS[l];n?(r.append(String.fromCharCode(c.charCodeAt(0)+128)),n=!1):r.append(c),s=0}else throw new ne;break;default:throw new ne}}}while(e.available()>0)},t.decodeAnsiX12Segment=function(e,r){var n=[];do{if(e.available()===8)return;var i=e.readBits(8);if(i===254)return;this.parseTwoBytes(i,e.readBits(8),n);for(var s=0;s<3;s++){var a=n[s];switch(a){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(a<14)r.append(String.fromCharCode(a+44));else if(a<40)r.append(String.fromCharCode(a+51));else throw new ne;break}}}while(e.available()>0)},t.parseTwoBytes=function(e,r,n){var i=(e<<8)+r-1,s=Math.floor(i/1600);n[0]=s,i-=s*1600,s=Math.floor(i/40),n[1]=s,n[2]=i-s*40},t.decodeEdifactSegment=function(e,r){do{if(e.available()<=16)return;for(var n=0;n<4;n++){var i=e.readBits(6);if(i===31){var s=8-e.getBitOffset();s!==8&&e.readBits(s);return}i&32||(i|=64),r.append(String.fromCharCode(i))}}while(e.available()>0)},t.decodeBase256Segment=function(e,r,n){var i=1+e.getByteOffset(),s=this.unrandomize255State(e.readBits(8),i++),a;if(s===0?a=e.available()/8|0:s<250?a=s:a=250*(s-249)+this.unrandomize255State(e.readBits(8),i++),a<0)throw new ne;for(var o=new Uint8Array(a),l=0;l<a;l++){if(e.available()<8)throw new ne;o[l]=this.unrandomize255State(e.readBits(8),i++)}n.push(o);try{r.append(Pn.decode(o,He.ISO88591))}catch(c){throw new kd("Platform does not support required encoding: "+c.message)}},t.unrandomize255State=function(e,r){var n=149*r%255+1,i=e-n;return i>=0?i:i+256},t.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],t.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],t.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],t.TEXT_SHIFT2_SET_CHARS=t.C40_SHIFT2_SET_CHARS,t.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""],t}(),vV=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},yV=function(){function t(){this.rsDecoder=new e0(Zr.DATA_MATRIX_FIELD_256)}return t.prototype.decode=function(e){var r,n,i=new pV(e),s=i.getVersion(),a=i.readCodewords(),o=mV.getDataBlocks(a,s),l=0;try{for(var c=vV(o),d=c.next();!d.done;d=c.next()){var f=d.value;l+=f.getNumDataCodewords()}}catch(_){r={error:_}}finally{try{d&&!d.done&&(n=c.return)&&n.call(c)}finally{if(r)throw r.error}}for(var h=new Uint8Array(l),p=o.length,g=0;g<p;g++){var m=o[g],x=m.getCodewords(),y=m.getNumDataCodewords();this.correctErrors(x,y);for(var v=0;v<y;v++)h[v*p+g]=x[v]}return gV.decode(h)},t.prototype.correctErrors=function(e,r){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-r)}catch{throw new or}for(var i=0;i<r;i++)e[i]=n[i]},t}(),xV=function(){function t(e){this.image=e,this.rectangleDetector=new Pg(this.image)}return t.prototype.detect=function(){var e=this.rectangleDetector.detect(),r=this.detectSolid1(e);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new K;r=this.shiftToModuleCenter(r);var n=r[0],i=r[1],s=r[2],a=r[3],o=this.transitionsBetween(n,a)+1,l=this.transitionsBetween(s,a)+1;(o&1)===1&&(o+=1),(l&1)===1&&(l+=1),4*o<7*l&&4*l<7*o&&(o=l=Math.max(o,l));var c=t.sampleGrid(this.image,n,i,s,a,o,l);return new Xy(c,[n,i,s,a])},t.shiftPoint=function(e,r,n){var i=(r.getX()-e.getX())/(n+1),s=(r.getY()-e.getY())/(n+1);return new ve(e.getX()+i,e.getY()+s)},t.moveAway=function(e,r,n){var i=e.getX(),s=e.getY();return i<r?i-=1:i+=1,s<n?s-=1:s+=1,new ve(i,s)},t.prototype.detectSolid1=function(e){var r=e[0],n=e[1],i=e[3],s=e[2],a=this.transitionsBetween(r,n),o=this.transitionsBetween(n,i),l=this.transitionsBetween(i,s),c=this.transitionsBetween(s,r),d=a,f=[s,r,n,i];return d>o&&(d=o,f[0]=r,f[1]=n,f[2]=i,f[3]=s),d>l&&(d=l,f[0]=n,f[1]=i,f[2]=s,f[3]=r),d>c&&(f[0]=i,f[1]=s,f[2]=r,f[3]=n),f},t.prototype.detectSolid2=function(e){var r=e[0],n=e[1],i=e[2],s=e[3],a=this.transitionsBetween(r,s),o=t.shiftPoint(n,i,(a+1)*4),l=t.shiftPoint(i,n,(a+1)*4),c=this.transitionsBetween(o,r),d=this.transitionsBetween(l,s);return c<d?(e[0]=r,e[1]=n,e[2]=i,e[3]=s):(e[0]=n,e[1]=i,e[2]=s,e[3]=r),e},t.prototype.correctTopRight=function(e){var r=e[0],n=e[1],i=e[2],s=e[3],a=this.transitionsBetween(r,s),o=this.transitionsBetween(n,s),l=t.shiftPoint(r,n,(o+1)*4),c=t.shiftPoint(i,n,(a+1)*4);a=this.transitionsBetween(l,s),o=this.transitionsBetween(c,s);var d=new ve(s.getX()+(i.getX()-n.getX())/(a+1),s.getY()+(i.getY()-n.getY())/(a+1)),f=new ve(s.getX()+(r.getX()-n.getX())/(o+1),s.getY()+(r.getY()-n.getY())/(o+1));if(!this.isValid(d))return this.isValid(f)?f:null;if(!this.isValid(f))return d;var h=this.transitionsBetween(l,d)+this.transitionsBetween(c,d),p=this.transitionsBetween(l,f)+this.transitionsBetween(c,f);return h>p?d:f},t.prototype.shiftToModuleCenter=function(e){var r=e[0],n=e[1],i=e[2],s=e[3],a=this.transitionsBetween(r,s)+1,o=this.transitionsBetween(i,s)+1,l=t.shiftPoint(r,n,o*4),c=t.shiftPoint(i,n,a*4);a=this.transitionsBetween(l,s)+1,o=this.transitionsBetween(c,s)+1,(a&1)===1&&(a+=1),(o&1)===1&&(o+=1);var d=(r.getX()+n.getX()+i.getX()+s.getX())/4,f=(r.getY()+n.getY()+i.getY()+s.getY())/4;r=t.moveAway(r,d,f),n=t.moveAway(n,d,f),i=t.moveAway(i,d,f),s=t.moveAway(s,d,f);var h,p;return l=t.shiftPoint(r,n,o*4),l=t.shiftPoint(l,s,a*4),h=t.shiftPoint(n,r,o*4),h=t.shiftPoint(h,i,a*4),c=t.shiftPoint(i,s,o*4),c=t.shiftPoint(c,n,a*4),p=t.shiftPoint(s,i,o*4),p=t.shiftPoint(p,r,a*4),[l,h,c,p]},t.prototype.isValid=function(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()},t.sampleGrid=function(e,r,n,i,s,a,o){var l=Ky.getInstance();return l.sampleGrid(e,a,o,.5,.5,a-.5,.5,a-.5,o-.5,.5,o-.5,r.getX(),r.getY(),s.getX(),s.getY(),i.getX(),i.getY(),n.getX(),n.getY())},t.prototype.transitionsBetween=function(e,r){var n=Math.trunc(e.getX()),i=Math.trunc(e.getY()),s=Math.trunc(r.getX()),a=Math.trunc(r.getY()),o=Math.abs(a-i)>Math.abs(s-n);if(o){var l=n;n=i,i=l,l=s,s=a,a=l}for(var c=Math.abs(s-n),d=Math.abs(a-i),f=-c/2,h=i<a?1:-1,p=n<s?1:-1,g=0,m=this.image.get(o?i:n,o?n:i),x=n,y=i;x!==s;x+=p){var v=this.image.get(o?y:x,o?x:y);if(v!==m&&(g++,m=v),f+=d,f>0){if(y===a)break;y+=h,f-=c}}return g},t}(),kg=function(){function t(){this.decoder=new yV}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n,i;if(r!=null&&r.has(Et.PURE_BARCODE)){var s=t.extractPureBits(e.getBlackMatrix());n=this.decoder.decode(s),i=t.NO_POINTS}else{var a=new xV(e.getBlackMatrix()).detect();n=this.decoder.decode(a.getBits()),i=a.getPoints()}var o=n.getRawBytes(),l=new Tr(n.getText(),o,8*o.length,i,Ce.DATA_MATRIX,vt.currentTimeMillis()),c=n.getByteSegments();c!=null&&l.putMetadata(mr.BYTE_SEGMENTS,c);var d=n.getECLevel();return d!=null&&l.putMetadata(mr.ERROR_CORRECTION_LEVEL,d),l},t.prototype.reset=function(){},t.extractPureBits=function(e){var r=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(r==null||n==null)throw new K;var i=this.moduleSize(r,e),s=r[1],a=n[1],o=r[0],l=n[0],c=(l-o+1)/i,d=(a-s+1)/i;if(c<=0||d<=0)throw new K;var f=i/2;s+=f,o+=f;for(var h=new $i(c,d),p=0;p<d;p++)for(var g=s+p*i,m=0;m<c;m++)e.get(o+m*i,g)&&h.set(m,p);return h},t.moduleSize=function(e,r){for(var n=r.getWidth(),i=e[0],s=e[1];i<n&&r.get(i,s);)i++;if(i===n)throw new K;var a=i-e[0];if(a===0)throw new K;return a},t.NO_POINTS=[],t}(),wV=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){wV(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new kg,r)||this}return e})(_c);var tl;(function(t){t[t.L=0]="L",t[t.M=1]="M",t[t.Q=2]="Q",t[t.H=3]="H"})(tl||(tl={}));var _V=function(){function t(e,r,n){this.value=e,this.stringValue=r,this.bits=n,t.FOR_BITS.set(n,this),t.FOR_VALUE.set(e,this)}return t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.fromString=function(e){switch(e){case"L":return t.L;case"M":return t.M;case"Q":return t.Q;case"H":return t.H;default:throw new Un(e+"not available")}},t.prototype.toString=function(){return this.stringValue},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.forBits=function(e){if(e<0||e>=t.FOR_BITS.size)throw new Se;return t.FOR_BITS.get(e)},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.L=new t(tl.L,"L",1),t.M=new t(tl.M,"M",0),t.Q=new t(tl.Q,"Q",3),t.H=new t(tl.H,"H",2),t}(),bV=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},tT=function(){function t(e){this.errorCorrectionLevel=_V.forBits(e>>3&3),this.dataMask=e&7}return t.numBitsDiffering=function(e,r){return Me.bitCount(e^r)},t.decodeFormatInformation=function(e,r){var n=t.doDecodeFormatInformation(e,r);return n!==null?n:t.doDecodeFormatInformation(e^t.FORMAT_INFO_MASK_QR,r^t.FORMAT_INFO_MASK_QR)},t.doDecodeFormatInformation=function(e,r){var n,i,s=Number.MAX_SAFE_INTEGER,a=0;try{for(var o=bV(t.FORMAT_INFO_DECODE_LOOKUP),l=o.next();!l.done;l=o.next()){var c=l.value,d=c[0];if(d===e||d===r)return new t(c[1]);var f=t.numBitsDiffering(e,d);f<s&&(a=c[1],s=f),e!==r&&(f=t.numBitsDiffering(r,d),f<s&&(a=c[1],s=f))}}catch(h){n={error:h}}finally{try{l&&!l.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return s<=3?new t(a):null},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getDataMask=function(){return this.dataMask},t.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask},t.FORMAT_INFO_MASK_QR=21522,t.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],t}(),CV=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},U=function(){function t(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.ecCodewordsPerBlock=e,this.ecBlocks=r}return t.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},t.prototype.getNumBlocks=function(){var e,r,n=0,i=this.ecBlocks;try{for(var s=CV(i),a=s.next();!a.done;a=s.next()){var o=a.value;n+=o.getCount()}}catch(l){e={error:l}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}return n},t.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},t.prototype.getECBlocks=function(){return this.ecBlocks},t}(),T=function(){function t(e,r){this.count=e,this.dataCodewords=r}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t}(),SV=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},co=function(){function t(e,r){for(var n,i,s=[],a=2;a<arguments.length;a++)s[a-2]=arguments[a];this.versionNumber=e,this.alignmentPatternCenters=r,this.ecBlocks=s;var o=0,l=s[0].getECCodewordsPerBlock(),c=s[0].getECBlocks();try{for(var d=SV(c),f=d.next();!f.done;f=d.next()){var h=f.value;o+=h.getCount()*(h.getDataCodewords()+l)}}catch(p){n={error:p}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}this.totalCodewords=o}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},t.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.getValue()]},t.getProvisionalVersionForDimension=function(e){if(e%4!==1)throw new ne;try{return this.getVersionForNumber((e-17)/4)}catch{throw new ne}},t.getVersionForNumber=function(e){if(e<1||e>40)throw new Se;return t.VERSIONS[e-1]},t.decodeVersionInformation=function(e){for(var r=Number.MAX_SAFE_INTEGER,n=0,i=0;i<t.VERSION_DECODE_INFO.length;i++){var s=t.VERSION_DECODE_INFO[i];if(s===e)return t.getVersionForNumber(i+7);var a=tT.numBitsDiffering(e,s);a<r&&(n=i+7,r=a)}return r<=3?t.getVersionForNumber(n):null},t.prototype.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),r=new $i(e);r.setRegion(0,0,9,9),r.setRegion(e-8,0,8,9),r.setRegion(0,e-8,9,8);for(var n=this.alignmentPatternCenters.length,i=0;i<n;i++)for(var s=this.alignmentPatternCenters[i]-2,a=0;a<n;a++)i===0&&(a===0||a===n-1)||i===n-1&&a===0||r.setRegion(this.alignmentPatternCenters[a]-2,s,5,5);return r.setRegion(6,9,1,e-17),r.setRegion(9,6,e-17,1),this.versionNumber>6&&(r.setRegion(e-11,0,3,6),r.setRegion(0,e-11,6,3)),r},t.prototype.toString=function(){return""+this.versionNumber},t.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),t.VERSIONS=[new t(1,new Int32Array(0),new U(7,new T(1,19)),new U(10,new T(1,16)),new U(13,new T(1,13)),new U(17,new T(1,9))),new t(2,Int32Array.from([6,18]),new U(10,new T(1,34)),new U(16,new T(1,28)),new U(22,new T(1,22)),new U(28,new T(1,16))),new t(3,Int32Array.from([6,22]),new U(15,new T(1,55)),new U(26,new T(1,44)),new U(18,new T(2,17)),new U(22,new T(2,13))),new t(4,Int32Array.from([6,26]),new U(20,new T(1,80)),new U(18,new T(2,32)),new U(26,new T(2,24)),new U(16,new T(4,9))),new t(5,Int32Array.from([6,30]),new U(26,new T(1,108)),new U(24,new T(2,43)),new U(18,new T(2,15),new T(2,16)),new U(22,new T(2,11),new T(2,12))),new t(6,Int32Array.from([6,34]),new U(18,new T(2,68)),new U(16,new T(4,27)),new U(24,new T(4,19)),new U(28,new T(4,15))),new t(7,Int32Array.from([6,22,38]),new U(20,new T(2,78)),new U(18,new T(4,31)),new U(18,new T(2,14),new T(4,15)),new U(26,new T(4,13),new T(1,14))),new t(8,Int32Array.from([6,24,42]),new U(24,new T(2,97)),new U(22,new T(2,38),new T(2,39)),new U(22,new T(4,18),new T(2,19)),new U(26,new T(4,14),new T(2,15))),new t(9,Int32Array.from([6,26,46]),new U(30,new T(2,116)),new U(22,new T(3,36),new T(2,37)),new U(20,new T(4,16),new T(4,17)),new U(24,new T(4,12),new T(4,13))),new t(10,Int32Array.from([6,28,50]),new U(18,new T(2,68),new T(2,69)),new U(26,new T(4,43),new T(1,44)),new U(24,new T(6,19),new T(2,20)),new U(28,new T(6,15),new T(2,16))),new t(11,Int32Array.from([6,30,54]),new U(20,new T(4,81)),new U(30,new T(1,50),new T(4,51)),new U(28,new T(4,22),new T(4,23)),new U(24,new T(3,12),new T(8,13))),new t(12,Int32Array.from([6,32,58]),new U(24,new T(2,92),new T(2,93)),new U(22,new T(6,36),new T(2,37)),new U(26,new T(4,20),new T(6,21)),new U(28,new T(7,14),new T(4,15))),new t(13,Int32Array.from([6,34,62]),new U(26,new T(4,107)),new U(22,new T(8,37),new T(1,38)),new U(24,new T(8,20),new T(4,21)),new U(22,new T(12,11),new T(4,12))),new t(14,Int32Array.from([6,26,46,66]),new U(30,new T(3,115),new T(1,116)),new U(24,new T(4,40),new T(5,41)),new U(20,new T(11,16),new T(5,17)),new U(24,new T(11,12),new T(5,13))),new t(15,Int32Array.from([6,26,48,70]),new U(22,new T(5,87),new T(1,88)),new U(24,new T(5,41),new T(5,42)),new U(30,new T(5,24),new T(7,25)),new U(24,new T(11,12),new T(7,13))),new t(16,Int32Array.from([6,26,50,74]),new U(24,new T(5,98),new T(1,99)),new U(28,new T(7,45),new T(3,46)),new U(24,new T(15,19),new T(2,20)),new U(30,new T(3,15),new T(13,16))),new t(17,Int32Array.from([6,30,54,78]),new U(28,new T(1,107),new T(5,108)),new U(28,new T(10,46),new T(1,47)),new U(28,new T(1,22),new T(15,23)),new U(28,new T(2,14),new T(17,15))),new t(18,Int32Array.from([6,30,56,82]),new U(30,new T(5,120),new T(1,121)),new U(26,new T(9,43),new T(4,44)),new U(28,new T(17,22),new T(1,23)),new U(28,new T(2,14),new T(19,15))),new t(19,Int32Array.from([6,30,58,86]),new U(28,new T(3,113),new T(4,114)),new U(26,new T(3,44),new T(11,45)),new U(26,new T(17,21),new T(4,22)),new U(26,new T(9,13),new T(16,14))),new t(20,Int32Array.from([6,34,62,90]),new U(28,new T(3,107),new T(5,108)),new U(26,new T(3,41),new T(13,42)),new U(30,new T(15,24),new T(5,25)),new U(28,new T(15,15),new T(10,16))),new t(21,Int32Array.from([6,28,50,72,94]),new U(28,new T(4,116),new T(4,117)),new U(26,new T(17,42)),new U(28,new T(17,22),new T(6,23)),new U(30,new T(19,16),new T(6,17))),new t(22,Int32Array.from([6,26,50,74,98]),new U(28,new T(2,111),new T(7,112)),new U(28,new T(17,46)),new U(30,new T(7,24),new T(16,25)),new U(24,new T(34,13))),new t(23,Int32Array.from([6,30,54,78,102]),new U(30,new T(4,121),new T(5,122)),new U(28,new T(4,47),new T(14,48)),new U(30,new T(11,24),new T(14,25)),new U(30,new T(16,15),new T(14,16))),new t(24,Int32Array.from([6,28,54,80,106]),new U(30,new T(6,117),new T(4,118)),new U(28,new T(6,45),new T(14,46)),new U(30,new T(11,24),new T(16,25)),new U(30,new T(30,16),new T(2,17))),new t(25,Int32Array.from([6,32,58,84,110]),new U(26,new T(8,106),new T(4,107)),new U(28,new T(8,47),new T(13,48)),new U(30,new T(7,24),new T(22,25)),new U(30,new T(22,15),new T(13,16))),new t(26,Int32Array.from([6,30,58,86,114]),new U(28,new T(10,114),new T(2,115)),new U(28,new T(19,46),new T(4,47)),new U(28,new T(28,22),new T(6,23)),new U(30,new T(33,16),new T(4,17))),new t(27,Int32Array.from([6,34,62,90,118]),new U(30,new T(8,122),new T(4,123)),new U(28,new T(22,45),new T(3,46)),new U(30,new T(8,23),new T(26,24)),new U(30,new T(12,15),new T(28,16))),new t(28,Int32Array.from([6,26,50,74,98,122]),new U(30,new T(3,117),new T(10,118)),new U(28,new T(3,45),new T(23,46)),new U(30,new T(4,24),new T(31,25)),new U(30,new T(11,15),new T(31,16))),new t(29,Int32Array.from([6,30,54,78,102,126]),new U(30,new T(7,116),new T(7,117)),new U(28,new T(21,45),new T(7,46)),new U(30,new T(1,23),new T(37,24)),new U(30,new T(19,15),new T(26,16))),new t(30,Int32Array.from([6,26,52,78,104,130]),new U(30,new T(5,115),new T(10,116)),new U(28,new T(19,47),new T(10,48)),new U(30,new T(15,24),new T(25,25)),new U(30,new T(23,15),new T(25,16))),new t(31,Int32Array.from([6,30,56,82,108,134]),new U(30,new T(13,115),new T(3,116)),new U(28,new T(2,46),new T(29,47)),new U(30,new T(42,24),new T(1,25)),new U(30,new T(23,15),new T(28,16))),new t(32,Int32Array.from([6,34,60,86,112,138]),new U(30,new T(17,115)),new U(28,new T(10,46),new T(23,47)),new U(30,new T(10,24),new T(35,25)),new U(30,new T(19,15),new T(35,16))),new t(33,Int32Array.from([6,30,58,86,114,142]),new U(30,new T(17,115),new T(1,116)),new U(28,new T(14,46),new T(21,47)),new U(30,new T(29,24),new T(19,25)),new U(30,new T(11,15),new T(46,16))),new t(34,Int32Array.from([6,34,62,90,118,146]),new U(30,new T(13,115),new T(6,116)),new U(28,new T(14,46),new T(23,47)),new U(30,new T(44,24),new T(7,25)),new U(30,new T(59,16),new T(1,17))),new t(35,Int32Array.from([6,30,54,78,102,126,150]),new U(30,new T(12,121),new T(7,122)),new U(28,new T(12,47),new T(26,48)),new U(30,new T(39,24),new T(14,25)),new U(30,new T(22,15),new T(41,16))),new t(36,Int32Array.from([6,24,50,76,102,128,154]),new U(30,new T(6,121),new T(14,122)),new U(28,new T(6,47),new T(34,48)),new U(30,new T(46,24),new T(10,25)),new U(30,new T(2,15),new T(64,16))),new t(37,Int32Array.from([6,28,54,80,106,132,158]),new U(30,new T(17,122),new T(4,123)),new U(28,new T(29,46),new T(14,47)),new U(30,new T(49,24),new T(10,25)),new U(30,new T(24,15),new T(46,16))),new t(38,Int32Array.from([6,32,58,84,110,136,162]),new U(30,new T(4,122),new T(18,123)),new U(28,new T(13,46),new T(32,47)),new U(30,new T(48,24),new T(14,25)),new U(30,new T(42,15),new T(32,16))),new t(39,Int32Array.from([6,26,54,82,110,138,166]),new U(30,new T(20,117),new T(4,118)),new U(28,new T(40,47),new T(7,48)),new U(30,new T(43,24),new T(22,25)),new U(30,new T(10,15),new T(67,16))),new t(40,Int32Array.from([6,30,58,86,114,142,170]),new U(30,new T(19,118),new T(6,119)),new U(28,new T(18,47),new T(31,48)),new U(30,new T(34,24),new T(34,25)),new U(30,new T(20,15),new T(61,16)))],t}(),rr;(function(t){t[t.DATA_MASK_000=0]="DATA_MASK_000",t[t.DATA_MASK_001=1]="DATA_MASK_001",t[t.DATA_MASK_010=2]="DATA_MASK_010",t[t.DATA_MASK_011=3]="DATA_MASK_011",t[t.DATA_MASK_100=4]="DATA_MASK_100",t[t.DATA_MASK_101=5]="DATA_MASK_101",t[t.DATA_MASK_110=6]="DATA_MASK_110",t[t.DATA_MASK_111=7]="DATA_MASK_111"})(rr||(rr={}));var mb=function(){function t(e,r){this.value=e,this.isMasked=r}return t.prototype.unmaskBitMatrix=function(e,r){for(var n=0;n<r;n++)for(var i=0;i<r;i++)this.isMasked(n,i)&&e.flip(i,n)},t.values=new Map([[rr.DATA_MASK_000,new t(rr.DATA_MASK_000,function(e,r){return(e+r&1)===0})],[rr.DATA_MASK_001,new t(rr.DATA_MASK_001,function(e,r){return(e&1)===0})],[rr.DATA_MASK_010,new t(rr.DATA_MASK_010,function(e,r){return r%3===0})],[rr.DATA_MASK_011,new t(rr.DATA_MASK_011,function(e,r){return(e+r)%3===0})],[rr.DATA_MASK_100,new t(rr.DATA_MASK_100,function(e,r){return(Math.floor(e/2)+Math.floor(r/3)&1)===0})],[rr.DATA_MASK_101,new t(rr.DATA_MASK_101,function(e,r){return e*r%6===0})],[rr.DATA_MASK_110,new t(rr.DATA_MASK_110,function(e,r){return e*r%6<3})],[rr.DATA_MASK_111,new t(rr.DATA_MASK_111,function(e,r){return(e+r+e*r%3&1)===0})]]),t}(),EV=function(){function t(e){var r=e.getHeight();if(r<21||(r&3)!==1)throw new ne;this.bitMatrix=e}return t.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var e=0,r=0;r<6;r++)e=this.copyBit(r,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var n=5;n>=0;n--)e=this.copyBit(8,n,e);for(var i=this.bitMatrix.getHeight(),s=0,a=i-7,n=i-1;n>=a;n--)s=this.copyBit(8,n,s);for(var r=i-8;r<i;r++)s=this.copyBit(r,8,s);if(this.parsedFormatInfo=tT.decodeFormatInformation(e,s),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new ne},t.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var e=this.bitMatrix.getHeight(),r=Math.floor((e-17)/4);if(r<=6)return co.getVersionForNumber(r);for(var n=0,i=e-11,s=5;s>=0;s--)for(var a=e-9;a>=i;a--)n=this.copyBit(a,s,n);var o=co.decodeVersionInformation(n);if(o!==null&&o.getDimensionForVersion()===e)return this.parsedVersion=o,o;n=0;for(var a=5;a>=0;a--)for(var s=e-9;s>=i;s--)n=this.copyBit(a,s,n);if(o=co.decodeVersionInformation(n),o!==null&&o.getDimensionForVersion()===e)return this.parsedVersion=o,o;throw new ne},t.prototype.copyBit=function(e,r,n){var i=this.isMirror?this.bitMatrix.get(r,e):this.bitMatrix.get(e,r);return i?n<<1|1:n<<1},t.prototype.readCodewords=function(){var e=this.readFormatInformation(),r=this.readVersion(),n=mb.values.get(e.getDataMask()),i=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,i);for(var s=r.buildFunctionPattern(),a=!0,o=new Uint8Array(r.getTotalCodewords()),l=0,c=0,d=0,f=i-1;f>0;f-=2){f===6&&f--;for(var h=0;h<i;h++)for(var p=a?i-1-h:h,g=0;g<2;g++)s.get(f-g,p)||(d++,c<<=1,this.bitMatrix.get(f-g,p)&&(c|=1),d===8&&(o[l++]=c,d=0,c=0));a=!a}if(l!==r.getTotalCodewords())throw new ne;return o},t.prototype.remask=function(){if(this.parsedFormatInfo!==null){var e=mb.values.get(this.parsedFormatInfo.getDataMask()),r=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,r)}},t.prototype.setMirror=function(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e},t.prototype.mirror=function(){for(var e=this.bitMatrix,r=0,n=e.getWidth();r<n;r++)for(var i=r+1,s=e.getHeight();i<s;i++)e.get(r,i)!==e.get(i,r)&&(e.flip(i,r),e.flip(r,i))},t}(),gb=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},AV=function(){function t(e,r){this.numDataCodewords=e,this.codewords=r}return t.getDataBlocks=function(e,r,n){var i,s,a,o;if(e.length!==r.getTotalCodewords())throw new Se;var l=r.getECBlocksForLevel(n),c=0,d=l.getECBlocks();try{for(var f=gb(d),h=f.next();!h.done;h=f.next()){var p=h.value;c+=p.getCount()}}catch(N){i={error:N}}finally{try{h&&!h.done&&(s=f.return)&&s.call(f)}finally{if(i)throw i.error}}var g=new Array(c),m=0;try{for(var x=gb(d),y=x.next();!y.done;y=x.next())for(var p=y.value,v=0;v<p.getCount();v++){var _=p.getDataCodewords(),w=l.getECCodewordsPerBlock()+_;g[m++]=new t(_,new Uint8Array(w))}}catch(N){a={error:N}}finally{try{y&&!y.done&&(o=x.return)&&o.call(x)}finally{if(a)throw a.error}}for(var S=g[0].codewords.length,A=g.length-1;A>=0;){var E=g[A].codewords.length;if(E===S)break;A--}A++;for(var P=S-l.getECCodewordsPerBlock(),j=0,v=0;v<P;v++)for(var F=0;F<m;F++)g[F].codewords[v]=e[j++];for(var F=A;F<m;F++)g[F].codewords[P]=e[j++];for(var H=g[0].codewords.length,v=P;v<H;v++)for(var F=0;F<m;F++){var L=F<A?v:v+1;g[F].codewords[L]=e[j++]}return g},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t}(),xn;(function(t){t[t.TERMINATOR=0]="TERMINATOR",t[t.NUMERIC=1]="NUMERIC",t[t.ALPHANUMERIC=2]="ALPHANUMERIC",t[t.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",t[t.BYTE=4]="BYTE",t[t.ECI=5]="ECI",t[t.KANJI=6]="KANJI",t[t.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",t[t.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",t[t.HANZI=9]="HANZI"})(xn||(xn={}));var _t=function(){function t(e,r,n,i){this.value=e,this.stringValue=r,this.characterCountBitsForVersions=n,this.bits=i,t.FOR_BITS.set(i,this),t.FOR_VALUE.set(e,this)}return t.forBits=function(e){var r=t.FOR_BITS.get(e);if(r===void 0)throw new Se;return r},t.prototype.getCharacterCountBits=function(e){var r=e.getVersionNumber(),n;return r<=9?n=0:r<=26?n=1:n=2,this.characterCountBitsForVersions[n]},t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.prototype.toString=function(){return this.stringValue},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.TERMINATOR=new t(xn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),t.NUMERIC=new t(xn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),t.ALPHANUMERIC=new t(xn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),t.STRUCTURED_APPEND=new t(xn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),t.BYTE=new t(xn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),t.ECI=new t(xn.ECI,"ECI",Int32Array.from([0,0,0]),7),t.KANJI=new t(xn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),t.FNC1_FIRST_POSITION=new t(xn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),t.FNC1_SECOND_POSITION=new t(xn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),t.HANZI=new t(xn.HANZI,"HANZI",Int32Array.from([8,10,12]),13),t}(),NV=function(){function t(){}return t.decode=function(e,r,n,i){var s=new eT(e),a=new Fe,o=new Array,l=-1,c=-1;try{var d=null,f=!1,h=void 0;do{if(s.available()<4)h=_t.TERMINATOR;else{var p=s.readBits(4);h=_t.forBits(p)}switch(h){case _t.TERMINATOR:break;case _t.FNC1_FIRST_POSITION:case _t.FNC1_SECOND_POSITION:f=!0;break;case _t.STRUCTURED_APPEND:if(s.available()<16)throw new ne;l=s.readBits(8),c=s.readBits(8);break;case _t.ECI:var g=t.parseECIValue(s);if(d=Zt.getCharacterSetECIByValue(g),d===null)throw new ne;break;case _t.HANZI:var m=s.readBits(4),x=s.readBits(h.getCharacterCountBits(r));m===t.GB2312_SUBSET&&t.decodeHanziSegment(s,a,x);break;default:var y=s.readBits(h.getCharacterCountBits(r));switch(h){case _t.NUMERIC:t.decodeNumericSegment(s,a,y);break;case _t.ALPHANUMERIC:t.decodeAlphanumericSegment(s,a,y,f);break;case _t.BYTE:t.decodeByteSegment(s,a,y,d,o,i);break;case _t.KANJI:t.decodeKanjiSegment(s,a,y);break;default:throw new ne}break}}while(h!==_t.TERMINATOR)}catch{throw new ne}return new Jp(e,a.toString(),o.length===0?null:o,n===null?null:n.toString(),l,c)},t.decodeHanziSegment=function(e,r,n){if(n*13>e.available())throw new ne;for(var i=new Uint8Array(2*n),s=0;n>0;){var a=e.readBits(13),o=a/96<<8&4294967295|a%96;o<959?o+=41377:o+=42657,i[s]=o>>8&255,i[s+1]=o&255,s+=2,n--}try{r.append(Pn.decode(i,He.GB2312))}catch(l){throw new ne(l)}},t.decodeKanjiSegment=function(e,r,n){if(n*13>e.available())throw new ne;for(var i=new Uint8Array(2*n),s=0;n>0;){var a=e.readBits(13),o=a/192<<8&4294967295|a%192;o<7936?o+=33088:o+=49472,i[s]=o>>8,i[s+1]=o,s+=2,n--}try{r.append(Pn.decode(i,He.SHIFT_JIS))}catch(l){throw new ne(l)}},t.decodeByteSegment=function(e,r,n,i,s,a){if(8*n>e.available())throw new ne;for(var o=new Uint8Array(n),l=0;l<n;l++)o[l]=e.readBits(8);var c;i===null?c=He.guessEncoding(o,a):c=i.getName();try{r.append(Pn.decode(o,c))}catch(d){throw new ne(d)}s.push(o)},t.toAlphaNumericChar=function(e){if(e>=t.ALPHANUMERIC_CHARS.length)throw new ne;return t.ALPHANUMERIC_CHARS[e]},t.decodeAlphanumericSegment=function(e,r,n,i){for(var s=r.length();n>1;){if(e.available()<11)throw new ne;var a=e.readBits(11);r.append(t.toAlphaNumericChar(Math.floor(a/45))),r.append(t.toAlphaNumericChar(a%45)),n-=2}if(n===1){if(e.available()<6)throw new ne;r.append(t.toAlphaNumericChar(e.readBits(6)))}if(i)for(var o=s;o<r.length();o++)r.charAt(o)==="%"&&(o<r.length()-1&&r.charAt(o+1)==="%"?r.deleteCharAt(o+1):r.setCharAt(o,""))},t.decodeNumericSegment=function(e,r,n){for(;n>=3;){if(e.available()<10)throw new ne;var i=e.readBits(10);if(i>=1e3)throw new ne;r.append(t.toAlphaNumericChar(Math.floor(i/100))),r.append(t.toAlphaNumericChar(Math.floor(i/10)%10)),r.append(t.toAlphaNumericChar(i%10)),n-=3}if(n===2){if(e.available()<7)throw new ne;var s=e.readBits(7);if(s>=100)throw new ne;r.append(t.toAlphaNumericChar(Math.floor(s/10))),r.append(t.toAlphaNumericChar(s%10))}else if(n===1){if(e.available()<4)throw new ne;var a=e.readBits(4);if(a>=10)throw new ne;r.append(t.toAlphaNumericChar(a))}},t.parseECIValue=function(e){var r=e.readBits(8);if(!(r&128))return r&127;if((r&192)===128){var n=e.readBits(8);return(r&63)<<8&4294967295|n}if((r&224)===192){var i=e.readBits(16);return(r&31)<<16&4294967295|i}throw new ne},t.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",t.GB2312_SUBSET=1,t}(),rT=function(){function t(e){this.mirrored=e}return t.prototype.isMirrored=function(){return this.mirrored},t.prototype.applyMirroredCorrection=function(e){if(!(!this.mirrored||e===null||e.length<3)){var r=e[0];e[0]=e[2],e[2]=r}},t}(),vb=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},TV=function(){function t(){this.rsDecoder=new e0(Zr.QR_CODE_FIELD_256)}return t.prototype.decodeBooleanArray=function(e,r){return this.decodeBitMatrix($i.parseFromBooleanArray(e),r)},t.prototype.decodeBitMatrix=function(e,r){var n=new EV(e),i=null;try{return this.decodeBitMatrixParser(n,r)}catch(a){i=a}try{n.remask(),n.setMirror(!0),n.readVersion(),n.readFormatInformation(),n.mirror();var s=this.decodeBitMatrixParser(n,r);return s.setOther(new rT(!0)),s}catch(a){throw i!==null?i:a}},t.prototype.decodeBitMatrixParser=function(e,r){var n,i,s,a,o=e.readVersion(),l=e.readFormatInformation().getErrorCorrectionLevel(),c=e.readCodewords(),d=AV.getDataBlocks(c,o,l),f=0;try{for(var h=vb(d),p=h.next();!p.done;p=h.next()){var g=p.value;f+=g.getNumDataCodewords()}}catch(A){n={error:A}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(n)throw n.error}}var m=new Uint8Array(f),x=0;try{for(var y=vb(d),v=y.next();!v.done;v=y.next()){var g=v.value,_=g.getCodewords(),w=g.getNumDataCodewords();this.correctErrors(_,w);for(var S=0;S<w;S++)m[x++]=_[S]}}catch(A){s={error:A}}finally{try{v&&!v.done&&(a=y.return)&&a.call(y)}finally{if(s)throw s.error}}return NV.decode(m,o,l,r)},t.prototype.correctErrors=function(e,r){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-r)}catch{throw new or}for(var i=0;i<r;i++)e[i]=n[i]},t}(),IV=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),PV=function(t){IV(e,t);function e(r,n,i){var s=t.call(this,r,n)||this;return s.estimatedModuleSize=i,s}return e.prototype.aboutEquals=function(r,n,i){if(Math.abs(n-this.getY())<=r&&Math.abs(i-this.getX())<=r){var s=Math.abs(r-this.estimatedModuleSize);return s<=1||s<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(r,n,i){var s=(this.getX()+n)/2,a=(this.getY()+r)/2,o=(this.estimatedModuleSize+i)/2;return new e(s,a,o)},e}(ve),OV=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},RV=function(){function t(e,r,n,i,s,a,o){this.image=e,this.startX=r,this.startY=n,this.width=i,this.height=s,this.moduleSize=a,this.resultPointCallback=o,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return t.prototype.find=function(){for(var e=this.startX,r=this.height,n=this.width,i=e+n,s=this.startY+r/2,a=new Int32Array(3),o=this.image,l=0;l<r;l++){var c=s+(l&1?-Math.floor((l+1)/2):Math.floor((l+1)/2));a[0]=0,a[1]=0,a[2]=0;for(var d=e;d<i&&!o.get(d,c);)d++;for(var f=0;d<i;){if(o.get(d,c))if(f===1)a[1]++;else if(f===2){if(this.foundPatternCross(a)){var h=this.handlePossibleCenter(a,c,d);if(h!==null)return h}a[0]=a[2],a[1]=1,a[2]=0,f=1}else a[++f]++;else f===1&&f++,a[f]++;d++}if(this.foundPatternCross(a)){var h=this.handlePossibleCenter(a,c,i);if(h!==null)return h}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new K},t.centerFromEnd=function(e,r){return r-e[2]-e[1]/2},t.prototype.foundPatternCross=function(e){for(var r=this.moduleSize,n=r/2,i=0;i<3;i++)if(Math.abs(r-e[i])>=n)return!1;return!0},t.prototype.crossCheckVertical=function(e,r,n,i){var s=this.image,a=s.getHeight(),o=this.crossCheckStateCount;o[0]=0,o[1]=0,o[2]=0;for(var l=e;l>=0&&s.get(r,l)&&o[1]<=n;)o[1]++,l--;if(l<0||o[1]>n)return NaN;for(;l>=0&&!s.get(r,l)&&o[0]<=n;)o[0]++,l--;if(o[0]>n)return NaN;for(l=e+1;l<a&&s.get(r,l)&&o[1]<=n;)o[1]++,l++;if(l===a||o[1]>n)return NaN;for(;l<a&&!s.get(r,l)&&o[2]<=n;)o[2]++,l++;if(o[2]>n)return NaN;var c=o[0]+o[1]+o[2];return 5*Math.abs(c-i)>=2*i?NaN:this.foundPatternCross(o)?t.centerFromEnd(o,l):NaN},t.prototype.handlePossibleCenter=function(e,r,n){var i,s,a=e[0]+e[1]+e[2],o=t.centerFromEnd(e,n),l=this.crossCheckVertical(r,o,2*e[1],a);if(!isNaN(l)){var c=(e[0]+e[1]+e[2])/3;try{for(var d=OV(this.possibleCenters),f=d.next();!f.done;f=d.next()){var h=f.value;if(h.aboutEquals(c,l,o))return h.combineEstimate(l,o,c)}}catch(g){i={error:g}}finally{try{f&&!f.done&&(s=d.return)&&s.call(d)}finally{if(i)throw i.error}}var p=new PV(o,l,c);this.possibleCenters.push(p),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(p)}return null},t}(),kV=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),DV=function(t){kV(e,t);function e(r,n,i,s){var a=t.call(this,r,n)||this;return a.estimatedModuleSize=i,a.count=s,s===void 0&&(a.count=1),a}return e.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},e.prototype.getCount=function(){return this.count},e.prototype.aboutEquals=function(r,n,i){if(Math.abs(n-this.getY())<=r&&Math.abs(i-this.getX())<=r){var s=Math.abs(r-this.estimatedModuleSize);return s<=1||s<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(r,n,i){var s=this.count+1,a=(this.count*this.getX()+n)/s,o=(this.count*this.getY()+r)/s,l=(this.count*this.estimatedModuleSize+i)/s;return new e(a,o,l,s)},e}(ve),jV=function(){function t(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t}(),Lc=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},FV=function(){function t(e,r){this.image=e,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}return t.prototype.getImage=function(){return this.image},t.prototype.getPossibleCenters=function(){return this.possibleCenters},t.prototype.find=function(e){var r=e!=null&&e.get(Et.TRY_HARDER)!==void 0,n=e!=null&&e.get(Et.PURE_BARCODE)!==void 0,i=this.image,s=i.getHeight(),a=i.getWidth(),o=Math.floor(3*s/(4*t.MAX_MODULES));(o<t.MIN_SKIP||r)&&(o=t.MIN_SKIP);for(var l=!1,c=new Int32Array(5),d=o-1;d<s&&!l;d+=o){c[0]=0,c[1]=0,c[2]=0,c[3]=0,c[4]=0;for(var f=0,h=0;h<a;h++)if(i.get(h,d))(f&1)===1&&f++,c[f]++;else if(f&1)c[f]++;else if(f===4)if(t.foundPatternCross(c)){var p=this.handlePossibleCenter(c,d,h,n);if(p===!0)if(o=2,this.hasSkipped===!0)l=this.haveMultiplyConfirmedCenters();else{var g=this.findRowSkip();g>c[2]&&(d+=g-c[2]-o,h=a-1)}else{c[0]=c[2],c[1]=c[3],c[2]=c[4],c[3]=1,c[4]=0,f=3;continue}f=0,c[0]=0,c[1]=0,c[2]=0,c[3]=0,c[4]=0}else c[0]=c[2],c[1]=c[3],c[2]=c[4],c[3]=1,c[4]=0,f=3;else c[++f]++;if(t.foundPatternCross(c)){var p=this.handlePossibleCenter(c,d,a,n);p===!0&&(o=c[0],this.hasSkipped&&(l=this.haveMultiplyConfirmedCenters()))}}var m=this.selectBestPatterns();return ve.orderBestPatterns(m),new jV(m)},t.centerFromEnd=function(e,r){return r-e[4]-e[3]-e[2]/2},t.foundPatternCross=function(e){for(var r=0,n=0;n<5;n++){var i=e[n];if(i===0)return!1;r+=i}if(r<7)return!1;var s=r/7,a=s/2;return Math.abs(s-e[0])<a&&Math.abs(s-e[1])<a&&Math.abs(3*s-e[2])<3*a&&Math.abs(s-e[3])<a&&Math.abs(s-e[4])<a},t.prototype.getCrossCheckStateCount=function(){var e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e},t.prototype.crossCheckDiagonal=function(e,r,n,i){for(var s=this.getCrossCheckStateCount(),a=0,o=this.image;e>=a&&r>=a&&o.get(r-a,e-a);)s[2]++,a++;if(e<a||r<a)return!1;for(;e>=a&&r>=a&&!o.get(r-a,e-a)&&s[1]<=n;)s[1]++,a++;if(e<a||r<a||s[1]>n)return!1;for(;e>=a&&r>=a&&o.get(r-a,e-a)&&s[0]<=n;)s[0]++,a++;if(s[0]>n)return!1;var l=o.getHeight(),c=o.getWidth();for(a=1;e+a<l&&r+a<c&&o.get(r+a,e+a);)s[2]++,a++;if(e+a>=l||r+a>=c)return!1;for(;e+a<l&&r+a<c&&!o.get(r+a,e+a)&&s[3]<n;)s[3]++,a++;if(e+a>=l||r+a>=c||s[3]>=n)return!1;for(;e+a<l&&r+a<c&&o.get(r+a,e+a)&&s[4]<n;)s[4]++,a++;if(s[4]>=n)return!1;var d=s[0]+s[1]+s[2]+s[3]+s[4];return Math.abs(d-i)<2*i&&t.foundPatternCross(s)},t.prototype.crossCheckVertical=function(e,r,n,i){for(var s=this.image,a=s.getHeight(),o=this.getCrossCheckStateCount(),l=e;l>=0&&s.get(r,l);)o[2]++,l--;if(l<0)return NaN;for(;l>=0&&!s.get(r,l)&&o[1]<=n;)o[1]++,l--;if(l<0||o[1]>n)return NaN;for(;l>=0&&s.get(r,l)&&o[0]<=n;)o[0]++,l--;if(o[0]>n)return NaN;for(l=e+1;l<a&&s.get(r,l);)o[2]++,l++;if(l===a)return NaN;for(;l<a&&!s.get(r,l)&&o[3]<n;)o[3]++,l++;if(l===a||o[3]>=n)return NaN;for(;l<a&&s.get(r,l)&&o[4]<n;)o[4]++,l++;if(o[4]>=n)return NaN;var c=o[0]+o[1]+o[2]+o[3]+o[4];return 5*Math.abs(c-i)>=2*i?NaN:t.foundPatternCross(o)?t.centerFromEnd(o,l):NaN},t.prototype.crossCheckHorizontal=function(e,r,n,i){for(var s=this.image,a=s.getWidth(),o=this.getCrossCheckStateCount(),l=e;l>=0&&s.get(l,r);)o[2]++,l--;if(l<0)return NaN;for(;l>=0&&!s.get(l,r)&&o[1]<=n;)o[1]++,l--;if(l<0||o[1]>n)return NaN;for(;l>=0&&s.get(l,r)&&o[0]<=n;)o[0]++,l--;if(o[0]>n)return NaN;for(l=e+1;l<a&&s.get(l,r);)o[2]++,l++;if(l===a)return NaN;for(;l<a&&!s.get(l,r)&&o[3]<n;)o[3]++,l++;if(l===a||o[3]>=n)return NaN;for(;l<a&&s.get(l,r)&&o[4]<n;)o[4]++,l++;if(o[4]>=n)return NaN;var c=o[0]+o[1]+o[2]+o[3]+o[4];return 5*Math.abs(c-i)>=i?NaN:t.foundPatternCross(o)?t.centerFromEnd(o,l):NaN},t.prototype.handlePossibleCenter=function(e,r,n,i){var s=e[0]+e[1]+e[2]+e[3]+e[4],a=t.centerFromEnd(e,n),o=this.crossCheckVertical(r,Math.floor(a),e[2],s);if(!isNaN(o)&&(a=this.crossCheckHorizontal(Math.floor(a),Math.floor(o),e[2],s),!isNaN(a)&&(!i||this.crossCheckDiagonal(Math.floor(o),Math.floor(a),e[2],s)))){for(var l=s/7,c=!1,d=this.possibleCenters,f=0,h=d.length;f<h;f++){var p=d[f];if(p.aboutEquals(l,o,a)){d[f]=p.combineEstimate(o,a,l),c=!0;break}}if(!c){var g=new DV(a,o,l);d.push(g),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(g)}return!0}return!1},t.prototype.findRowSkip=function(){var e,r,n=this.possibleCenters.length;if(n<=1)return 0;var i=null;try{for(var s=Lc(this.possibleCenters),a=s.next();!a.done;a=s.next()){var o=a.value;if(o.getCount()>=t.CENTER_QUORUM)if(i==null)i=o;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-o.getX())-Math.abs(i.getY()-o.getY()))/2)}}catch(l){e={error:l}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}return 0},t.prototype.haveMultiplyConfirmedCenters=function(){var e,r,n,i,s=0,a=0,o=this.possibleCenters.length;try{for(var l=Lc(this.possibleCenters),c=l.next();!c.done;c=l.next()){var d=c.value;d.getCount()>=t.CENTER_QUORUM&&(s++,a+=d.getEstimatedModuleSize())}}catch(m){e={error:m}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(e)throw e.error}}if(s<3)return!1;var f=a/o,h=0;try{for(var p=Lc(this.possibleCenters),g=p.next();!g.done;g=p.next()){var d=g.value;h+=Math.abs(d.getEstimatedModuleSize()-f)}}catch(m){n={error:m}}finally{try{g&&!g.done&&(i=p.return)&&i.call(p)}finally{if(n)throw n.error}}return h<=.05*a},t.prototype.selectBestPatterns=function(){var e,r,n,i,s=this.possibleCenters.length;if(s<3)throw new K;var a=this.possibleCenters,o;if(s>3){var l=0,c=0;try{for(var d=Lc(this.possibleCenters),f=d.next();!f.done;f=d.next()){var h=f.value,p=h.getEstimatedModuleSize();l+=p,c+=p*p}}catch(S){e={error:S}}finally{try{f&&!f.done&&(r=d.return)&&r.call(d)}finally{if(e)throw e.error}}o=l/s;var g=Math.sqrt(c/s-o*o);a.sort(function(S,A){var E=Math.abs(A.getEstimatedModuleSize()-o),P=Math.abs(S.getEstimatedModuleSize()-o);return E<P?-1:E>P?1:0});for(var m=Math.max(.2*o,g),x=0;x<a.length&&a.length>3;x++){var y=a[x];Math.abs(y.getEstimatedModuleSize()-o)>m&&(a.splice(x,1),x--)}}if(a.length>3){var l=0;try{for(var v=Lc(a),_=v.next();!_.done;_=v.next()){var w=_.value;l+=w.getEstimatedModuleSize()}}catch(A){n={error:A}}finally{try{_&&!_.done&&(i=v.return)&&i.call(v)}finally{if(n)throw n.error}}o=l/a.length,a.sort(function(A,E){if(E.getCount()===A.getCount()){var P=Math.abs(E.getEstimatedModuleSize()-o),j=Math.abs(A.getEstimatedModuleSize()-o);return P<j?1:P>j?-1:0}else return E.getCount()-A.getCount()}),a.splice(3)}return[a[0],a[1],a[2]]},t.CENTER_QUORUM=2,t.MIN_SKIP=3,t.MAX_MODULES=57,t}(),MV=function(){function t(e){this.image=e}return t.prototype.getImage=function(){return this.image},t.prototype.getResultPointCallback=function(){return this.resultPointCallback},t.prototype.detect=function(e){this.resultPointCallback=e==null?null:e.get(Et.NEED_RESULT_POINT_CALLBACK);var r=new FV(this.image,this.resultPointCallback),n=r.find(e);return this.processFinderPatternInfo(n)},t.prototype.processFinderPatternInfo=function(e){var r=e.getTopLeft(),n=e.getTopRight(),i=e.getBottomLeft(),s=this.calculateModuleSize(r,n,i);if(s<1)throw new K("No pattern found in proccess finder.");var a=t.computeDimension(r,n,i,s),o=co.getProvisionalVersionForDimension(a),l=o.getDimensionForVersion()-7,c=null;if(o.getAlignmentPatternCenters().length>0)for(var d=n.getX()-r.getX()+i.getX(),f=n.getY()-r.getY()+i.getY(),h=1-3/l,p=Math.floor(r.getX()+h*(d-r.getX())),g=Math.floor(r.getY()+h*(f-r.getY())),m=4;m<=16;m<<=1)try{c=this.findAlignmentInRegion(s,p,g,m);break}catch(_){if(!(_ instanceof K))throw _}var x=t.createTransform(r,n,i,c,a),y=t.sampleGrid(this.image,x,a),v;return c===null?v=[i,r,n]:v=[i,r,n,c],new Xy(y,v)},t.createTransform=function(e,r,n,i,s){var a=s-3.5,o,l,c,d;return i!==null?(o=i.getX(),l=i.getY(),c=a-3,d=c):(o=r.getX()-e.getX()+n.getX(),l=r.getY()-e.getY()+n.getY(),c=a,d=a),Y8.quadrilateralToQuadrilateral(3.5,3.5,a,3.5,c,d,3.5,a,e.getX(),e.getY(),r.getX(),r.getY(),o,l,n.getX(),n.getY())},t.sampleGrid=function(e,r,n){var i=Ky.getInstance();return i.sampleGridWithTransform(e,n,n,r)},t.computeDimension=function(e,r,n,i){var s=Ke.round(ve.distance(e,r)/i),a=Ke.round(ve.distance(e,n)/i),o=Math.floor((s+a)/2)+7;switch(o&3){case 0:o++;break;case 2:o--;break;case 3:throw new K("Dimensions could be not found.")}return o},t.prototype.calculateModuleSize=function(e,r,n){return(this.calculateModuleSizeOneWay(e,r)+this.calculateModuleSizeOneWay(e,n))/2},t.prototype.calculateModuleSizeOneWay=function(e,r){var n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(r.getX()),Math.floor(r.getY())),i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(n)?i/7:isNaN(i)?n/7:(n+i)/14},t.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,r,n,i){var s=this.sizeOfBlackWhiteBlackRun(e,r,n,i),a=1,o=e-(n-e);o<0?(a=e/(e-o),o=0):o>=this.image.getWidth()&&(a=(this.image.getWidth()-1-e)/(o-e),o=this.image.getWidth()-1);var l=Math.floor(r-(i-r)*a);return a=1,l<0?(a=r/(r-l),l=0):l>=this.image.getHeight()&&(a=(this.image.getHeight()-1-r)/(l-r),l=this.image.getHeight()-1),o=Math.floor(e+(o-e)*a),s+=this.sizeOfBlackWhiteBlackRun(e,r,o,l),s-1},t.prototype.sizeOfBlackWhiteBlackRun=function(e,r,n,i){var s=Math.abs(i-r)>Math.abs(n-e);if(s){var a=e;e=r,r=a,a=n,n=i,i=a}for(var o=Math.abs(n-e),l=Math.abs(i-r),c=-o/2,d=e<n?1:-1,f=r<i?1:-1,h=0,p=n+d,g=e,m=r;g!==p;g+=d){var x=s?m:g,y=s?g:m;if(h===1===this.image.get(x,y)){if(h===2)return Ke.distance(g,m,e,r);h++}if(c+=l,c>0){if(m===i)break;m+=f,c-=o}}return h===2?Ke.distance(n+d,i,e,r):NaN},t.prototype.findAlignmentInRegion=function(e,r,n,i){var s=Math.floor(i*e),a=Math.max(0,r-s),o=Math.min(this.image.getWidth()-1,r+s);if(o-a<e*3)throw new K("Alignment top exceeds estimated module size.");var l=Math.max(0,n-s),c=Math.min(this.image.getHeight()-1,n+s);if(c-l<e*3)throw new K("Alignment bottom exceeds estimated module size.");var d=new RV(this.image,a,l,o-a,c-l,e,this.resultPointCallback);return d.find()},t}(),Dg=function(){function t(){this.decoder=new TV}return t.prototype.getDecoder=function(){return this.decoder},t.prototype.decode=function(e,r){var n,i;if(r!=null&&r.get(Et.PURE_BARCODE)!==void 0){var s=t.extractPureBits(e.getBlackMatrix());n=this.decoder.decodeBitMatrix(s,r),i=t.NO_POINTS}else{var a=new MV(e.getBlackMatrix()).detect(r);n=this.decoder.decodeBitMatrix(a.getBits(),r),i=a.getPoints()}n.getOther()instanceof rT&&n.getOther().applyMirroredCorrection(i);var o=new Tr(n.getText(),n.getRawBytes(),void 0,i,Ce.QR_CODE,void 0),l=n.getByteSegments();l!==null&&o.putMetadata(mr.BYTE_SEGMENTS,l);var c=n.getECLevel();return c!==null&&o.putMetadata(mr.ERROR_CORRECTION_LEVEL,c),n.hasStructuredAppend()&&(o.putMetadata(mr.STRUCTURED_APPEND_SEQUENCE,n.getStructuredAppendSequenceNumber()),o.putMetadata(mr.STRUCTURED_APPEND_PARITY,n.getStructuredAppendParity())),o},t.prototype.reset=function(){},t.extractPureBits=function(e){var r=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(r===null||n===null)throw new K;var i=this.moduleSize(r,e),s=r[1],a=n[1],o=r[0],l=n[0];if(o>=l||s>=a)throw new K;if(a-s!==l-o&&(l=o+(a-s),l>=e.getWidth()))throw new K;var c=Math.round((l-o+1)/i),d=Math.round((a-s+1)/i);if(c<=0||d<=0)throw new K;if(d!==c)throw new K;var f=Math.floor(i/2);s+=f,o+=f;var h=o+Math.floor((c-1)*i)-l;if(h>0){if(h>f)throw new K;o-=h}var p=s+Math.floor((d-1)*i)-a;if(p>0){if(p>f)throw new K;s-=p}for(var g=new $i(c,d),m=0;m<d;m++)for(var x=s+Math.floor(m*i),y=0;y<c;y++)e.get(o+Math.floor(y*i),x)&&g.set(y,m);return g},t.moduleSize=function(e,r){for(var n=r.getHeight(),i=r.getWidth(),s=e[0],a=e[1],o=!0,l=0;s<i&&a<n;){if(o!==r.get(s,a)){if(++l===5)break;o=!o}s++,a++}if(s===i||a===n)throw new K;return(s-e[0])/7},t.NO_POINTS=new Array,t}(),LV=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},We=function(){function t(){}return t.prototype.PDF417Common=function(){},t.getBitCountSum=function(e){return Ke.sum(e)},t.toIntArray=function(e){var r,n;if(e==null||!e.length)return t.EMPTY_INT_ARRAY;var i=new Int32Array(e.length),s=0;try{for(var a=LV(e),o=a.next();!o.done;o=a.next()){var l=o.value;i[s++]=l}}catch(c){r={error:c}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i},t.getCodeword=function(e){var r=Qt.binarySearch(t.SYMBOL_TABLE,e&262143);return r<0?-1:(t.CODEWORD_TABLE[r]-1)%t.NUMBER_OF_CODEWORDS},t.NUMBER_OF_CODEWORDS=929,t.MAX_CODEWORDS_IN_BARCODE=t.NUMBER_OF_CODEWORDS-1,t.MIN_ROWS_IN_BARCODE=3,t.MAX_ROWS_IN_BARCODE=90,t.MODULES_IN_CODEWORD=17,t.MODULES_IN_STOP_PATTERN=18,t.BARS_IN_MODULE=8,t.EMPTY_INT_ARRAY=new Int32Array([]),t.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),t.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),t}(),BV=function(){function t(e,r){this.bits=e,this.points=r}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t}(),UV=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},$V=function(){function t(){}return t.detectMultiple=function(e,r,n){var i=e.getBlackMatrix(),s=t.detect(n,i);return s.length||(i=i.clone(),i.rotate180(),s=t.detect(n,i)),new BV(i,s)},t.detect=function(e,r){for(var n,i,s=new Array,a=0,o=0,l=!1;a<r.getHeight();){var c=t.findVertices(r,a,o);if(c[0]==null&&c[3]==null){if(!l)break;l=!1,o=0;try{for(var d=(n=void 0,UV(s)),f=d.next();!f.done;f=d.next()){var h=f.value;h[1]!=null&&(a=Math.trunc(Math.max(a,h[1].getY()))),h[3]!=null&&(a=Math.max(a,Math.trunc(h[3].getY())))}}catch(p){n={error:p}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}a+=t.ROW_STEP;continue}if(l=!0,s.push(c),!e)break;c[2]!=null?(o=Math.trunc(c[2].getX()),a=Math.trunc(c[2].getY())):(o=Math.trunc(c[4].getX()),a=Math.trunc(c[4].getY()))}return s},t.findVertices=function(e,r,n){var i=e.getHeight(),s=e.getWidth(),a=new Array(8);return t.copyToResult(a,t.findRowsWithPattern(e,i,s,r,n,t.START_PATTERN),t.INDEXES_START_PATTERN),a[4]!=null&&(n=Math.trunc(a[4].getX()),r=Math.trunc(a[4].getY())),t.copyToResult(a,t.findRowsWithPattern(e,i,s,r,n,t.STOP_PATTERN),t.INDEXES_STOP_PATTERN),a},t.copyToResult=function(e,r,n){for(var i=0;i<n.length;i++)e[n[i]]=r[i]},t.findRowsWithPattern=function(e,r,n,i,s,a){for(var o=new Array(4),l=!1,c=new Int32Array(a.length);i<r;i+=t.ROW_STEP){var d=t.findGuardPattern(e,s,i,n,!1,a,c);if(d!=null){for(;i>0;){var f=t.findGuardPattern(e,s,--i,n,!1,a,c);if(f!=null)d=f;else{i++;break}}o[0]=new ve(d[0],i),o[1]=new ve(d[1],i),l=!0;break}}var h=i+1;if(l){for(var p=0,f=Int32Array.from([Math.trunc(o[0].getX()),Math.trunc(o[1].getX())]);h<r;h++){var d=t.findGuardPattern(e,f[0],h,n,!1,a,c);if(d!=null&&Math.abs(f[0]-d[0])<t.MAX_PATTERN_DRIFT&&Math.abs(f[1]-d[1])<t.MAX_PATTERN_DRIFT)f=d,p=0;else{if(p>t.SKIPPED_ROW_COUNT_MAX)break;p++}}h-=p+1,o[2]=new ve(f[0],h),o[3]=new ve(f[1],h)}return h-i<t.BARCODE_MIN_HEIGHT&&Qt.fill(o,null),o},t.findGuardPattern=function(e,r,n,i,s,a,o){Qt.fillWithin(o,0,o.length,0);for(var l=r,c=0;e.get(l,n)&&l>0&&c++<t.MAX_PIXEL_DRIFT;)l--;for(var d=l,f=0,h=a.length,p=s;d<i;d++){var g=e.get(d,n);if(g!==p)o[f]++;else{if(f===h-1){if(t.patternMatchVariance(o,a,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return new Int32Array([l,d]);l+=o[0]+o[1],vt.arraycopy(o,2,o,0,f-1),o[f-1]=0,o[f]=0,f--}else f++;o[f]=1,p=!p}}return f===h-1&&t.patternMatchVariance(o,a,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE?new Int32Array([l,d-1]):null},t.patternMatchVariance=function(e,r,n){for(var i=e.length,s=0,a=0,o=0;o<i;o++)s+=e[o],a+=r[o];if(s<a)return 1/0;var l=s/a;n*=l;for(var c=0,d=0;d<i;d++){var f=e[d],h=r[d]*l,p=f>h?f-h:h-f;if(p>n)return 1/0;c+=p}return c/s},t.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),t.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),t.MAX_AVG_VARIANCE=.42,t.MAX_INDIVIDUAL_VARIANCE=.8,t.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),t.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),t.MAX_PIXEL_DRIFT=3,t.MAX_PATTERN_DRIFT=5,t.SKIPPED_ROW_COUNT_MAX=25,t.ROW_STEP=5,t.BARCODE_MIN_HEIGHT=10,t}(),VV=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ba=function(){function t(e,r){if(r.length===0)throw new Se;this.field=e;var n=r.length;if(n>1&&r[0]===0){for(var i=1;i<n&&r[i]===0;)i++;i===n?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(n-i),vt.arraycopy(r,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){var r,n;if(e===0)return this.getCoefficient(0);if(e===1){var i=0;try{for(var s=VV(this.coefficients),a=s.next();!a.done;a=s.next()){var o=a.value;i=this.field.add(i,o)}}catch(f){r={error:f}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return i}for(var l=this.coefficients[0],c=this.coefficients.length,d=1;d<c;d++)l=this.field.add(this.field.multiply(e,l),this.coefficients[d]);return l},t.prototype.add=function(e){if(!this.field.equals(e.field))throw new Se("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;var r=this.coefficients,n=e.coefficients;if(r.length>n.length){var i=r;r=n,n=i}var s=new Int32Array(n.length),a=n.length-r.length;vt.arraycopy(n,0,s,0,a);for(var o=a;o<n.length;o++)s[o]=this.field.add(r[o-a],n[o]);return new t(this.field,s)},t.prototype.subtract=function(e){if(!this.field.equals(e.field))throw new Se("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())},t.prototype.multiply=function(e){return e instanceof t?this.multiplyOther(e):this.multiplyScalar(e)},t.prototype.multiplyOther=function(e){if(!this.field.equals(e.field))throw new Se("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new t(this.field,new Int32Array([0]));for(var r=this.coefficients,n=r.length,i=e.coefficients,s=i.length,a=new Int32Array(n+s-1),o=0;o<n;o++)for(var l=r[o],c=0;c<s;c++)a[o+c]=this.field.add(a[o+c],this.field.multiply(l,i[c]));return new t(this.field,a)},t.prototype.negative=function(){for(var e=this.coefficients.length,r=new Int32Array(e),n=0;n<e;n++)r[n]=this.field.subtract(0,this.coefficients[n]);return new t(this.field,r)},t.prototype.multiplyScalar=function(e){if(e===0)return new t(this.field,new Int32Array([0]));if(e===1)return this;for(var r=this.coefficients.length,n=new Int32Array(r),i=0;i<r;i++)n[i]=this.field.multiply(this.coefficients[i],e);return new t(this.field,n)},t.prototype.multiplyByMonomial=function(e,r){if(e<0)throw new Se;if(r===0)return new t(this.field,new Int32Array([0]));for(var n=this.coefficients.length,i=new Int32Array(n+e),s=0;s<n;s++)i[s]=this.field.multiply(this.coefficients[s],r);return new t(this.field,i)},t.prototype.toString=function(){for(var e=new Fe,r=this.getDegree();r>=0;r--){var n=this.getCoefficient(r);n!==0&&(n<0?(e.append(" - "),n=-n):e.length()>0&&e.append(" + "),(r===0||n!==1)&&e.append(n),r!==0&&(r===1?e.append("x"):(e.append("x^"),e.append(r))))}return e.toString()},t}(),zV=function(){function t(){}return t.prototype.add=function(e,r){return(e+r)%this.modulus},t.prototype.subtract=function(e,r){return(this.modulus+e-r)%this.modulus},t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new Se;return this.logTable[e]},t.prototype.inverse=function(e){if(e===0)throw new K8;return this.expTable[this.modulus-this.logTable[e]-1]},t.prototype.multiply=function(e,r){return e===0||r===0?0:this.expTable[(this.logTable[e]+this.logTable[r])%(this.modulus-1)]},t.prototype.getSize=function(){return this.modulus},t.prototype.equals=function(e){return e===this},t}(),HV=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),WV=function(t){HV(e,t);function e(r,n){var i=t.call(this)||this;i.modulus=r,i.expTable=new Int32Array(r),i.logTable=new Int32Array(r);for(var s=1,a=0;a<r;a++)i.expTable[a]=s,s=s*n%r;for(var a=0;a<r-1;a++)i.logTable[i.expTable[a]]=a;return i.zero=new Ba(i,new Int32Array([0])),i.one=new Ba(i,new Int32Array([1])),i}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(r,n){if(r<0)throw new Se;if(n===0)return this.zero;var i=new Int32Array(r+1);return i[0]=n,new Ba(this,i)},e.PDF417_GF=new e(We.NUMBER_OF_CODEWORDS,3),e}(zV),GV=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},qV=function(){function t(){this.field=WV.PDF417_GF}return t.prototype.decode=function(e,r,n){for(var i,s,a=new Ba(this.field,e),o=new Int32Array(r),l=!1,c=r;c>0;c--){var d=a.evaluateAt(this.field.exp(c));o[r-c]=d,d!==0&&(l=!0)}if(!l)return 0;var f=this.field.getOne();if(n!=null)try{for(var h=GV(n),p=h.next();!p.done;p=h.next()){var g=p.value,m=this.field.exp(e.length-1-g),x=new Ba(this.field,new Int32Array([this.field.subtract(0,m),1]));f=f.multiply(x)}}catch(P){i={error:P}}finally{try{p&&!p.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}for(var y=new Ba(this.field,o),v=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),y,r),_=v[0],w=v[1],S=this.findErrorLocations(_),A=this.findErrorMagnitudes(w,_,S),c=0;c<S.length;c++){var E=e.length-1-this.field.log(S[c]);if(E<0)throw or.getChecksumInstance();e[E]=this.field.subtract(e[E],A[c])}return S.length},t.prototype.runEuclideanAlgorithm=function(e,r,n){if(e.getDegree()<r.getDegree()){var i=e;e=r,r=i}for(var s=e,a=r,o=this.field.getZero(),l=this.field.getOne();a.getDegree()>=Math.round(n/2);){var c=s,d=o;if(s=a,o=l,s.isZero())throw or.getChecksumInstance();a=c;for(var f=this.field.getZero(),h=s.getCoefficient(s.getDegree()),p=this.field.inverse(h);a.getDegree()>=s.getDegree()&&!a.isZero();){var g=a.getDegree()-s.getDegree(),m=this.field.multiply(a.getCoefficient(a.getDegree()),p);f=f.add(this.field.buildMonomial(g,m)),a=a.subtract(s.multiplyByMonomial(g,m))}l=f.multiply(o).subtract(d).negative()}var x=l.getCoefficient(0);if(x===0)throw or.getChecksumInstance();var y=this.field.inverse(x),v=l.multiply(y),_=a.multiply(y);return[v,_]},t.prototype.findErrorLocations=function(e){for(var r=e.getDegree(),n=new Int32Array(r),i=0,s=1;s<this.field.getSize()&&i<r;s++)e.evaluateAt(s)===0&&(n[i]=this.field.inverse(s),i++);if(i!==r)throw or.getChecksumInstance();return n},t.prototype.findErrorMagnitudes=function(e,r,n){for(var i=r.getDegree(),s=new Int32Array(i),a=1;a<=i;a++)s[i-a]=this.field.multiply(a,r.getCoefficient(a));for(var o=new Ba(this.field,s),l=n.length,c=new Int32Array(l),a=0;a<l;a++){var d=this.field.inverse(n[a]),f=this.field.subtract(0,e.evaluateAt(d)),h=this.field.inverse(o.evaluateAt(d));c[a]=this.field.multiply(f,h)}return c},t}(),jg=function(){function t(e,r,n,i,s){e instanceof t?this.constructor_2(e):this.constructor_1(e,r,n,i,s)}return t.prototype.constructor_1=function(e,r,n,i,s){var a=r==null||n==null,o=i==null||s==null;if(a&&o)throw new K;a?(r=new ve(0,i.getY()),n=new ve(0,s.getY())):o&&(i=new ve(e.getWidth()-1,r.getY()),s=new ve(e.getWidth()-1,n.getY())),this.image=e,this.topLeft=r,this.bottomLeft=n,this.topRight=i,this.bottomRight=s,this.minX=Math.trunc(Math.min(r.getX(),n.getX())),this.maxX=Math.trunc(Math.max(i.getX(),s.getX())),this.minY=Math.trunc(Math.min(r.getY(),i.getY())),this.maxY=Math.trunc(Math.max(n.getY(),s.getY()))},t.prototype.constructor_2=function(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()},t.merge=function(e,r){return e==null?r:r==null?e:new t(e.image,e.topLeft,e.bottomLeft,r.topRight,r.bottomRight)},t.prototype.addMissingRows=function(e,r,n){var i=this.topLeft,s=this.bottomLeft,a=this.topRight,o=this.bottomRight;if(e>0){var l=n?this.topLeft:this.topRight,c=Math.trunc(l.getY()-e);c<0&&(c=0);var d=new ve(l.getX(),c);n?i=d:a=d}if(r>0){var f=n?this.bottomLeft:this.bottomRight,h=Math.trunc(f.getY()+r);h>=this.image.getHeight()&&(h=this.image.getHeight()-1);var p=new ve(f.getX(),h);n?s=p:o=p}return new t(this.image,i,s,a,o)},t.prototype.getMinX=function(){return this.minX},t.prototype.getMaxX=function(){return this.maxX},t.prototype.getMinY=function(){return this.minY},t.prototype.getMaxY=function(){return this.maxY},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getBottomRight=function(){return this.bottomRight},t}(),XV=function(){function t(e,r,n,i){this.columnCount=e,this.errorCorrectionLevel=i,this.rowCountUpperPart=r,this.rowCountLowerPart=n,this.rowCount=r+n}return t.prototype.getColumnCount=function(){return this.columnCount},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},t.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},t}(),Zy=function(){function t(){this.buffer=""}return t.form=function(e,r){var n=-1;function i(a,o,l,c,d,f){if(a==="%%")return"%";if(r[++n]!==void 0){a=c?parseInt(c.substr(1)):void 0;var h=d?parseInt(d.substr(1)):void 0,p;switch(f){case"s":p=r[n];break;case"c":p=r[n][0];break;case"f":p=parseFloat(r[n]).toFixed(a);break;case"p":p=parseFloat(r[n]).toPrecision(a);break;case"e":p=parseFloat(r[n]).toExponential(a);break;case"x":p=parseInt(r[n]).toString(h||16);break;case"d":p=parseFloat(parseInt(r[n],h||10).toPrecision(a)).toFixed(0);break}p=typeof p=="object"?JSON.stringify(p):(+p).toString(h);for(var g=parseInt(l),m=l&&l[0]+""=="0"?"0":" ";p.length<g;)p=o!==void 0?p+m:m+p;return p}}var s=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(s,i)},t.prototype.format=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.buffer+=t.form(e,r)},t.prototype.toString=function(){return this.buffer},t}(),KV=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},nT=function(){function t(e){this.boundingBox=new jg(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}return t.prototype.getCodewordNearby=function(e){var r=this.getCodeword(e);if(r!=null)return r;for(var n=1;n<t.MAX_NEARBY_DISTANCE;n++){var i=this.imageRowToCodewordIndex(e)-n;if(i>=0&&(r=this.codewords[i],r!=null)||(i=this.imageRowToCodewordIndex(e)+n,i<this.codewords.length&&(r=this.codewords[i],r!=null)))return r}return null},t.prototype.imageRowToCodewordIndex=function(e){return e-this.boundingBox.getMinY()},t.prototype.setCodeword=function(e,r){this.codewords[this.imageRowToCodewordIndex(e)]=r},t.prototype.getCodeword=function(e){return this.codewords[this.imageRowToCodewordIndex(e)]},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.getCodewords=function(){return this.codewords},t.prototype.toString=function(){var e,r,n=new Zy,i=0;try{for(var s=KV(this.codewords),a=s.next();!a.done;a=s.next()){var o=a.value;if(o==null){n.format("%3d:    |   %n",i++);continue}n.format("%3d: %3d|%3d%n",i++,o.getRowNumber(),o.getValue())}}catch(l){e={error:l}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}return n.toString()},t.MAX_NEARBY_DISTANCE=5,t}(),YV=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ZV=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],a;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(o){a={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return s},tu=function(){function t(){this.values=new Map}return t.prototype.setValue=function(e){e=Math.trunc(e);var r=this.values.get(e);r==null&&(r=0),r++,this.values.set(e,r)},t.prototype.getValue=function(){var e,r,n=-1,i=new Array,s=function(f,h){var p={getKey:function(){return f},getValue:function(){return h}};p.getValue()>n?(n=p.getValue(),i=[],i.push(p.getKey())):p.getValue()===n&&i.push(p.getKey())};try{for(var a=YV(this.values.entries()),o=a.next();!o.done;o=a.next()){var l=ZV(o.value,2),c=l[0],d=l[1];s(c,d)}}catch(f){e={error:f}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return We.toIntArray(i)},t.prototype.getConfidence=function(e){return this.values.get(e)},t}(),QV=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),d1=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},yb=function(t){QV(e,t);function e(r,n){var i=t.call(this,r)||this;return i._isLeft=n,i}return e.prototype.setRowNumbers=function(){var r,n;try{for(var i=d1(this.getCodewords()),s=i.next();!s.done;s=i.next()){var a=s.value;a!=null&&a.setRowNumberAsRowIndicatorColumn()}}catch(o){r={error:o}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},e.prototype.adjustCompleteIndicatorColumnRowNumbers=function(r){var n=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(n,r);for(var i=this.getBoundingBox(),s=this._isLeft?i.getTopLeft():i.getTopRight(),a=this._isLeft?i.getBottomLeft():i.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(s.getY())),l=this.imageRowToCodewordIndex(Math.trunc(a.getY())),c=-1,d=1,f=0,h=o;h<l;h++)if(n[h]!=null){var p=n[h],g=p.getRowNumber()-c;if(g===0)f++;else if(g===1)d=Math.max(d,f),f=1,c=p.getRowNumber();else if(g<0||p.getRowNumber()>=r.getRowCount()||g>h)n[h]=null;else{var m=void 0;d>2?m=(d-2)*g:m=g;for(var x=m>=h,y=1;y<=m&&!x;y++)x=n[h-y]!=null;x?n[h]=null:(c=p.getRowNumber(),f=1)}}},e.prototype.getRowHeights=function(){var r,n,i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);var s=new Int32Array(i.getRowCount());try{for(var a=d1(this.getCodewords()),o=a.next();!o.done;o=a.next()){var l=o.value;if(l!=null){var c=l.getRowNumber();if(c>=s.length)continue;s[c]++}}}catch(d){r={error:d}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return s},e.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(r){for(var n=this.getBoundingBox(),i=this._isLeft?n.getTopLeft():n.getTopRight(),s=this._isLeft?n.getBottomLeft():n.getBottomRight(),a=this.imageRowToCodewordIndex(Math.trunc(i.getY())),o=this.imageRowToCodewordIndex(Math.trunc(s.getY())),l=this.getCodewords(),c=-1,d=a;d<o;d++)if(l[d]!=null){var f=l[d];f.setRowNumberAsRowIndicatorColumn();var h=f.getRowNumber()-c;h===0||(h===1?c=f.getRowNumber():f.getRowNumber()>=r.getRowCount()?l[d]=null:c=f.getRowNumber())}},e.prototype.getBarcodeMetadata=function(){var r,n,i=this.getCodewords(),s=new tu,a=new tu,o=new tu,l=new tu;try{for(var c=d1(i),d=c.next();!d.done;d=c.next()){var f=d.value;if(f!=null){f.setRowNumberAsRowIndicatorColumn();var h=f.getValue()%30,p=f.getRowNumber();switch(this._isLeft||(p+=2),p%3){case 0:a.setValue(h*3+1);break;case 1:l.setValue(h/3),o.setValue(h%3);break;case 2:s.setValue(h+1);break}}}}catch(m){r={error:m}}finally{try{d&&!d.done&&(n=c.return)&&n.call(c)}finally{if(r)throw r.error}}if(s.getValue().length===0||a.getValue().length===0||o.getValue().length===0||l.getValue().length===0||s.getValue()[0]<1||a.getValue()[0]+o.getValue()[0]<We.MIN_ROWS_IN_BARCODE||a.getValue()[0]+o.getValue()[0]>We.MAX_ROWS_IN_BARCODE)return null;var g=new XV(s.getValue()[0],a.getValue()[0],o.getValue()[0],l.getValue()[0]);return this.removeIncorrectCodewords(i,g),g},e.prototype.removeIncorrectCodewords=function(r,n){for(var i=0;i<r.length;i++){var s=r[i];if(r[i]!=null){var a=s.getValue()%30,o=s.getRowNumber();if(o>n.getRowCount()){r[i]=null;continue}switch(this._isLeft||(o+=2),o%3){case 0:a*3+1!==n.getRowCountUpperPart()&&(r[i]=null);break;case 1:(Math.trunc(a/3)!==n.getErrorCorrectionLevel()||a%3!==n.getRowCountLowerPart())&&(r[i]=null);break;case 2:a+1!==n.getColumnCount()&&(r[i]=null);break}}}},e.prototype.isLeft=function(){return this._isLeft},e.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+t.prototype.toString.call(this)},e}(nT),JV=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ez=function(){function t(e,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return t.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var e=We.MAX_CODEWORDS_IN_BARCODE,r;do r=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<r);return this.detectionResultColumns},t.prototype.adjustIndicatorColumnRowNumbers=function(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},t.prototype.adjustRowNumbersAndGetCount=function(){var e=this.adjustRowNumbersByRow();if(e===0)return 0;for(var r=1;r<this.barcodeColumnCount+1;r++)for(var n=this.detectionResultColumns[r].getCodewords(),i=0;i<n.length;i++)n[i]!=null&&(n[i].hasValidRowNumber()||this.adjustRowNumbers(r,i,n));return e},t.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var e=this.adjustRowNumbersFromLRI();return e+this.adjustRowNumbersFromRRI()},t.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var e=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<e.length;n++)if(e[n]!=null&&r[n]!=null&&e[n].getRowNumber()===r[n].getRowNumber())for(var i=1;i<=this.barcodeColumnCount;i++){var s=this.detectionResultColumns[i].getCodewords()[n];s!=null&&(s.setRowNumber(e[n].getRowNumber()),s.hasValidRowNumber()||(this.detectionResultColumns[i].getCodewords()[n]=null))}}},t.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var e=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<r.length;n++)if(r[n]!=null)for(var i=r[n].getRowNumber(),s=0,a=this.barcodeColumnCount+1;a>0&&s<this.ADJUST_ROW_NUMBER_SKIP;a--){var o=this.detectionResultColumns[a].getCodewords()[n];o!=null&&(s=t.adjustRowNumberIfValid(i,s,o),o.hasValidRowNumber()||e++)}return e},t.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var e=0,r=this.detectionResultColumns[0].getCodewords(),n=0;n<r.length;n++)if(r[n]!=null)for(var i=r[n].getRowNumber(),s=0,a=1;a<this.barcodeColumnCount+1&&s<this.ADJUST_ROW_NUMBER_SKIP;a++){var o=this.detectionResultColumns[a].getCodewords()[n];o!=null&&(s=t.adjustRowNumberIfValid(i,s,o),o.hasValidRowNumber()||e++)}return e},t.adjustRowNumberIfValid=function(e,r,n){return n==null||n.hasValidRowNumber()||(n.isValidRowNumber(e)?(n.setRowNumber(e),r=0):++r),r},t.prototype.adjustRowNumbers=function(e,r,n){var i,s;if(this.detectionResultColumns[e-1]!=null){var a=n[r],o=this.detectionResultColumns[e-1].getCodewords(),l=o;this.detectionResultColumns[e+1]!=null&&(l=this.detectionResultColumns[e+1].getCodewords());var c=new Array(14);c[2]=o[r],c[3]=l[r],r>0&&(c[0]=n[r-1],c[4]=o[r-1],c[5]=l[r-1]),r>1&&(c[8]=n[r-2],c[10]=o[r-2],c[11]=l[r-2]),r<n.length-1&&(c[1]=n[r+1],c[6]=o[r+1],c[7]=l[r+1]),r<n.length-2&&(c[9]=n[r+2],c[12]=o[r+2],c[13]=l[r+2]);try{for(var d=JV(c),f=d.next();!f.done;f=d.next()){var h=f.value;if(t.adjustRowNumber(a,h))return}}catch(p){i={error:p}}finally{try{f&&!f.done&&(s=d.return)&&s.call(d)}finally{if(i)throw i.error}}}},t.adjustRowNumber=function(e,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===e.getBucket()?(e.setRowNumber(r.getRowNumber()),!0):!1},t.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},t.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},t.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},t.prototype.setBoundingBox=function(e){this.boundingBox=e},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.setDetectionResultColumn=function(e,r){this.detectionResultColumns[e]=r},t.prototype.getDetectionResultColumn=function(e){return this.detectionResultColumns[e]},t.prototype.toString=function(){var e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var r=new Zy,n=0;n<e.getCodewords().length;n++){r.format("CW %3d:",n);for(var i=0;i<this.barcodeColumnCount+2;i++){if(this.detectionResultColumns[i]==null){r.format("    |   ");continue}var s=this.detectionResultColumns[i].getCodewords()[n];if(s==null){r.format("    |   ");continue}r.format(" %3d|%3d",s.getRowNumber(),s.getValue())}r.format("%n")}return r.toString()},t}(),tz=function(){function t(e,r,n,i){this.rowNumber=t.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(r),this.bucket=Math.trunc(n),this.value=Math.trunc(i)}return t.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},t.prototype.isValidRowNumber=function(e){return e!==t.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3},t.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},t.prototype.getWidth=function(){return this.endX-this.startX},t.prototype.getStartX=function(){return this.startX},t.prototype.getEndX=function(){return this.endX},t.prototype.getBucket=function(){return this.bucket},t.prototype.getValue=function(){return this.value},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.setRowNumber=function(e){this.rowNumber=e},t.prototype.toString=function(){return this.rowNumber+"|"+this.value},t.BARCODE_ROW_UNKNOWN=-1,t}(),rz=function(){function t(){}return t.initialize=function(){for(var e=0;e<We.SYMBOL_TABLE.length;e++)for(var r=We.SYMBOL_TABLE[e],n=r&1,i=0;i<We.BARS_IN_MODULE;i++){for(var s=0;(r&1)===n;)s+=1,r>>=1;n=r&1,t.RATIOS_TABLE[e]||(t.RATIOS_TABLE[e]=new Array(We.BARS_IN_MODULE)),t.RATIOS_TABLE[e][We.BARS_IN_MODULE-i-1]=Math.fround(s/We.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},t.getDecodedValue=function(e){var r=t.getDecodedCodewordValue(t.sampleBitCounts(e));return r!==-1?r:t.getClosestDecodedValue(e)},t.sampleBitCounts=function(e){for(var r=Ke.sum(e),n=new Int32Array(We.BARS_IN_MODULE),i=0,s=0,a=0;a<We.MODULES_IN_CODEWORD;a++){var o=r/(2*We.MODULES_IN_CODEWORD)+a*r/We.MODULES_IN_CODEWORD;s+e[i]<=o&&(s+=e[i],i++),n[i]++}return n},t.getDecodedCodewordValue=function(e){var r=t.getBitValue(e);return We.getCodeword(r)===-1?-1:r},t.getBitValue=function(e){for(var r=0,n=0;n<e.length;n++)for(var i=0;i<e[n];i++)r=r<<1|(n%2===0?1:0);return Math.trunc(r)},t.getClosestDecodedValue=function(e){var r=Ke.sum(e),n=new Array(We.BARS_IN_MODULE);if(r>1)for(var i=0;i<n.length;i++)n[i]=Math.fround(e[i]/r);var s=Ig.MAX_VALUE,a=-1;this.bSymbolTableReady||t.initialize();for(var o=0;o<t.RATIOS_TABLE.length;o++){for(var l=0,c=t.RATIOS_TABLE[o],d=0;d<We.BARS_IN_MODULE;d++){var f=Math.fround(c[d]-n[d]);if(l+=Math.fround(f*f),l>=s)break}l<s&&(s=l,a=We.SYMBOL_TABLE[o])}return a},t.bSymbolTableReady=!1,t.RATIOS_TABLE=new Array(We.SYMBOL_TABLE.length).map(function(e){return new Array(We.BARS_IN_MODULE)}),t}(),nz=function(){function t(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return t.prototype.getSegmentIndex=function(){return this.segmentIndex},t.prototype.setSegmentIndex=function(e){this.segmentIndex=e},t.prototype.getFileId=function(){return this.fileId},t.prototype.setFileId=function(e){this.fileId=e},t.prototype.getOptionalData=function(){return this.optionalData},t.prototype.setOptionalData=function(e){this.optionalData=e},t.prototype.isLastSegment=function(){return this.lastSegment},t.prototype.setLastSegment=function(e){this.lastSegment=e},t.prototype.getSegmentCount=function(){return this.segmentCount},t.prototype.setSegmentCount=function(e){this.segmentCount=e},t.prototype.getSender=function(){return this.sender||null},t.prototype.setSender=function(e){this.sender=e},t.prototype.getAddressee=function(){return this.addressee||null},t.prototype.setAddressee=function(e){this.addressee=e},t.prototype.getFileName=function(){return this.fileName},t.prototype.setFileName=function(e){this.fileName=e},t.prototype.getFileSize=function(){return this.fileSize},t.prototype.setFileSize=function(e){this.fileSize=e},t.prototype.getChecksum=function(){return this.checksum},t.prototype.setChecksum=function(e){this.checksum=e},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.setTimestamp=function(e){this.timestamp=e},t}(),xb=function(){function t(){}return t.parseLong=function(e,r){return r===void 0&&(r=void 0),parseInt(e,r)},t}(),iz=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),sz=function(t){iz(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="NullPointerException",e}(nn),az=function(){function t(){}return t.prototype.writeBytes=function(e){this.writeBytesOffset(e,0,e.length)},t.prototype.writeBytesOffset=function(e,r,n){if(e==null)throw new sz;if(r<0||r>e.length||n<0||r+n>e.length||r+n<0)throw new Gy;if(n===0)return;for(var i=0;i<n;i++)this.write(e[r+i])},t.prototype.flush=function(){},t.prototype.close=function(){},t}(),oz=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),lz=function(t){oz(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(nn),cz=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),uz=function(t){cz(e,t);function e(r){r===void 0&&(r=32);var n=t.call(this)||this;if(n.count=0,r<0)throw new Se("Negative initial size: "+r);return n.buf=new Uint8Array(r),n}return e.prototype.ensureCapacity=function(r){r-this.buf.length>0&&this.grow(r)},e.prototype.grow=function(r){var n=this.buf.length,i=n<<1;if(i-r<0&&(i=r),i<0){if(r<0)throw new lz;i=Me.MAX_VALUE}this.buf=Qt.copyOfUint8Array(this.buf,i)},e.prototype.write=function(r){this.ensureCapacity(this.count+1),this.buf[this.count]=r,this.count+=1},e.prototype.writeBytesOffset=function(r,n,i){if(n<0||n>r.length||i<0||n+i-r.length>0)throw new Gy;this.ensureCapacity(this.count+i),vt.arraycopy(r,n,this.buf,this.count,i),this.count+=i},e.prototype.writeTo=function(r){r.writeBytesOffset(this.buf,0,this.count)},e.prototype.reset=function(){this.count=0},e.prototype.toByteArray=function(){return Qt.copyOfUint8Array(this.buf,this.count)},e.prototype.size=function(){return this.count},e.prototype.toString=function(r){return r?typeof r=="string"?this.toString_string(r):this.toString_number(r):this.toString_void()},e.prototype.toString_void=function(){return new String(this.buf).toString()},e.prototype.toString_string=function(r){return new String(this.buf).toString()},e.prototype.toString_number=function(r){return new String(this.buf).toString()},e.prototype.close=function(){},e}(az),dt;(function(t){t[t.ALPHA=0]="ALPHA",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.PUNCT=3]="PUNCT",t[t.ALPHA_SHIFT=4]="ALPHA_SHIFT",t[t.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(dt||(dt={}));function iT(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var bf;function Ps(t){if(typeof bf>"u"&&(bf=iT()),bf===null)throw new Error("BigInt is not supported!");return bf(t)}function dz(){var t=[];t[0]=Ps(1);var e=Ps(900);t[1]=e;for(var r=2;r<16;r++)t[r]=t[r-1]*e;return t}var fz=function(){function t(){}return t.decode=function(e,r){var n=new Fe(""),i=Zt.ISO8859_1;n.enableDecoding(i);for(var s=1,a=e[s++],o=new nz;s<e[0];){switch(a){case t.TEXT_COMPACTION_MODE_LATCH:s=t.textCompaction(e,s,n);break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:s=t.byteCompaction(a,e,i,s,n);break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(e[s++]);break;case t.NUMERIC_COMPACTION_MODE_LATCH:s=t.numericCompaction(e,s,n);break;case t.ECI_CHARSET:Zt.getCharacterSetECIByValue(e[s++]);break;case t.ECI_GENERAL_PURPOSE:s+=2;break;case t.ECI_USER_DEFINED:s++;break;case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:s=t.decodeMacroBlock(e,s,o);break;case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:throw new ne;default:s--,s=t.textCompaction(e,s,n);break}if(s<e.length)a=e[s++];else throw ne.getFormatInstance()}if(n.length()===0)throw ne.getFormatInstance();var l=new Jp(null,n.toString(),null,r);return l.setOther(o),l},t.decodeMacroBlock=function(e,r,n){if(r+t.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw ne.getFormatInstance();for(var i=new Int32Array(t.NUMBER_OF_SEQUENCE_CODEWORDS),s=0;s<t.NUMBER_OF_SEQUENCE_CODEWORDS;s++,r++)i[s]=e[r];n.setSegmentIndex(Me.parseInt(t.decodeBase900toBase10(i,t.NUMBER_OF_SEQUENCE_CODEWORDS)));var a=new Fe;r=t.textCompaction(e,r,a),n.setFileId(a.toString());var o=-1;for(e[r]===t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(o=r+1);r<e[0];)switch(e[r]){case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,e[r]){case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var l=new Fe;r=t.textCompaction(e,r+1,l),n.setFileName(l.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var c=new Fe;r=t.textCompaction(e,r+1,c),n.setSender(c.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var d=new Fe;r=t.textCompaction(e,r+1,d),n.setAddressee(d.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var f=new Fe;r=t.numericCompaction(e,r+1,f),n.setSegmentCount(Me.parseInt(f.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var h=new Fe;r=t.numericCompaction(e,r+1,h),n.setTimestamp(xb.parseLong(h.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var p=new Fe;r=t.numericCompaction(e,r+1,p),n.setChecksum(Me.parseInt(p.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var g=new Fe;r=t.numericCompaction(e,r+1,g),n.setFileSize(xb.parseLong(g.toString()));break;default:throw ne.getFormatInstance()}break;case t.MACRO_PDF417_TERMINATOR:r++,n.setLastSegment(!0);break;default:throw ne.getFormatInstance()}if(o!==-1){var m=r-o;n.isLastSegment()&&m--,n.setOptionalData(Qt.copyOfRange(e,o,o+m))}return r},t.textCompaction=function(e,r,n){for(var i=new Int32Array((e[0]-r)*2),s=new Int32Array((e[0]-r)*2),a=0,o=!1;r<e[0]&&!o;){var l=e[r++];if(l<t.TEXT_COMPACTION_MODE_LATCH)i[a]=l/30,i[a+1]=l%30,a+=2;else switch(l){case t.TEXT_COMPACTION_MODE_LATCH:i[a++]=t.TEXT_COMPACTION_MODE_LATCH;break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:r--,o=!0;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i[a]=t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,l=e[r++],s[a]=l,a++;break}}return t.decodeTextCompaction(i,s,a,n),r},t.decodeTextCompaction=function(e,r,n,i){for(var s=dt.ALPHA,a=dt.ALPHA,o=0;o<n;){var l=e[o],c="";switch(s){case dt.ALPHA:if(l<26)c=String.fromCharCode(65+l);else switch(l){case 26:c=" ";break;case t.LL:s=dt.LOWER;break;case t.ML:s=dt.MIXED;break;case t.PS:a=s,s=dt.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[o]);break;case t.TEXT_COMPACTION_MODE_LATCH:s=dt.ALPHA;break}break;case dt.LOWER:if(l<26)c=String.fromCharCode(97+l);else switch(l){case 26:c=" ";break;case t.AS:a=s,s=dt.ALPHA_SHIFT;break;case t.ML:s=dt.MIXED;break;case t.PS:a=s,s=dt.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[o]);break;case t.TEXT_COMPACTION_MODE_LATCH:s=dt.ALPHA;break}break;case dt.MIXED:if(l<t.PL)c=t.MIXED_CHARS[l];else switch(l){case t.PL:s=dt.PUNCT;break;case 26:c=" ";break;case t.LL:s=dt.LOWER;break;case t.AL:s=dt.ALPHA;break;case t.PS:a=s,s=dt.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[o]);break;case t.TEXT_COMPACTION_MODE_LATCH:s=dt.ALPHA;break}break;case dt.PUNCT:if(l<t.PAL)c=t.PUNCT_CHARS[l];else switch(l){case t.PAL:s=dt.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[o]);break;case t.TEXT_COMPACTION_MODE_LATCH:s=dt.ALPHA;break}break;case dt.ALPHA_SHIFT:if(s=a,l<26)c=String.fromCharCode(65+l);else switch(l){case 26:c=" ";break;case t.TEXT_COMPACTION_MODE_LATCH:s=dt.ALPHA;break}break;case dt.PUNCT_SHIFT:if(s=a,l<t.PAL)c=t.PUNCT_CHARS[l];else switch(l){case t.PAL:s=dt.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[o]);break;case t.TEXT_COMPACTION_MODE_LATCH:s=dt.ALPHA;break}break}c!==""&&i.append(c),o++}},t.byteCompaction=function(e,r,n,i,s){var a=new uz,o=0,l=0,c=!1;switch(e){case t.BYTE_COMPACTION_MODE_LATCH:for(var d=new Int32Array(6),f=r[i++];i<r[0]&&!c;)switch(d[o++]=f,l=900*l+f,f=r[i++],f){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:i--,c=!0;break;default:if(o%5===0&&o>0){for(var h=0;h<6;++h)a.write(Number(Ps(l)>>Ps(8*(5-h))));l=0,o=0}break}i===r[0]&&f<t.TEXT_COMPACTION_MODE_LATCH&&(d[o++]=f);for(var p=0;p<o;p++)a.write(d[p]);break;case t.BYTE_COMPACTION_MODE_LATCH_6:for(;i<r[0]&&!c;){var g=r[i++];if(g<t.TEXT_COMPACTION_MODE_LATCH)o++,l=900*l+g;else switch(g){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:i--,c=!0;break}if(o%5===0&&o>0){for(var h=0;h<6;++h)a.write(Number(Ps(l)>>Ps(8*(5-h))));l=0,o=0}}break}return s.append(Pn.decode(a.toByteArray(),n)),i},t.numericCompaction=function(e,r,n){for(var i=0,s=!1,a=new Int32Array(t.MAX_NUMERIC_CODEWORDS);r<e[0]&&!s;){var o=e[r++];if(r===e[0]&&(s=!0),o<t.TEXT_COMPACTION_MODE_LATCH)a[i]=o,i++;else switch(o){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:r--,s=!0;break}(i%t.MAX_NUMERIC_CODEWORDS===0||o===t.NUMERIC_COMPACTION_MODE_LATCH||s)&&i>0&&(n.append(t.decodeBase900toBase10(a,i)),i=0)}return r},t.decodeBase900toBase10=function(e,r){for(var n=Ps(0),i=0;i<r;i++)n+=t.EXP900[r-i-1]*Ps(e[i]);var s=n.toString();if(s.charAt(0)!=="1")throw new ne;return s.substring(1)},t.TEXT_COMPACTION_MODE_LATCH=900,t.BYTE_COMPACTION_MODE_LATCH=901,t.NUMERIC_COMPACTION_MODE_LATCH=902,t.BYTE_COMPACTION_MODE_LATCH_6=924,t.ECI_USER_DEFINED=925,t.ECI_GENERAL_PURPOSE=926,t.ECI_CHARSET=927,t.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,t.MACRO_PDF417_TERMINATOR=922,t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,t.MAX_NUMERIC_CODEWORDS=15,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,t.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,t.PL=25,t.LL=27,t.AS=27,t.ML=28,t.AL=28,t.PS=29,t.PAL=29,t.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,t.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",t.EXP900=iT()?dz():[],t.NUMBER_OF_SEQUENCE_CODEWORDS=2,t}(),Bc=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},hz=function(){function t(){}return t.decode=function(e,r,n,i,s,a,o){for(var l=new jg(e,r,n,i,s),c=null,d=null,f,h=!0;;h=!1){if(r!=null&&(c=t.getRowIndicatorColumn(e,l,r,!0,a,o)),i!=null&&(d=t.getRowIndicatorColumn(e,l,i,!1,a,o)),f=t.merge(c,d),f==null)throw K.getNotFoundInstance();var p=f.getBoundingBox();if(h&&p!=null&&(p.getMinY()<l.getMinY()||p.getMaxY()>l.getMaxY()))l=p;else break}f.setBoundingBox(l);var g=f.getBarcodeColumnCount()+1;f.setDetectionResultColumn(0,c),f.setDetectionResultColumn(g,d);for(var m=c!=null,x=1;x<=g;x++){var y=m?x:g-x;if(f.getDetectionResultColumn(y)===void 0){var v=void 0;y===0||y===g?v=new yb(l,y===0):v=new nT(l),f.setDetectionResultColumn(y,v);for(var _=-1,w=_,S=l.getMinY();S<=l.getMaxY();S++){if(_=t.getStartColumn(f,y,S,m),_<0||_>l.getMaxX()){if(w===-1)continue;_=w}var A=t.detectCodeword(e,l.getMinX(),l.getMaxX(),m,_,S,a,o);A!=null&&(v.setCodeword(S,A),w=_,a=Math.min(a,A.getWidth()),o=Math.max(o,A.getWidth()))}}}return t.createDecoderResult(f)},t.merge=function(e,r){if(e==null&&r==null)return null;var n=t.getBarcodeMetadata(e,r);if(n==null)return null;var i=jg.merge(t.adjustBoundingBox(e),t.adjustBoundingBox(r));return new ez(n,i)},t.adjustBoundingBox=function(e){var r,n;if(e==null)return null;var i=e.getRowHeights();if(i==null)return null;var s=t.getMax(i),a=0;try{for(var o=Bc(i),l=o.next();!l.done;l=o.next()){var c=l.value;if(a+=s-c,c>0)break}}catch(p){r={error:p}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}for(var d=e.getCodewords(),f=0;a>0&&d[f]==null;f++)a--;for(var h=0,f=i.length-1;f>=0&&(h+=s-i[f],!(i[f]>0));f--);for(var f=d.length-1;h>0&&d[f]==null;f--)h--;return e.getBoundingBox().addMissingRows(a,h,e.isLeft())},t.getMax=function(e){var r,n,i=-1;try{for(var s=Bc(e),a=s.next();!a.done;a=s.next()){var o=a.value;i=Math.max(i,o)}}catch(l){r={error:l}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return i},t.getBarcodeMetadata=function(e,r){var n;if(e==null||(n=e.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();var i;return r==null||(i=r.getBarcodeMetadata())==null?n:n.getColumnCount()!==i.getColumnCount()&&n.getErrorCorrectionLevel()!==i.getErrorCorrectionLevel()&&n.getRowCount()!==i.getRowCount()?null:n},t.getRowIndicatorColumn=function(e,r,n,i,s,a){for(var o=new yb(r,i),l=0;l<2;l++)for(var c=l===0?1:-1,d=Math.trunc(Math.trunc(n.getX())),f=Math.trunc(Math.trunc(n.getY()));f<=r.getMaxY()&&f>=r.getMinY();f+=c){var h=t.detectCodeword(e,0,e.getWidth(),i,d,f,s,a);h!=null&&(o.setCodeword(f,h),i?d=h.getStartX():d=h.getEndX())}return o},t.adjustCodewordCount=function(e,r){var n=r[0][1],i=n.getValue(),s=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-t.getNumberOfECCodeWords(e.getBarcodeECLevel());if(i.length===0){if(s<1||s>We.MAX_CODEWORDS_IN_BARCODE)throw K.getNotFoundInstance();n.setValue(s)}else i[0]!==s&&n.setValue(s)},t.createDecoderResult=function(e){var r=t.createBarcodeMatrix(e);t.adjustCodewordCount(e,r);for(var n=new Array,i=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),s=[],a=new Array,o=0;o<e.getBarcodeRowCount();o++)for(var l=0;l<e.getBarcodeColumnCount();l++){var c=r[o][l+1].getValue(),d=o*e.getBarcodeColumnCount()+l;c.length===0?n.push(d):c.length===1?i[d]=c[0]:(a.push(d),s.push(c))}for(var f=new Array(s.length),h=0;h<f.length;h++)f[h]=s[h];return t.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),i,We.toIntArray(n),We.toIntArray(a),f)},t.createDecoderResultFromAmbiguousValues=function(e,r,n,i,s){for(var a=new Int32Array(i.length),o=100;o-- >0;){for(var l=0;l<a.length;l++)r[i[l]]=s[l][a[l]];try{return t.decodeCodewords(r,e,n)}catch(d){var c=d instanceof or;if(!c)throw d}if(a.length===0)throw or.getChecksumInstance();for(var l=0;l<a.length;l++)if(a[l]<s[l].length-1){a[l]++;break}else if(a[l]=0,l===a.length-1)throw or.getChecksumInstance()}throw or.getChecksumInstance()},t.createBarcodeMatrix=function(e){for(var r,n,i,s,a=Array.from({length:e.getBarcodeRowCount()},function(){return new Array(e.getBarcodeColumnCount()+2)}),o=0;o<a.length;o++)for(var l=0;l<a[o].length;l++)a[o][l]=new tu;var c=0;try{for(var d=Bc(e.getDetectionResultColumns()),f=d.next();!f.done;f=d.next()){var h=f.value;if(h!=null)try{for(var p=(i=void 0,Bc(h.getCodewords())),g=p.next();!g.done;g=p.next()){var m=g.value;if(m!=null){var x=m.getRowNumber();if(x>=0){if(x>=a.length)continue;a[x][c].setValue(m.getValue())}}}}catch(y){i={error:y}}finally{try{g&&!g.done&&(s=p.return)&&s.call(p)}finally{if(i)throw i.error}}c++}}catch(y){r={error:y}}finally{try{f&&!f.done&&(n=d.return)&&n.call(d)}finally{if(r)throw r.error}}return a},t.isValidBarcodeColumn=function(e,r){return r>=0&&r<=e.getBarcodeColumnCount()+1},t.getStartColumn=function(e,r,n,i){var s,a,o=i?1:-1,l=null;if(t.isValidBarcodeColumn(e,r-o)&&(l=e.getDetectionResultColumn(r-o).getCodeword(n)),l!=null)return i?l.getEndX():l.getStartX();if(l=e.getDetectionResultColumn(r).getCodewordNearby(n),l!=null)return i?l.getStartX():l.getEndX();if(t.isValidBarcodeColumn(e,r-o)&&(l=e.getDetectionResultColumn(r-o).getCodewordNearby(n)),l!=null)return i?l.getEndX():l.getStartX();for(var c=0;t.isValidBarcodeColumn(e,r-o);){r-=o;try{for(var d=(s=void 0,Bc(e.getDetectionResultColumn(r).getCodewords())),f=d.next();!f.done;f=d.next()){var h=f.value;if(h!=null)return(i?h.getEndX():h.getStartX())+o*c*(h.getEndX()-h.getStartX())}}catch(p){s={error:p}}finally{try{f&&!f.done&&(a=d.return)&&a.call(d)}finally{if(s)throw s.error}}c++}return i?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()},t.detectCodeword=function(e,r,n,i,s,a,o,l){s=t.adjustCodewordStartColumn(e,r,n,i,s,a);var c=t.getModuleBitCount(e,r,n,i,s,a);if(c==null)return null;var d,f=Ke.sum(c);if(i)d=s+f;else{for(var h=0;h<c.length/2;h++){var p=c[h];c[h]=c[c.length-1-h],c[c.length-1-h]=p}d=s,s=d-f}if(!t.checkCodewordSkew(f,o,l))return null;var g=rz.getDecodedValue(c),m=We.getCodeword(g);return m===-1?null:new tz(s,d,t.getCodewordBucketNumber(g),m)},t.getModuleBitCount=function(e,r,n,i,s,a){for(var o=s,l=new Int32Array(8),c=0,d=i?1:-1,f=i;(i?o<n:o>=r)&&c<l.length;)e.get(o,a)===f?(l[c]++,o+=d):(c++,f=!f);return c===l.length||o===(i?n:r)&&c===l.length-1?l:null},t.getNumberOfECCodeWords=function(e){return 2<<e},t.adjustCodewordStartColumn=function(e,r,n,i,s,a){for(var o=s,l=i?-1:1,c=0;c<2;c++){for(;(i?o>=r:o<n)&&i===e.get(o,a);){if(Math.abs(s-o)>t.CODEWORD_SKEW_SIZE)return s;o+=l}l=-l,i=!i}return o},t.checkCodewordSkew=function(e,r,n){return r-t.CODEWORD_SKEW_SIZE<=e&&e<=n+t.CODEWORD_SKEW_SIZE},t.decodeCodewords=function(e,r,n){if(e.length===0)throw ne.getFormatInstance();var i=1<<r+1,s=t.correctErrors(e,n,i);t.verifyCodewordCount(e,i);var a=fz.decode(e,""+r);return a.setErrorsCorrected(s),a.setErasures(n.length),a},t.correctErrors=function(e,r,n){if(r!=null&&r.length>n/2+t.MAX_ERRORS||n<0||n>t.MAX_EC_CODEWORDS)throw or.getChecksumInstance();return t.errorCorrection.decode(e,n,r)},t.verifyCodewordCount=function(e,r){if(e.length<4)throw ne.getFormatInstance();var n=e[0];if(n>e.length)throw ne.getFormatInstance();if(n===0)if(r<e.length)e[0]=e.length-r;else throw ne.getFormatInstance()},t.getBitCountForCodeword=function(e){for(var r=new Int32Array(8),n=0,i=r.length-1;!((e&1)!==n&&(n=e&1,i--,i<0));)r[i]++,e>>=1;return r},t.getCodewordBucketNumber=function(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)},t.getCodewordBucketNumber_number=function(e){return t.getCodewordBucketNumber(t.getBitCountForCodeword(e))},t.getCodewordBucketNumber_Int32Array=function(e){return(e[0]-e[2]+e[4]-e[6]+9)%9},t.toString=function(e){for(var r=new Zy,n=0;n<e.length;n++){r.format("Row %2d: ",n);for(var i=0;i<e[n].length;i++){var s=e[n][i];s.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",s.getValue()[0],s.getConfidence(s.getValue()[0]))}r.format("%n")}return r.toString()},t.CODEWORD_SKEW_SIZE=2,t.MAX_ERRORS=3,t.MAX_EC_CODEWORDS=512,t.errorCorrection=new qV,t}(),pz=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Fg=function(){function t(){}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n=t.decode(e,r,!1);if(n==null||n.length===0||n[0]==null)throw K.getNotFoundInstance();return n[0]},t.prototype.decodeMultiple=function(e,r){r===void 0&&(r=null);try{return t.decode(e,r,!0)}catch(n){throw n instanceof ne||n instanceof or?K.getNotFoundInstance():n}},t.decode=function(e,r,n){var i,s,a=new Array,o=$V.detectMultiple(e,r,n);try{for(var l=pz(o.getPoints()),c=l.next();!c.done;c=l.next()){var d=c.value,f=hz.decode(o.getBits(),d[4],d[5],d[6],d[7],t.getMinCodewordWidth(d),t.getMaxCodewordWidth(d)),h=new Tr(f.getText(),f.getRawBytes(),void 0,d,Ce.PDF_417);h.putMetadata(mr.ERROR_CORRECTION_LEVEL,f.getECLevel());var p=f.getOther();p!=null&&h.putMetadata(mr.PDF417_EXTRA_METADATA,p),a.push(h)}}catch(g){i={error:g}}finally{try{c&&!c.done&&(s=l.return)&&s.call(l)}finally{if(i)throw i.error}}return a.map(function(g){return g})},t.getMaxWidth=function(e,r){return e==null||r==null?0:Math.trunc(Math.abs(e.getX()-r.getX()))},t.getMinWidth=function(e,r){return e==null||r==null?Me.MAX_VALUE:Math.trunc(Math.abs(e.getX()-r.getX()))},t.getMaxCodewordWidth=function(e){return Math.floor(Math.max(Math.max(t.getMaxWidth(e[0],e[4]),t.getMaxWidth(e[6],e[2])*We.MODULES_IN_CODEWORD/We.MODULES_IN_STOP_PATTERN),Math.max(t.getMaxWidth(e[1],e[5]),t.getMaxWidth(e[7],e[3])*We.MODULES_IN_CODEWORD/We.MODULES_IN_STOP_PATTERN)))},t.getMinCodewordWidth=function(e){return Math.floor(Math.min(Math.min(t.getMinWidth(e[0],e[4]),t.getMinWidth(e[6],e[2])*We.MODULES_IN_CODEWORD/We.MODULES_IN_STOP_PATTERN),Math.min(t.getMinWidth(e[1],e[5]),t.getMinWidth(e[7],e[3])*We.MODULES_IN_CODEWORD/We.MODULES_IN_STOP_PATTERN)))},t.prototype.reset=function(){},t}(),mz=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),wb=function(t){mz(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReaderException",e}(nn),_b=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},gz=function(){function t(){}return t.prototype.decode=function(e,r){return this.setHints(r),this.decodeInternal(e)},t.prototype.decodeWithState=function(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)},t.prototype.setHints=function(e){this.hints=e;var r=e!=null&&e.get(Et.TRY_HARDER)!==void 0,n=e==null?null:e.get(Et.POSSIBLE_FORMATS),i=new Array;if(n!=null){var s=n.some(function(a){return a===Ce.UPC_A||a===Ce.UPC_E||a===Ce.EAN_13||a===Ce.EAN_8||a===Ce.CODABAR||a===Ce.CODE_39||a===Ce.CODE_93||a===Ce.CODE_128||a===Ce.ITF||a===Ce.RSS_14||a===Ce.RSS_EXPANDED});s&&!r&&i.push(new eu(e)),n.includes(Ce.QR_CODE)&&i.push(new Dg),n.includes(Ce.DATA_MATRIX)&&i.push(new kg),n.includes(Ce.AZTEC)&&i.push(new Og),n.includes(Ce.PDF_417)&&i.push(new Fg),s&&r&&i.push(new eu(e))}i.length===0&&(r||i.push(new eu(e)),i.push(new Dg),i.push(new kg),i.push(new Og),i.push(new Fg),r&&i.push(new eu(e))),this.readers=i},t.prototype.reset=function(){var e,r;if(this.readers!==null)try{for(var n=_b(this.readers),i=n.next();!i.done;i=n.next()){var s=i.value;s.reset()}}catch(a){e={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},t.prototype.decodeInternal=function(e){var r,n;if(this.readers===null)throw new wb("No readers where selected, nothing can be read.");try{for(var i=_b(this.readers),s=i.next();!s.done;s=i.next()){var a=s.value;try{return a.decode(e,this.hints)}catch(o){if(o instanceof wb)continue}}}catch(o){r={error:o}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}throw new K("No MultiFormat Readers were able to detect the code.")},t}(),vz=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){vz(e,t);function e(r,n){r===void 0&&(r=null),n===void 0&&(n=500);var i=this,s=new gz;return s.setHints(r),i=t.call(this,s,n)||this,i}return e.prototype.decodeBitmap=function(r){return this.reader.decodeWithState(r)},e})(_c);var yz=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){yz(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new Fg,r)||this}return e})(_c);var xz=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),bb=function(t){xz(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new Dg,r)||this}return e}(_c),Mg;(function(t){t[t.ERROR_CORRECTION=0]="ERROR_CORRECTION",t[t.CHARACTER_SET=1]="CHARACTER_SET",t[t.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",t[t.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",t[t.MIN_SIZE=4]="MIN_SIZE",t[t.MAX_SIZE=5]="MAX_SIZE",t[t.MARGIN=6]="MARGIN",t[t.PDF417_COMPACT=7]="PDF417_COMPACT",t[t.PDF417_COMPACTION=8]="PDF417_COMPACTION",t[t.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",t[t.AZTEC_LAYERS=10]="AZTEC_LAYERS",t[t.QR_VERSION=11]="QR_VERSION",t[t.GS1_FORMAT=12]="GS1_FORMAT",t[t.FORCE_C40=13]="FORCE_C40"})(Mg||(Mg={}));const Cf=Mg;var sT=function(){function t(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new ua(e,Int32Array.from([1])))}return t.prototype.buildGenerator=function(e){var r=this.cachedGenerators;if(e>=r.length)for(var n=r[r.length-1],i=this.field,s=r.length;s<=e;s++){var a=n.multiply(new ua(i,Int32Array.from([1,i.exp(s-1+i.getGeneratorBase())])));r.push(a),n=a}return r[e]},t.prototype.encode=function(e,r){if(r===0)throw new Se("No error correction bytes");var n=e.length-r;if(n<=0)throw new Se("No data bytes provided");var i=this.buildGenerator(r),s=new Int32Array(n);vt.arraycopy(e,0,s,0,n);var a=new ua(this.field,s);a=a.multiplyByMonomial(r,1);for(var o=a.divide(i)[1],l=o.getCoefficients(),c=r-l.length,d=0;d<c;d++)e[n+d]=0;vt.arraycopy(l,0,e,n+c,l.length)},t}(),ru=function(){function t(){}return t.applyMaskPenaltyRule1=function(e){return t.applyMaskPenaltyRule1Internal(e,!0)+t.applyMaskPenaltyRule1Internal(e,!1)},t.applyMaskPenaltyRule2=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),s=e.getHeight(),a=0;a<s-1;a++)for(var o=n[a],l=0;l<i-1;l++){var c=o[l];c===o[l+1]&&c===n[a+1][l]&&c===n[a+1][l+1]&&r++}return t.N2*r},t.applyMaskPenaltyRule3=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),s=e.getHeight(),a=0;a<s;a++)for(var o=0;o<i;o++){var l=n[a];o+6<i&&l[o]===1&&l[o+1]===0&&l[o+2]===1&&l[o+3]===1&&l[o+4]===1&&l[o+5]===0&&l[o+6]===1&&(t.isWhiteHorizontal(l,o-4,o)||t.isWhiteHorizontal(l,o+7,o+11))&&r++,a+6<s&&n[a][o]===1&&n[a+1][o]===0&&n[a+2][o]===1&&n[a+3][o]===1&&n[a+4][o]===1&&n[a+5][o]===0&&n[a+6][o]===1&&(t.isWhiteVertical(n,o,a-4,a)||t.isWhiteVertical(n,o,a+7,a+11))&&r++}return r*t.N3},t.isWhiteHorizontal=function(e,r,n){r=Math.max(r,0),n=Math.min(n,e.length);for(var i=r;i<n;i++)if(e[i]===1)return!1;return!0},t.isWhiteVertical=function(e,r,n,i){n=Math.max(n,0),i=Math.min(i,e.length);for(var s=n;s<i;s++)if(e[s][r]===1)return!1;return!0},t.applyMaskPenaltyRule4=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),s=e.getHeight(),a=0;a<s;a++)for(var o=n[a],l=0;l<i;l++)o[l]===1&&r++;var c=e.getHeight()*e.getWidth(),d=Math.floor(Math.abs(r*2-c)*10/c);return d*t.N4},t.getDataMaskBit=function(e,r,n){var i,s;switch(e){case 0:i=n+r&1;break;case 1:i=n&1;break;case 2:i=r%3;break;case 3:i=(n+r)%3;break;case 4:i=Math.floor(n/2)+Math.floor(r/3)&1;break;case 5:s=n*r,i=(s&1)+s%3;break;case 6:s=n*r,i=(s&1)+s%3&1;break;case 7:s=n*r,i=s%3+(n+r&1)&1;break;default:throw new Se("Invalid mask pattern: "+e)}return i===0},t.applyMaskPenaltyRule1Internal=function(e,r){for(var n=0,i=r?e.getHeight():e.getWidth(),s=r?e.getWidth():e.getHeight(),a=e.getArray(),o=0;o<i;o++){for(var l=0,c=-1,d=0;d<s;d++){var f=r?a[o][d]:a[d][o];f===c?l++:(l>=5&&(n+=t.N1+(l-5)),l=1,c=f)}l>=5&&(n+=t.N1+(l-5))}return n},t.N1=3,t.N2=3,t.N3=40,t.N4=10,t}(),wz=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},_z=function(){function t(e,r){this.width=e,this.height=r;for(var n=new Array(r),i=0;i!==r;i++)n[i]=new Uint8Array(e);this.bytes=n}return t.prototype.getHeight=function(){return this.height},t.prototype.getWidth=function(){return this.width},t.prototype.get=function(e,r){return this.bytes[r][e]},t.prototype.getArray=function(){return this.bytes},t.prototype.setNumber=function(e,r,n){this.bytes[r][e]=n},t.prototype.setBoolean=function(e,r,n){this.bytes[r][e]=n?1:0},t.prototype.clear=function(e){var r,n;try{for(var i=wz(this.bytes),s=i.next();!s.done;s=i.next()){var a=s.value;Qt.fill(a,e)}}catch(o){r={error:o}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;if(this.width!==r.width||this.height!==r.height)return!1;for(var n=0,i=this.height;n<i;++n)for(var s=this.bytes[n],a=r.bytes[n],o=0,l=this.width;o<l;++o)if(s[o]!==a[o])return!1;return!0},t.prototype.toString=function(){for(var e=new Fe,r=0,n=this.height;r<n;++r){for(var i=this.bytes[r],s=0,a=this.width;s<a;++s)switch(i[s]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()},t}(),Lg=function(){function t(){this.maskPattern=-1}return t.prototype.getMode=function(){return this.mode},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getVersion=function(){return this.version},t.prototype.getMaskPattern=function(){return this.maskPattern},t.prototype.getMatrix=function(){return this.matrix},t.prototype.toString=function(){var e=new Fe;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()},t.prototype.setMode=function(e){this.mode=e},t.prototype.setECLevel=function(e){this.ecLevel=e},t.prototype.setVersion=function(e){this.version=e},t.prototype.setMaskPattern=function(e){this.maskPattern=e},t.prototype.setMatrix=function(e){this.matrix=e},t.isValidMaskPattern=function(e){return e>=0&&e<t.NUM_MASK_PATTERNS},t.NUM_MASK_PATTERNS=8,t}(),bz=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),wt=function(t){bz(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="WriterException",e}(nn),Cb=function(){function t(){}return t.clearMatrix=function(e){e.clear(255)},t.buildMatrix=function(e,r,n,i,s){t.clearMatrix(s),t.embedBasicPatterns(n,s),t.embedTypeInfo(r,i,s),t.maybeEmbedVersionInfo(n,s),t.embedDataBits(e,i,s)},t.embedBasicPatterns=function(e,r){t.embedPositionDetectionPatternsAndSeparators(r),t.embedDarkDotAtLeftBottomCorner(r),t.maybeEmbedPositionAdjustmentPatterns(e,r),t.embedTimingPatterns(r)},t.embedTypeInfo=function(e,r,n){var i=new lr;t.makeTypeInfoBits(e,r,i);for(var s=0,a=i.getSize();s<a;++s){var o=i.get(i.getSize()-1-s),l=t.TYPE_INFO_COORDINATES[s],c=l[0],d=l[1];if(n.setBoolean(c,d,o),s<8){var f=n.getWidth()-s-1,h=8;n.setBoolean(f,h,o)}else{var f=8,h=n.getHeight()-7+(s-8);n.setBoolean(f,h,o)}}},t.maybeEmbedVersionInfo=function(e,r){if(!(e.getVersionNumber()<7)){var n=new lr;t.makeVersionInfoBits(e,n);for(var i=6*3-1,s=0;s<6;++s)for(var a=0;a<3;++a){var o=n.get(i);i--,r.setBoolean(s,r.getHeight()-11+a,o),r.setBoolean(r.getHeight()-11+a,s,o)}}},t.embedDataBits=function(e,r,n){for(var i=0,s=-1,a=n.getWidth()-1,o=n.getHeight()-1;a>0;){for(a===6&&(a-=1);o>=0&&o<n.getHeight();){for(var l=0;l<2;++l){var c=a-l;if(t.isEmpty(n.get(c,o))){var d=void 0;i<e.getSize()?(d=e.get(i),++i):d=!1,r!==255&&ru.getDataMaskBit(r,c,o)&&(d=!d),n.setBoolean(c,o,d)}}o+=s}s=-s,o+=s,a-=2}if(i!==e.getSize())throw new wt("Not all bits consumed: "+i+"/"+e.getSize())},t.findMSBSet=function(e){return 32-Me.numberOfLeadingZeros(e)},t.calculateBCHCode=function(e,r){if(r===0)throw new Se("0 polynomial");var n=t.findMSBSet(r);for(e<<=n-1;t.findMSBSet(e)>=n;)e^=r<<t.findMSBSet(e)-n;return e},t.makeTypeInfoBits=function(e,r,n){if(!Lg.isValidMaskPattern(r))throw new wt("Invalid mask pattern");var i=e.getBits()<<3|r;n.appendBits(i,5);var s=t.calculateBCHCode(i,t.TYPE_INFO_POLY);n.appendBits(s,10);var a=new lr;if(a.appendBits(t.TYPE_INFO_MASK_PATTERN,15),n.xor(a),n.getSize()!==15)throw new wt("should not happen but we got: "+n.getSize())},t.makeVersionInfoBits=function(e,r){r.appendBits(e.getVersionNumber(),6);var n=t.calculateBCHCode(e.getVersionNumber(),t.VERSION_INFO_POLY);if(r.appendBits(n,12),r.getSize()!==18)throw new wt("should not happen but we got: "+r.getSize())},t.isEmpty=function(e){return e===255},t.embedTimingPatterns=function(e){for(var r=8;r<e.getWidth()-8;++r){var n=(r+1)%2;t.isEmpty(e.get(r,6))&&e.setNumber(r,6,n),t.isEmpty(e.get(6,r))&&e.setNumber(6,r,n)}},t.embedDarkDotAtLeftBottomCorner=function(e){if(e.get(8,e.getHeight()-8)===0)throw new wt;e.setNumber(8,e.getHeight()-8,1)},t.embedHorizontalSeparationPattern=function(e,r,n){for(var i=0;i<8;++i){if(!t.isEmpty(n.get(e+i,r)))throw new wt;n.setNumber(e+i,r,0)}},t.embedVerticalSeparationPattern=function(e,r,n){for(var i=0;i<7;++i){if(!t.isEmpty(n.get(e,r+i)))throw new wt;n.setNumber(e,r+i,0)}},t.embedPositionAdjustmentPattern=function(e,r,n){for(var i=0;i<5;++i)for(var s=t.POSITION_ADJUSTMENT_PATTERN[i],a=0;a<5;++a)n.setNumber(e+a,r+i,s[a])},t.embedPositionDetectionPattern=function(e,r,n){for(var i=0;i<7;++i)for(var s=t.POSITION_DETECTION_PATTERN[i],a=0;a<7;++a)n.setNumber(e+a,r+i,s[a])},t.embedPositionDetectionPatternsAndSeparators=function(e){var r=t.POSITION_DETECTION_PATTERN[0].length;t.embedPositionDetectionPattern(0,0,e),t.embedPositionDetectionPattern(e.getWidth()-r,0,e),t.embedPositionDetectionPattern(0,e.getWidth()-r,e);var n=8;t.embedHorizontalSeparationPattern(0,n-1,e),t.embedHorizontalSeparationPattern(e.getWidth()-n,n-1,e),t.embedHorizontalSeparationPattern(0,e.getWidth()-n,e);var i=7;t.embedVerticalSeparationPattern(i,0,e),t.embedVerticalSeparationPattern(e.getHeight()-i-1,0,e),t.embedVerticalSeparationPattern(i,e.getHeight()-i,e)},t.maybeEmbedPositionAdjustmentPatterns=function(e,r){if(!(e.getVersionNumber()<2))for(var n=e.getVersionNumber()-1,i=t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[n],s=0,a=i.length;s!==a;s++){var o=i[s];if(o>=0)for(var l=0;l!==a;l++){var c=i[l];c>=0&&t.isEmpty(r.get(c,o))&&t.embedPositionAdjustmentPattern(c-2,o-2,r)}}},t.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),t.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),t.VERSION_INFO_POLY=7973,t.TYPE_INFO_POLY=1335,t.TYPE_INFO_MASK_PATTERN=21522,t}(),Cz=function(){function t(e,r){this.dataBytes=e,this.errorCorrectionBytes=r}return t.prototype.getDataBytes=function(){return this.dataBytes},t.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},t}(),Sb=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.calculateMaskPenalty=function(e){return ru.applyMaskPenaltyRule1(e)+ru.applyMaskPenaltyRule2(e)+ru.applyMaskPenaltyRule3(e)+ru.applyMaskPenaltyRule4(e)},t.encode=function(e,r,n){n===void 0&&(n=null);var i=t.DEFAULT_BYTE_MODE_ENCODING,s=n!==null&&n.get(Cf.CHARACTER_SET)!==void 0;s&&(i=n.get(Cf.CHARACTER_SET).toString());var a=this.chooseMode(e,i),o=new lr;if(a===_t.BYTE&&(s||t.DEFAULT_BYTE_MODE_ENCODING!==i)){var l=Zt.getCharacterSetECIByName(i);l!==void 0&&this.appendECI(l,o)}this.appendModeInfo(a,o);var c=new lr;this.appendBytes(e,a,c,i);var d;if(n!==null&&n.get(Cf.QR_VERSION)!==void 0){var f=Number.parseInt(n.get(Cf.QR_VERSION).toString(),10);d=co.getVersionForNumber(f);var h=this.calculateBitsNeeded(a,o,c,d);if(!this.willFit(h,d,r))throw new wt("Data too big for requested version")}else d=this.recommendVersion(r,a,o,c);var p=new lr;p.appendBitArray(o);var g=a===_t.BYTE?c.getSizeInBytes():e.length;this.appendLengthInfo(g,d,a,p),p.appendBitArray(c);var m=d.getECBlocksForLevel(r),x=d.getTotalCodewords()-m.getTotalECCodewords();this.terminateBits(x,p);var y=this.interleaveWithECBytes(p,d.getTotalCodewords(),x,m.getNumBlocks()),v=new Lg;v.setECLevel(r),v.setMode(a),v.setVersion(d);var _=d.getDimensionForVersion(),w=new _z(_,_),S=this.chooseMaskPattern(y,r,d,w);return v.setMaskPattern(S),Cb.buildMatrix(y,r,d,S,w),v.setMatrix(w),v},t.recommendVersion=function(e,r,n,i){var s=this.calculateBitsNeeded(r,n,i,co.getVersionForNumber(1)),a=this.chooseVersion(s,e),o=this.calculateBitsNeeded(r,n,i,a);return this.chooseVersion(o,e)},t.calculateBitsNeeded=function(e,r,n,i){return r.getSize()+e.getCharacterCountBits(i)+n.getSize()},t.getAlphanumericCode=function(e){return e<t.ALPHANUMERIC_TABLE.length?t.ALPHANUMERIC_TABLE[e]:-1},t.chooseMode=function(e,r){if(r===void 0&&(r=null),Zt.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(e))return _t.KANJI;for(var n=!1,i=!1,s=0,a=e.length;s<a;++s){var o=e.charAt(s);if(t.isDigit(o))n=!0;else if(this.getAlphanumericCode(o.charCodeAt(0))!==-1)i=!0;else return _t.BYTE}return i?_t.ALPHANUMERIC:n?_t.NUMERIC:_t.BYTE},t.isOnlyDoubleByteKanji=function(e){var r;try{r=Pn.encode(e,Zt.SJIS)}catch{return!1}var n=r.length;if(n%2!==0)return!1;for(var i=0;i<n;i+=2){var s=r[i]&255;if((s<129||s>159)&&(s<224||s>235))return!1}return!0},t.chooseMaskPattern=function(e,r,n,i){for(var s=Number.MAX_SAFE_INTEGER,a=-1,o=0;o<Lg.NUM_MASK_PATTERNS;o++){Cb.buildMatrix(e,r,n,o,i);var l=this.calculateMaskPenalty(i);l<s&&(s=l,a=o)}return a},t.chooseVersion=function(e,r){for(var n=1;n<=40;n++){var i=co.getVersionForNumber(n);if(t.willFit(e,i,r))return i}throw new wt("Data too big")},t.willFit=function(e,r,n){var i=r.getTotalCodewords(),s=r.getECBlocksForLevel(n),a=s.getTotalECCodewords(),o=i-a,l=(e+7)/8;return o>=l},t.terminateBits=function(e,r){var n=e*8;if(r.getSize()>n)throw new wt("data bits cannot fit in the QR Code"+r.getSize()+" > "+n);for(var i=0;i<4&&r.getSize()<n;++i)r.appendBit(!1);var s=r.getSize()&7;if(s>0)for(var i=s;i<8;i++)r.appendBit(!1);for(var a=e-r.getSizeInBytes(),i=0;i<a;++i)r.appendBits(i&1?17:236,8);if(r.getSize()!==n)throw new wt("Bits size does not equal capacity")},t.getNumDataBytesAndNumECBytesForBlockID=function(e,r,n,i,s,a){if(i>=n)throw new wt("Block ID too large");var o=e%n,l=n-o,c=Math.floor(e/n),d=c+1,f=Math.floor(r/n),h=f+1,p=c-f,g=d-h;if(p!==g)throw new wt("EC bytes mismatch");if(n!==l+o)throw new wt("RS blocks mismatch");if(e!==(f+p)*l+(h+g)*o)throw new wt("Total bytes mismatch");i<l?(s[0]=f,a[0]=p):(s[0]=h,a[0]=g)},t.interleaveWithECBytes=function(e,r,n,i){var s,a,o,l;if(e.getSizeInBytes()!==n)throw new wt("Number of bits and data bytes does not match");for(var c=0,d=0,f=0,h=new Array,p=0;p<i;++p){var g=new Int32Array(1),m=new Int32Array(1);t.getNumDataBytesAndNumECBytesForBlockID(r,n,i,p,g,m);var x=g[0],y=new Uint8Array(x);e.toBytes(8*c,y,0,x);var v=t.generateECBytes(y,m[0]);h.push(new Cz(y,v)),d=Math.max(d,x),f=Math.max(f,v.length),c+=g[0]}if(n!==c)throw new wt("Data bytes does not match offset");for(var _=new lr,p=0;p<d;++p)try{for(var w=(s=void 0,Sb(h)),S=w.next();!S.done;S=w.next()){var A=S.value,y=A.getDataBytes();p<y.length&&_.appendBits(y[p],8)}}catch(F){s={error:F}}finally{try{S&&!S.done&&(a=w.return)&&a.call(w)}finally{if(s)throw s.error}}for(var p=0;p<f;++p)try{for(var E=(o=void 0,Sb(h)),P=E.next();!P.done;P=E.next()){var A=P.value,v=A.getErrorCorrectionBytes();p<v.length&&_.appendBits(v[p],8)}}catch(F){o={error:F}}finally{try{P&&!P.done&&(l=E.return)&&l.call(E)}finally{if(o)throw o.error}}if(r!==_.getSizeInBytes())throw new wt("Interleaving error: "+r+" and "+_.getSizeInBytes()+" differ.");return _},t.generateECBytes=function(e,r){for(var n=e.length,i=new Int32Array(n+r),s=0;s<n;s++)i[s]=e[s]&255;new sT(Zr.QR_CODE_FIELD_256).encode(i,r);for(var a=new Uint8Array(r),s=0;s<r;s++)a[s]=i[n+s];return a},t.appendModeInfo=function(e,r){r.appendBits(e.getBits(),4)},t.appendLengthInfo=function(e,r,n,i){var s=n.getCharacterCountBits(r);if(e>=1<<s)throw new wt(e+" is bigger than "+((1<<s)-1));i.appendBits(e,s)},t.appendBytes=function(e,r,n,i){switch(r){case _t.NUMERIC:t.appendNumericBytes(e,n);break;case _t.ALPHANUMERIC:t.appendAlphanumericBytes(e,n);break;case _t.BYTE:t.append8BitBytes(e,n,i);break;case _t.KANJI:t.appendKanjiBytes(e,n);break;default:throw new wt("Invalid mode: "+r)}},t.getDigit=function(e){return e.charCodeAt(0)-48},t.isDigit=function(e){var r=t.getDigit(e);return r>=0&&r<=9},t.appendNumericBytes=function(e,r){for(var n=e.length,i=0;i<n;){var s=t.getDigit(e.charAt(i));if(i+2<n){var a=t.getDigit(e.charAt(i+1)),o=t.getDigit(e.charAt(i+2));r.appendBits(s*100+a*10+o,10),i+=3}else if(i+1<n){var a=t.getDigit(e.charAt(i+1));r.appendBits(s*10+a,7),i+=2}else r.appendBits(s,4),i++}},t.appendAlphanumericBytes=function(e,r){for(var n=e.length,i=0;i<n;){var s=t.getAlphanumericCode(e.charCodeAt(i));if(s===-1)throw new wt;if(i+1<n){var a=t.getAlphanumericCode(e.charCodeAt(i+1));if(a===-1)throw new wt;r.appendBits(s*45+a,11),i+=2}else r.appendBits(s,6),i++}},t.append8BitBytes=function(e,r,n){var i;try{i=Pn.encode(e,n)}catch(l){throw new wt(l)}for(var s=0,a=i.length;s!==a;s++){var o=i[s];r.appendBits(o,8)}},t.appendKanjiBytes=function(e,r){var n;try{n=Pn.encode(e,Zt.SJIS)}catch(f){throw new wt(f)}for(var i=n.length,s=0;s<i;s+=2){var a=n[s]&255,o=n[s+1]&255,l=a<<8&4294967295|o,c=-1;if(l>=33088&&l<=40956?c=l-33088:l>=57408&&l<=60351&&(c=l-49472),c===-1)throw new wt("Invalid byte sequence");var d=(c>>8)*192+(c&255);r.appendBits(d,13)}},t.appendECI=function(e,r){r.appendBits(_t.ECI.getBits(),4),r.appendBits(e.getValue(),8)},t.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),t.DEFAULT_BYTE_MODE_ENCODING=Zt.UTF8.getName(),t})();var Sz=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){Sz(e,t);function e(r,n,i,s,a,o,l,c){var d=t.call(this,o,l)||this;if(d.yuvData=r,d.dataWidth=n,d.dataHeight=i,d.left=s,d.top=a,s+o>n||a+l>i)throw new Se("Crop rectangle does not fit within image data.");return c&&d.reverseHorizontal(o,l),d}return e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new Se("Requested row is outside the image: "+r);var i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));var s=(r+this.top)*this.dataWidth+this.left;return vt.arraycopy(this.yuvData,s,n,0,i),n},e.prototype.getMatrix=function(){var r=this.getWidth(),n=this.getHeight();if(r===this.dataWidth&&n===this.dataHeight)return this.yuvData;var i=r*n,s=new Uint8ClampedArray(i),a=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return vt.arraycopy(this.yuvData,a,s,0,i),s;for(var o=0;o<n;o++){var l=o*r;vt.arraycopy(this.yuvData,a,s,l,r),a+=this.dataWidth}return s},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,s){return new e(this.yuvData,this.dataWidth,this.dataHeight,this.left+r,this.top+n,i,s,!1)},e.prototype.renderThumbnail=function(){for(var r=this.getWidth()/e.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/e.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(r*n),s=this.yuvData,a=this.top*this.dataWidth+this.left,o=0;o<n;o++){for(var l=o*r,c=0;c<r;c++){var d=s[a+c*e.THUMBNAIL_SCALE_FACTOR]&255;i[l+c]=4278190080|d*65793}a+=this.dataWidth*e.THUMBNAIL_SCALE_FACTOR}return i},e.prototype.getThumbnailWidth=function(){return this.getWidth()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.getThumbnailHeight=function(){return this.getHeight()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.reverseHorizontal=function(r,n){for(var i=this.yuvData,s=0,a=this.top*this.dataWidth+this.left;s<n;s++,a+=this.dataWidth)for(var o=a+r/2,l=a,c=a+r-1;l<o;l++,c--){var d=i[l];i[l]=i[c],i[c]=d}},e.prototype.invert=function(){return new qy(this)},e.THUMBNAIL_SCALE_FACTOR=2,e})(Qp);var Ez=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){Ez(e,t);function e(r,n,i,s,a,o,l){var c=t.call(this,n,i)||this;if(c.dataWidth=s,c.dataHeight=a,c.left=o,c.top=l,r.BYTES_PER_ELEMENT===4){for(var d=n*i,f=new Uint8ClampedArray(d),h=0;h<d;h++){var p=r[h],g=p>>16&255,m=p>>7&510,x=p&255;f[h]=(g+m+x)/4&255}c.luminances=f}else c.luminances=r;if(s===void 0&&(c.dataWidth=n),a===void 0&&(c.dataHeight=i),o===void 0&&(c.left=0),l===void 0&&(c.top=0),c.left+n>c.dataWidth||c.top+i>c.dataHeight)throw new Se("Crop rectangle does not fit within image data.");return c}return e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new Se("Requested row is outside the image: "+r);var i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));var s=(r+this.top)*this.dataWidth+this.left;return vt.arraycopy(this.luminances,s,n,0,i),n},e.prototype.getMatrix=function(){var r=this.getWidth(),n=this.getHeight();if(r===this.dataWidth&&n===this.dataHeight)return this.luminances;var i=r*n,s=new Uint8ClampedArray(i),a=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return vt.arraycopy(this.luminances,a,s,0,i),s;for(var o=0;o<n;o++){var l=o*r;vt.arraycopy(this.luminances,a,s,l,r),a+=this.dataWidth}return s},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,s){return new e(this.luminances,i,s,this.dataWidth,this.dataHeight,this.left+r,this.top+n)},e.prototype.invert=function(){return new qy(this)},e})(Qp);var Az=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Nz=function(t){Az(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.forName=function(r){return this.getCharacterSetECIByName(r)},e}(Zt),Tz=function(){function t(){}return t.ISO_8859_1=Zt.ISO8859_1,t}(),Bg,Iz=301,Pz=function(t,e){for(var r=1,n=0;n<255;n++)e[n]=r,t[r]=n,r*=2,r>=256&&(r^=Iz);return{LOG:t,ALOG:e}};Bg=Pz([],[]),Bg.LOG;Bg.ALOG;var Eb;(function(t){t[t.FORCE_NONE=0]="FORCE_NONE",t[t.FORCE_SQUARE=1]="FORCE_SQUARE",t[t.FORCE_RECTANGLE=2]="FORCE_RECTANGLE"})(Eb||(Eb={}));var Ab=129,aT=230,Oz=231,Rz=235,kz=236,Dz=237,jz=238,Fz=239,Mz=240,f1=254,Lz=254,Nb="[)>05",Tb="[)>06",Ib="",ot=0,hr=1,kr=2,Gt=3,ir=4,br=5,Bz=function(){function t(){}return t.prototype.getEncodingMode=function(){return ot},t.prototype.encode=function(e){var r=oi.determineConsecutiveDigitCount(e.getMessage(),e.pos);if(r>=2)e.writeCodeword(this.encodeASCIIDigits(e.getMessage().charCodeAt(e.pos),e.getMessage().charCodeAt(e.pos+1))),e.pos+=2;else{var n=e.getCurrentChar(),i=oi.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode())switch(i){case br:e.writeCodeword(Oz),e.signalEncoderChange(br);return;case hr:e.writeCodeword(aT),e.signalEncoderChange(hr);return;case Gt:e.writeCodeword(jz),e.signalEncoderChange(Gt);break;case kr:e.writeCodeword(Fz),e.signalEncoderChange(kr);break;case ir:e.writeCodeword(Mz),e.signalEncoderChange(ir);break;default:throw new Error("Illegal mode: "+i)}else oi.isExtendedASCII(n)?(e.writeCodeword(Rz),e.writeCodeword(n-128+1),e.pos++):(e.writeCodeword(n+1),e.pos++)}},t.prototype.encodeASCIIDigits=function(e,r){if(oi.isDigit(e)&&oi.isDigit(r)){var n=(e-48)*10+(r-48);return n+130}throw new Error("not digits: "+e+r)},t}(),Uz=function(){function t(){}return t.prototype.getEncodingMode=function(){return br},t.prototype.encode=function(e){var r=new Fe;for(r.append(0);e.hasMoreCharacters();){var n=e.getCurrentChar();r.append(n),e.pos++;var i=oi.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode()){e.signalEncoderChange(ot);break}}var s=r.length()-1,a=1,o=e.getCodewordCount()+s+a;e.updateSymbolInfo(o);var l=e.getSymbolInfo().getDataCapacity()-o>0;if(e.hasMoreCharacters()||l)if(s<=249)r.setCharAt(0,He.getCharAt(s));else if(s<=1555)r.setCharAt(0,He.getCharAt(Math.floor(s/250)+249)),r.insert(1,He.getCharAt(s%250));else throw new Error("Message length not in valid ranges: "+s);for(var c=0,n=r.length();c<n;c++)e.writeCodeword(this.randomize255State(r.charAt(c).charCodeAt(0),e.getCodewordCount()+1))},t.prototype.randomize255State=function(e,r){var n=149*r%255+1,i=e+n;return i<=255?i:i-256},t}(),Qy=function(){function t(){}return t.prototype.getEncodingMode=function(){return hr},t.prototype.encodeMaximal=function(e){for(var r=new Fe,n=0,i=e.pos,s=0;e.hasMoreCharacters();){var a=e.getCurrentChar();e.pos++,n=this.encodeChar(a,r),r.length()%3===0&&(i=e.pos,s=r.length())}if(s!==r.length()){var o=Math.floor(r.length()/3*2),l=Math.floor(e.getCodewordCount()+o+1);e.updateSymbolInfo(l);var c=e.getSymbolInfo().getDataCapacity()-l,d=Math.floor(r.length()%3);(d===2&&c!==2||d===1&&(n>3||c!==1))&&(e.pos=i)}r.length()>0&&e.writeCodeword(aT),this.handleEOD(e,r)},t.prototype.encode=function(e){for(var r=new Fe;e.hasMoreCharacters();){var n=e.getCurrentChar();e.pos++;var i=this.encodeChar(n,r),s=Math.floor(r.length()/3)*2,a=e.getCodewordCount()+s;e.updateSymbolInfo(a);var o=e.getSymbolInfo().getDataCapacity()-a;if(!e.hasMoreCharacters()){var l=new Fe;for(r.length()%3===2&&o!==2&&(i=this.backtrackOneCharacter(e,r,l,i));r.length()%3===1&&(i>3||o!==1);)i=this.backtrackOneCharacter(e,r,l,i);break}var c=r.length();if(c%3===0){var d=oi.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(d!==this.getEncodingMode()){e.signalEncoderChange(ot);break}}}this.handleEOD(e,r)},t.prototype.backtrackOneCharacter=function(e,r,n,i){var s=r.length(),a=r.toString().substring(0,s-i);r.setLengthToZero(),r.append(a),e.pos--;var o=e.getCurrentChar();return i=this.encodeChar(o,n),e.resetSymbolInfo(),i},t.prototype.writeNextTriplet=function(e,r){e.writeCodewords(this.encodeToCodewords(r.toString()));var n=r.toString().substring(3);r.setLengthToZero(),r.append(n)},t.prototype.handleEOD=function(e,r){var n=Math.floor(r.length()/3*2),i=r.length()%3,s=e.getCodewordCount()+n;e.updateSymbolInfo(s);var a=e.getSymbolInfo().getDataCapacity()-s;if(i===2){for(r.append("\0");r.length()>=3;)this.writeNextTriplet(e,r);e.hasMoreCharacters()&&e.writeCodeword(f1)}else if(a===1&&i===1){for(;r.length()>=3;)this.writeNextTriplet(e,r);e.hasMoreCharacters()&&e.writeCodeword(f1),e.pos--}else if(i===0){for(;r.length()>=3;)this.writeNextTriplet(e,r);(a>0||e.hasMoreCharacters())&&e.writeCodeword(f1)}else throw new Error("Unexpected case. Please report!");e.signalEncoderChange(ot)},t.prototype.encodeChar=function(e,r){if(e===32)return r.append(3),1;if(e>=48&&e<=57)return r.append(e-48+4),1;if(e>=65&&e<=90)return r.append(e-65+14),1;if(e<32)return r.append(0),r.append(e),2;if(e<=47)return r.append(1),r.append(e-33),2;if(e<=64)return r.append(1),r.append(e-58+15),2;if(e<=95)return r.append(1),r.append(e-91+22),2;if(e<=127)return r.append(2),r.append(e-96),2;r.append("1");var n=2;return n+=this.encodeChar(e-128,r),n},t.prototype.encodeToCodewords=function(e){var r=1600*e.charCodeAt(0)+40*e.charCodeAt(1)+e.charCodeAt(2)+1,n=r/256,i=r%256,s=new Fe;return s.append(n),s.append(i),s.toString()},t}(),$z=function(){function t(){}return t.prototype.getEncodingMode=function(){return ir},t.prototype.encode=function(e){for(var r=new Fe;e.hasMoreCharacters();){var n=e.getCurrentChar();this.encodeChar(n,r),e.pos++;var i=r.length();if(i>=4){e.writeCodewords(this.encodeToCodewords(r.toString()));var s=r.toString().substring(4);r.setLengthToZero(),r.append(s);var a=oi.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(a!==this.getEncodingMode()){e.signalEncoderChange(ot);break}}}r.append(He.getCharAt(31)),this.handleEOD(e,r)},t.prototype.handleEOD=function(e,r){try{var n=r.length();if(n===0)return;if(n===1){e.updateSymbolInfo();var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount(),s=e.getRemainingCharacters();if(s>i&&(e.updateSymbolInfo(e.getCodewordCount()+1),i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount()),s<=i&&i<=2)return}if(n>4)throw new Error("Count must not exceed 4");var a=n-1,o=this.encodeToCodewords(r.toString()),l=!e.hasMoreCharacters(),c=l&&a<=2;if(a<=2){e.updateSymbolInfo(e.getCodewordCount()+a);var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount();i>=3&&(c=!1,e.updateSymbolInfo(e.getCodewordCount()+o.length))}c?(e.resetSymbolInfo(),e.pos-=a):e.writeCodewords(o)}finally{e.signalEncoderChange(ot)}},t.prototype.encodeChar=function(e,r){e>=32&&e<=63?r.append(e):e>=64&&e<=94?r.append(He.getCharAt(e-64)):oi.illegalCharacter(He.getCharAt(e))},t.prototype.encodeToCodewords=function(e){var r=e.length;if(r===0)throw new Error("StringBuilder must not be empty");var n=e.charAt(0).charCodeAt(0),i=r>=2?e.charAt(1).charCodeAt(0):0,s=r>=3?e.charAt(2).charCodeAt(0):0,a=r>=4?e.charAt(3).charCodeAt(0):0,o=(n<<18)+(i<<12)+(s<<6)+a,l=o>>16&255,c=o>>8&255,d=o&255,f=new Fe;return f.append(l),r>=2&&f.append(c),r>=3&&f.append(d),f.toString()},t}(),Vz=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),zz=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Qe=function(){function t(e,r,n,i,s,a,o,l){o===void 0&&(o=0),l===void 0&&(l=0),this.rectangular=e,this.dataCapacity=r,this.errorCodewords=n,this.matrixWidth=i,this.matrixHeight=s,this.dataRegions=a,this.rsBlockData=o,this.rsBlockError=l}return t.lookup=function(e,r,n,i,s){var a,o;r===void 0&&(r=0),n===void 0&&(n=null),i===void 0&&(i=null),s===void 0&&(s=!0);try{for(var l=zz(Wz),c=l.next();!c.done;c=l.next()){var d=c.value;if(!(r===1&&d.rectangular)&&!(r===2&&!d.rectangular)&&!(n!=null&&(d.getSymbolWidth()<n.getWidth()||d.getSymbolHeight()<n.getHeight()))&&!(i!=null&&(d.getSymbolWidth()>i.getWidth()||d.getSymbolHeight()>i.getHeight()))&&e<=d.dataCapacity)return d}}catch(f){a={error:f}}finally{try{c&&!c.done&&(o=l.return)&&o.call(l)}finally{if(a)throw a.error}}if(s)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+e);return null},t.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},t.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},t.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+this.getHorizontalDataRegions()*2},t.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+this.getVerticalDataRegions()*2},t.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},t.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},t.prototype.getDataCapacity=function(){return this.dataCapacity},t.prototype.getErrorCodewords=function(){return this.errorCodewords},t.prototype.getDataLengthForInterleavedBlock=function(e){return this.rsBlockData},t.prototype.getErrorLengthForInterleavedBlock=function(e){return this.rsBlockError},t}(),Hz=function(t){Vz(e,t);function e(){return t.call(this,!1,1558,620,22,22,36,-1,62)||this}return e.prototype.getInterleavedBlockCount=function(){return 10},e.prototype.getDataLengthForInterleavedBlock=function(r){return r<=8?156:155},e}(Qe),Wz=[new Qe(!1,3,5,8,8,1),new Qe(!1,5,7,10,10,1),new Qe(!0,5,7,16,6,1),new Qe(!1,8,10,12,12,1),new Qe(!0,10,11,14,6,2),new Qe(!1,12,12,14,14,1),new Qe(!0,16,14,24,10,1),new Qe(!1,18,14,16,16,1),new Qe(!1,22,18,18,18,1),new Qe(!0,22,18,16,10,2),new Qe(!1,30,20,20,20,1),new Qe(!0,32,24,16,14,2),new Qe(!1,36,24,22,22,1),new Qe(!1,44,28,24,24,1),new Qe(!0,49,28,22,14,2),new Qe(!1,62,36,14,14,4),new Qe(!1,86,42,16,16,4),new Qe(!1,114,48,18,18,4),new Qe(!1,144,56,20,20,4),new Qe(!1,174,68,22,22,4),new Qe(!1,204,84,24,24,4,102,42),new Qe(!1,280,112,14,14,16,140,56),new Qe(!1,368,144,16,16,16,92,36),new Qe(!1,456,192,18,18,16,114,48),new Qe(!1,576,224,20,20,16,144,56),new Qe(!1,696,272,22,22,16,174,68),new Qe(!1,816,336,24,24,16,136,56),new Qe(!1,1050,408,18,18,36,175,68),new Qe(!1,1304,496,20,20,36,163,62),new Hz],Gz=function(){function t(e){this.msg=e,this.pos=0,this.skipAtEnd=0;for(var r=e.split("").map(function(o){return o.charCodeAt(0)}),n=new Fe,i=0,s=r.length;i<s;i++){var a=String.fromCharCode(r[i]&255);if(a==="?"&&e.charAt(i)!=="?")throw new Error("Message contains characters outside ISO-8859-1 encoding.");n.append(a)}this.msg=n.toString(),this.shape=0,this.codewords=new Fe,this.newEncoding=-1}return t.prototype.setSymbolShape=function(e){this.shape=e},t.prototype.setSizeConstraints=function(e,r){this.minSize=e,this.maxSize=r},t.prototype.getMessage=function(){return this.msg},t.prototype.setSkipAtEnd=function(e){this.skipAtEnd=e},t.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCodewords=function(){return this.codewords},t.prototype.writeCodewords=function(e){this.codewords.append(e)},t.prototype.writeCodeword=function(e){this.codewords.append(e)},t.prototype.getCodewordCount=function(){return this.codewords.length()},t.prototype.getNewEncoding=function(){return this.newEncoding},t.prototype.signalEncoderChange=function(e){this.newEncoding=e},t.prototype.resetEncoderSignal=function(){this.newEncoding=-1},t.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},t.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},t.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},t.prototype.getSymbolInfo=function(){return this.symbolInfo},t.prototype.updateSymbolInfo=function(e){e===void 0&&(e=this.getCodewordCount()),(this.symbolInfo==null||e>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=Qe.lookup(e,this.shape,this.minSize,this.maxSize,!0))},t.prototype.resetSymbolInfo=function(){this.symbolInfo=null},t}(),qz=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Xz=function(t){qz(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return Gt},e.prototype.encode=function(r){for(var n=new Fe;r.hasMoreCharacters();){var i=r.getCurrentChar();r.pos++,this.encodeChar(i,n);var s=n.length();if(s%3===0){this.writeNextTriplet(r,n);var a=oi.lookAheadTest(r.getMessage(),r.pos,this.getEncodingMode());if(a!==this.getEncodingMode()){r.signalEncoderChange(ot);break}}}this.handleEOD(r,n)},e.prototype.encodeChar=function(r,n){switch(r){case 13:n.append(0);break;case 42:n.append(1);break;case 62:n.append(2);break;case 32:n.append(3);break;default:r>=48&&r<=57?n.append(r-48+4):r>=65&&r<=90?n.append(r-65+14):oi.illegalCharacter(He.getCharAt(r));break}return 1},e.prototype.handleEOD=function(r,n){r.updateSymbolInfo();var i=r.getSymbolInfo().getDataCapacity()-r.getCodewordCount(),s=n.length();r.pos-=s,(r.getRemainingCharacters()>1||i>1||r.getRemainingCharacters()!==i)&&r.writeCodeword(Lz),r.getNewEncoding()<0&&r.signalEncoderChange(ot)},e}(Qy),Kz=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Yz=function(t){Kz(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return kr},e.prototype.encodeChar=function(r,n){if(r===32)return n.append(3),1;if(r>=48&&r<=57)return n.append(r-48+4),1;if(r>=97&&r<=122)return n.append(r-97+14),1;if(r<32)return n.append(0),n.append(r),2;if(r<=47)return n.append(1),n.append(r-33),2;if(r<=64)return n.append(1),n.append(r-58+15),2;if(r>=91&&r<=95)return n.append(1),n.append(r-91+22),2;if(r===96)return n.append(2),n.append(0),2;if(r<=90)return n.append(2),n.append(r-65+1),2;if(r<=127)return n.append(2),n.append(r-123+27),2;n.append("1");var i=2;return i+=this.encodeChar(r-128,n),i},e}(Qy),oi=function(){function t(){}return t.randomize253State=function(e){var r=149*e%253+1,n=Ab+r;return n<=254?n:n-254},t.encodeHighLevel=function(e,r,n,i,s){r===void 0&&(r=0),n===void 0&&(n=null),i===void 0&&(i=null),s===void 0&&(s=!1);var a=new Qy,o=[new Bz,a,new Yz,new Xz,new $z,new Uz],l=new Gz(e);l.setSymbolShape(r),l.setSizeConstraints(n,i),e.startsWith(Nb)&&e.endsWith(Ib)?(l.writeCodeword(kz),l.setSkipAtEnd(2),l.pos+=Nb.length):e.startsWith(Tb)&&e.endsWith(Ib)&&(l.writeCodeword(Dz),l.setSkipAtEnd(2),l.pos+=Tb.length);var c=ot;for(s&&(a.encodeMaximal(l),c=l.getNewEncoding(),l.resetEncoderSignal());l.hasMoreCharacters();)o[c].encode(l),l.getNewEncoding()>=0&&(c=l.getNewEncoding(),l.resetEncoderSignal());var d=l.getCodewordCount();l.updateSymbolInfo();var f=l.getSymbolInfo().getDataCapacity();d<f&&c!==ot&&c!==br&&c!==ir&&l.writeCodeword("");var h=l.getCodewords();for(h.length()<f&&h.append(Ab);h.length()<f;)h.append(this.randomize253State(h.length()+1));return l.getCodewords().toString()},t.lookAheadTest=function(e,r,n){var i=this.lookAheadTestIntern(e,r,n);if(n===Gt&&i===Gt){for(var s=Math.min(r+3,e.length),a=r;a<s;a++)if(!this.isNativeX12(e.charCodeAt(a)))return ot}else if(n===ir&&i===ir){for(var s=Math.min(r+4,e.length),a=r;a<s;a++)if(!this.isNativeEDIFACT(e.charCodeAt(a)))return ot}return i},t.lookAheadTestIntern=function(e,r,n){if(r>=e.length)return n;var i;n===ot?i=[0,1,1,1,1,1.25]:(i=[1,2,2,2,2,2.25],i[n]=0);for(var s=0,a=new Uint8Array(6),o=[];;){if(r+s===e.length){Qt.fill(a,0),Qt.fill(o,0);var l=this.findMinimums(i,o,Me.MAX_VALUE,a),c=this.getMinimumCount(a);if(o[ot]===l)return ot;if(c===1){if(a[br]>0)return br;if(a[ir]>0)return ir;if(a[kr]>0)return kr;if(a[Gt]>0)return Gt}return hr}var d=e.charCodeAt(r+s);if(s++,this.isDigit(d)?i[ot]+=.5:this.isExtendedASCII(d)?(i[ot]=Math.ceil(i[ot]),i[ot]+=2):(i[ot]=Math.ceil(i[ot]),i[ot]++),this.isNativeC40(d)?i[hr]+=2/3:this.isExtendedASCII(d)?i[hr]+=8/3:i[hr]+=4/3,this.isNativeText(d)?i[kr]+=2/3:this.isExtendedASCII(d)?i[kr]+=8/3:i[kr]+=4/3,this.isNativeX12(d)?i[Gt]+=2/3:this.isExtendedASCII(d)?i[Gt]+=13/3:i[Gt]+=10/3,this.isNativeEDIFACT(d)?i[ir]+=3/4:this.isExtendedASCII(d)?i[ir]+=17/4:i[ir]+=13/4,this.isSpecialB256(d)?i[br]+=4:i[br]++,s>=4){if(Qt.fill(a,0),Qt.fill(o,0),this.findMinimums(i,o,Me.MAX_VALUE,a),o[ot]<this.min(o[br],o[hr],o[kr],o[Gt],o[ir]))return ot;if(o[br]<o[ot]||o[br]+1<this.min(o[hr],o[kr],o[Gt],o[ir]))return br;if(o[ir]+1<this.min(o[br],o[hr],o[kr],o[Gt],o[ot]))return ir;if(o[kr]+1<this.min(o[br],o[hr],o[ir],o[Gt],o[ot]))return kr;if(o[Gt]+1<this.min(o[br],o[hr],o[ir],o[kr],o[ot]))return Gt;if(o[hr]+1<this.min(o[ot],o[br],o[ir],o[kr])){if(o[hr]<o[Gt])return hr;if(o[hr]===o[Gt]){for(var f=r+s+1;f<e.length;){var h=e.charCodeAt(f);if(this.isX12TermSep(h))return Gt;if(!this.isNativeX12(h))break;f++}return hr}}}}},t.min=function(e,r,n,i,s){var a=Math.min(e,Math.min(r,Math.min(n,i)));return s===void 0?a:Math.min(a,s)},t.findMinimums=function(e,r,n,i){for(var s=0;s<6;s++){var a=r[s]=Math.ceil(e[s]);n>a&&(n=a,Qt.fill(i,0)),n===a&&(i[s]=i[s]+1)}return n},t.getMinimumCount=function(e){for(var r=0,n=0;n<6;n++)r+=e[n];return r||0},t.isDigit=function(e){return e>=48&&e<=57},t.isExtendedASCII=function(e){return e>=128&&e<=255},t.isNativeC40=function(e){return e===32||e>=48&&e<=57||e>=65&&e<=90},t.isNativeText=function(e){return e===32||e>=48&&e<=57||e>=97&&e<=122},t.isNativeX12=function(e){return this.isX12TermSep(e)||e===32||e>=48&&e<=57||e>=65&&e<=90},t.isX12TermSep=function(e){return e===13||e===42||e===62},t.isNativeEDIFACT=function(e){return e>=32&&e<=94},t.isSpecialB256=function(e){return!1},t.determineConsecutiveDigitCount=function(e,r){r===void 0&&(r=0);for(var n=e.length,i=r;i<n&&this.isDigit(e.charCodeAt(i));)i++;return i-r},t.illegalCharacter=function(e){var r=Me.toHexString(e.charCodeAt(0));throw r="0000".substring(0,4-r.length)+r,new Error("Illegal character: "+e+" (0x"+r+")")},t}(),h1=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Pb=function(){function t(e){this.charset=e,this.name=e.name}return t.prototype.canEncode=function(e){try{return Pn.encode(e,this.charset)!=null}catch{return!1}},t}(),Zz=function(){function t(e,r,n){var i,s,a,o,l,c;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function(j){return new Pb(Nz.forName(j))}),this.encoders=[];var d=[];d.push(new Pb(Tz.ISO_8859_1));for(var f=r!=null&&r.name.startsWith("UTF"),h=0;h<e.length;h++){var p=!1;try{for(var g=(i=void 0,h1(d)),m=g.next();!m.done;m=g.next()){var x=m.value,y=e.charAt(h),v=y.charCodeAt(0);if(v===n||x.canEncode(y)){p=!0;break}}}catch(j){i={error:j}}finally{try{m&&!m.done&&(s=g.return)&&s.call(g)}finally{if(i)throw i.error}}if(!p)try{for(var _=(a=void 0,h1(this.ENCODERS)),w=_.next();!w.done;w=_.next()){var x=w.value;if(x.canEncode(e.charAt(h))){d.push(x),p=!0;break}}}catch(j){a={error:j}}finally{try{w&&!w.done&&(o=_.return)&&o.call(_)}finally{if(a)throw a.error}}p||(f=!0)}if(d.length===1&&!f)this.encoders=[d[0]];else{this.encoders=[];var S=0;try{for(var A=h1(d),E=A.next();!E.done;E=A.next()){var x=E.value;this.encoders[S++]=x}}catch(j){l={error:j}}finally{try{E&&!E.done&&(c=A.return)&&c.call(A)}finally{if(l)throw l.error}}}var P=-1;if(r!=null){for(var h=0;h<this.encoders.length;h++)if(this.encoders[h]!=null&&r.name===this.encoders[h].name){P=h;break}}this.priorityEncoderIndex=P}return t.prototype.length=function(){return this.encoders.length},t.prototype.getCharsetName=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].name},t.prototype.getCharset=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].charset},t.prototype.getECIValue=function(e){return this.encoders[e].charset.getValueIdentifier()},t.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},t.prototype.canEncode=function(e,r){if(!(r<this.length()))throw new Error("index must be less than length");return!0},t.prototype.encode=function(e,r){if(!(r<this.length()))throw new Error("index must be less than length");return Pn.encode(He.getCharAt(e),this.encoders[r].name)},t}(),Qz=3,Jz=function(){function t(e,r,n){this.fnc1=n;var i=new Zz(e,r,n);if(i.length()===1)for(var s=0;s<this.bytes.length;s++){var a=e.charAt(s).charCodeAt(0);this.bytes[s]=a===n?1e3:a}else this.bytes=this.encodeMinimally(e,i,n)}return t.prototype.getFNC1Character=function(){return this.fnc1},t.prototype.length=function(){return this.bytes.length},t.prototype.haveNCharacters=function(e,r){if(e+r-1>=this.bytes.length)return!1;for(var n=0;n<r;n++)if(this.isECI(e+n))return!1;return!0},t.prototype.charAt=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(this.isECI(e))throw new Error("value at "+e+" is not a character but an ECI");return this.isFNC1(e)?this.fnc1:this.bytes[e]},t.prototype.subSequence=function(e,r){if(e<0||e>r||r>this.length())throw new Error(""+e);for(var n=new Fe,i=e;i<r;i++){if(this.isECI(i))throw new Error("value at "+i+" is not a character but an ECI");n.append(this.charAt(i))}return n.toString()},t.prototype.isECI=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]>255&&this.bytes[e]<=999},t.prototype.isFNC1=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]===1e3},t.prototype.getECIValue=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(!this.isECI(e))throw new Error("value at "+e+" is not an ECI but a character");return this.bytes[e]-256},t.prototype.addEdge=function(e,r,n){(e[r][n.encoderIndex]==null||e[r][n.encoderIndex].cachedTotalSize>n.cachedTotalSize)&&(e[r][n.encoderIndex]=n)},t.prototype.addEdges=function(e,r,n,i,s,a){var o=e.charAt(i).charCodeAt(0),l=0,c=r.length();r.getPriorityEncoderIndex()>=0&&(o===a||r.canEncode(o,r.getPriorityEncoderIndex()))&&(l=r.getPriorityEncoderIndex(),c=l+1);for(var d=l;d<c;d++)(o===a||r.canEncode(o,d))&&this.addEdge(n,i+1,new Ob(o,r,d,s,a))},t.prototype.encodeMinimally=function(e,r,n){var i=e.length,s=new Ob[i+1][r.length()];this.addEdges(e,r,s,0,null,n);for(var a=1;a<=i;a++){for(var o=0;o<r.length();o++)s[a][o]!=null&&a<i&&this.addEdges(e,r,s,a,s[a][o],n);for(var o=0;o<r.length();o++)s[a-1][o]=null}for(var l=-1,c=Me.MAX_VALUE,o=0;o<r.length();o++)if(s[i][o]!=null){var d=s[i][o];d.cachedTotalSize<c&&(c=d.cachedTotalSize,l=o)}if(l<0)throw new Error('Failed to encode "'+e+'"');for(var f=[],h=s[i][l];h!=null;){if(h.isFNC1())f.unshift(1e3);else for(var p=r.encode(h.c,h.encoderIndex),a=p.length-1;a>=0;a--)f.unshift(p[a]&255);var g=h.previous===null?0:h.previous.encoderIndex;g!==h.encoderIndex&&f.unshift(256+r.getECIValue(h.encoderIndex)),h=h.previous}for(var m=[],a=0;a<m.length;a++)m[a]=f[a];return m},t}(),Ob=function(){function t(e,r,n,i,s){this.c=e,this.encoderSet=r,this.encoderIndex=n,this.previous=i,this.fnc1=s,this.c=e===s?1e3:e;var a=this.isFNC1()?1:r.encode(e,n).length,o=i===null?0:i.encoderIndex;o!==n&&(a+=Qz),i!=null&&(a+=i.cachedTotalSize),this.cachedTotalSize=a}return t.prototype.isFNC1=function(){return this.c===1e3},t}(),eH=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();var Rb;(function(t){t[t.ASCII=0]="ASCII",t[t.C40=1]="C40",t[t.TEXT=2]="TEXT",t[t.X12=3]="X12",t[t.EDF=4]="EDF",t[t.B256=5]="B256"})(Rb||(Rb={}));(function(t){eH(e,t);function e(r,n,i,s,a){var o=t.call(this,r,n,i)||this;return o.shape=s,o.macroId=a,o}return e.prototype.getMacroId=function(){return this.macroId},e.prototype.getShapeHint=function(){return this.shape},e})(Jz);var tH=function(){function t(){}return t.prototype.isCompact=function(){return this.compact},t.prototype.setCompact=function(e){this.compact=e},t.prototype.getSize=function(){return this.size},t.prototype.setSize=function(e){this.size=e},t.prototype.getLayers=function(){return this.layers},t.prototype.setLayers=function(e){this.layers=e},t.prototype.getCodeWords=function(){return this.codeWords},t.prototype.setCodeWords=function(e){this.codeWords=e},t.prototype.getMatrix=function(){return this.matrix},t.prototype.setMatrix=function(e){this.matrix=e},t}(),kb=function(){function t(){}return t.singletonList=function(e){return[e]},t.min=function(e,r){return e.sort(r)[0]},t}(),rH=function(){function t(e){this.previous=e}return t.prototype.getPrevious=function(){return this.previous},t}(),nH=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Jy=function(t){nH(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.value=n,s.bitCount=i,s}return e.prototype.appendTo=function(r,n){r.appendBits(this.value,this.bitCount)},e.prototype.add=function(r,n){return new e(this,r,n)},e.prototype.addBinaryShift=function(r,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new e(this,r,n)},e.prototype.toString=function(){var r=this.value&(1<<this.bitCount)-1;return r|=1<<this.bitCount,"<"+Me.toBinaryString(r|1<<this.bitCount).substring(1)+">"},e}(rH),iH=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),sH=function(t){iH(e,t);function e(r,n,i){var s=t.call(this,r,0,0)||this;return s.binaryShiftStart=n,s.binaryShiftByteCount=i,s}return e.prototype.appendTo=function(r,n){for(var i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(r.appendBits(31,5),this.binaryShiftByteCount>62?r.appendBits(this.binaryShiftByteCount-31,16):i===0?r.appendBits(Math.min(this.binaryShiftByteCount,31),5):r.appendBits(this.binaryShiftByteCount-31,5)),r.appendBits(n[this.binaryShiftStart+i],8)},e.prototype.addBinaryShift=function(r,n){return new e(this,r,n)},e.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},e}(Jy);function aH(t,e,r){return new sH(t,e,r)}function Uc(t,e,r){return new Jy(t,e,r)}var oH=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],da=0,qh=1,Tn=2,oT=3,ji=4,lH=new Jy(null,0,0),p1=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])],cH=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function uH(t){var e,r;try{for(var n=cH(t),i=n.next();!i.done;i=n.next()){var s=i.value;Qt.fill(s,-1)}}catch(a){e={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return t[da][ji]=0,t[qh][ji]=0,t[qh][da]=28,t[oT][ji]=0,t[Tn][ji]=0,t[Tn][da]=15,t}var lT=uH(Qt.createInt32Array(6,6)),dH=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},fH=function(){function t(e,r,n,i){this.token=e,this.mode=r,this.binaryShiftByteCount=n,this.bitCount=i}return t.prototype.getMode=function(){return this.mode},t.prototype.getToken=function(){return this.token},t.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},t.prototype.getBitCount=function(){return this.bitCount},t.prototype.latchAndAppend=function(e,r){var n=this.bitCount,i=this.token;if(e!==this.mode){var s=p1[this.mode][e];i=Uc(i,s&65535,s>>16),n+=s>>16}var a=e===Tn?4:5;return i=Uc(i,r,a),new t(i,e,0,n+a)},t.prototype.shiftAndAppend=function(e,r){var n=this.token,i=this.mode===Tn?4:5;return n=Uc(n,lT[this.mode][e],i),n=Uc(n,r,5),new t(n,this.mode,0,this.bitCount+i+5)},t.prototype.addBinaryShiftChar=function(e){var r=this.token,n=this.mode,i=this.bitCount;if(this.mode===ji||this.mode===Tn){var s=p1[n][da];r=Uc(r,s&65535,s>>16),i+=s>>16,n=da}var a=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,o=new t(r,n,this.binaryShiftByteCount+1,i+a);return o.binaryShiftByteCount===2078&&(o=o.endBinaryShift(e+1)),o},t.prototype.endBinaryShift=function(e){if(this.binaryShiftByteCount===0)return this;var r=this.token;return r=aH(r,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new t(r,this.mode,0,this.bitCount)},t.prototype.isBetterThanOrEqualTo=function(e){var r=this.bitCount+(p1[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?r+=t.calculateBinaryShiftCost(e)-t.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(r+=10),r<=e.bitCount},t.prototype.toBitArray=function(e){for(var r,n,i=[],s=this.endBinaryShift(e.length).token;s!==null;s=s.getPrevious())i.unshift(s);var a=new lr;try{for(var o=dH(i),l=o.next();!l.done;l=o.next()){var c=l.value;c.appendTo(a,e)}}catch(d){r={error:d}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},t.prototype.toString=function(){return He.format("%s bits=%d bytes=%d",oH[this.mode],this.bitCount,this.binaryShiftByteCount)},t.calculateBinaryShiftCost=function(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0},t.INITIAL_STATE=new t(lH,da,0,0),t}();function hH(t){var e=He.getCharCode(" "),r=He.getCharCode("."),n=He.getCharCode(",");t[da][e]=1;for(var i=He.getCharCode("Z"),s=He.getCharCode("A"),a=s;a<=i;a++)t[da][a]=a-s+2;t[qh][e]=1;for(var o=He.getCharCode("z"),l=He.getCharCode("a"),a=l;a<=o;a++)t[qh][a]=a-l+2;t[Tn][e]=1;for(var c=He.getCharCode("9"),d=He.getCharCode("0"),a=d;a<=c;a++)t[Tn][a]=a-d+2;t[Tn][n]=12,t[Tn][r]=13;for(var f=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""],h=0;h<f.length;h++)t[oT][He.getCharCode(f[h])]=h;for(var p=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],h=0;h<p.length;h++)He.getCharCode(p[h])>0&&(t[ji][He.getCharCode(p[h])]=h);return t}var m1=hH(Qt.createInt32Array(5,256)),Sf=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},pH=function(){function t(e){this.text=e}return t.prototype.encode=function(){for(var e=He.getCharCode(" "),r=He.getCharCode(`
`),n=kb.singletonList(fH.INITIAL_STATE),i=0;i<this.text.length;i++){var s=void 0,a=i+1<this.text.length?this.text[i+1]:0;switch(this.text[i]){case He.getCharCode("\r"):s=a===r?2:0;break;case He.getCharCode("."):s=a===e?3:0;break;case He.getCharCode(","):s=a===e?4:0;break;case He.getCharCode(":"):s=a===e?5:0;break;default:s=0}s>0?(n=t.updateStateListForPair(n,i,s),i++):n=this.updateStateListForChar(n,i)}var o=kb.min(n,function(l,c){return l.getBitCount()-c.getBitCount()});return o.toBitArray(this.text)},t.prototype.updateStateListForChar=function(e,r){var n,i,s=[];try{for(var a=Sf(e),o=a.next();!o.done;o=a.next()){var l=o.value;this.updateStateForChar(l,r,s)}}catch(c){n={error:c}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return t.simplifyStates(s)},t.prototype.updateStateForChar=function(e,r,n){for(var i=this.text[r]&255,s=m1[e.getMode()][i]>0,a=null,o=0;o<=ji;o++){var l=m1[o][i];if(l>0){if(a==null&&(a=e.endBinaryShift(r)),!s||o===e.getMode()||o===Tn){var c=a.latchAndAppend(o,l);n.push(c)}if(!s&&lT[e.getMode()][o]>=0){var d=a.shiftAndAppend(o,l);n.push(d)}}}if(e.getBinaryShiftByteCount()>0||m1[e.getMode()][i]===0){var f=e.addBinaryShiftChar(r);n.push(f)}},t.updateStateListForPair=function(e,r,n){var i,s,a=[];try{for(var o=Sf(e),l=o.next();!l.done;l=o.next()){var c=l.value;this.updateStateForPair(c,r,n,a)}}catch(d){i={error:d}}finally{try{l&&!l.done&&(s=o.return)&&s.call(o)}finally{if(i)throw i.error}}return this.simplifyStates(a)},t.updateStateForPair=function(e,r,n,i){var s=e.endBinaryShift(r);if(i.push(s.latchAndAppend(ji,n)),e.getMode()!==ji&&i.push(s.shiftAndAppend(ji,n)),n===3||n===4){var a=s.latchAndAppend(Tn,16-n).latchAndAppend(Tn,1);i.push(a)}if(e.getBinaryShiftByteCount()>0){var o=e.addBinaryShiftChar(r).addBinaryShiftChar(r+1);i.push(o)}},t.simplifyStates=function(e){var r,n,i,s,a=[];try{for(var o=Sf(e),l=o.next();!l.done;l=o.next()){var c=l.value,d=!0,f=function(x){if(x.isBetterThanOrEqualTo(c))return d=!1,"break";c.isBetterThanOrEqualTo(x)&&(a=a.filter(function(y){return y!==x}))};try{for(var h=(i=void 0,Sf(a)),p=h.next();!p.done;p=h.next()){var g=p.value,m=f(g);if(m==="break")break}}catch(x){i={error:x}}finally{try{p&&!p.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}d&&a.push(c)}}catch(x){r={error:x}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},t}(),mH=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.encodeBytes=function(e){return t.encode(e,t.DEFAULT_EC_PERCENT,t.DEFAULT_AZTEC_LAYERS)},t.encode=function(e,r,n){var i=new pH(e).encode(),s=Me.truncDivision(i.getSize()*r,100)+11,a=i.getSize()+s,o,l,c,d,f;if(n!==t.DEFAULT_AZTEC_LAYERS){if(o=n<0,l=Math.abs(n),l>(o?t.MAX_NB_BITS_COMPACT:t.MAX_NB_BITS))throw new Se(He.format("Illegal value %s for layers",n));c=t.totalBitsInLayer(l,o),d=t.WORD_SIZE[l];var h=c-c%d;if(f=t.stuffBits(i,d),f.getSize()+s>h)throw new Se("Data to large for user specified layer");if(o&&f.getSize()>d*64)throw new Se("Data to large for user specified layer")}else{d=0,f=null;for(var p=0;;p++){if(p>t.MAX_NB_BITS)throw new Se("Data too large for an Aztec code");if(o=p<=3,l=o?p+1:p,c=t.totalBitsInLayer(l,o),!(a>c)){(f==null||d!==t.WORD_SIZE[l])&&(d=t.WORD_SIZE[l],f=t.stuffBits(i,d));var h=c-c%d;if(!(o&&f.getSize()>d*64)&&f.getSize()+s<=h)break}}}var g=t.generateCheckWords(f,c,d),m=f.getSize()/d,x=t.generateModeMessage(o,l,m),y=(o?11:14)+l*4,v=new Int32Array(y),_;if(o){_=y;for(var p=0;p<v.length;p++)v[p]=p}else{_=y+1+2*Me.truncDivision(Me.truncDivision(y,2)-1,15);for(var w=Me.truncDivision(y,2),S=Me.truncDivision(_,2),p=0;p<w;p++){var A=p+Me.truncDivision(p,15);v[w-p-1]=S-A-1,v[w+p]=S+A+1}}for(var E=new $i(_),p=0,P=0;p<l;p++){for(var j=(l-p)*4+(o?9:12),F=0;F<j;F++)for(var H=F*2,L=0;L<2;L++)g.get(P+H+L)&&E.set(v[p*2+L],v[p*2+F]),g.get(P+j*2+H+L)&&E.set(v[p*2+F],v[y-1-p*2-L]),g.get(P+j*4+H+L)&&E.set(v[y-1-p*2-L],v[y-1-p*2-F]),g.get(P+j*6+H+L)&&E.set(v[y-1-p*2-F],v[p*2+L]);P+=j*8}if(t.drawModeMessage(E,o,_,x),o)t.drawBullsEye(E,Me.truncDivision(_,2),5);else{t.drawBullsEye(E,Me.truncDivision(_,2),7);for(var p=0,F=0;p<Me.truncDivision(y,2)-1;p+=15,F+=16)for(var L=Me.truncDivision(_,2)&1;L<_;L+=2)E.set(Me.truncDivision(_,2)-F,L),E.set(Me.truncDivision(_,2)+F,L),E.set(L,Me.truncDivision(_,2)-F),E.set(L,Me.truncDivision(_,2)+F)}var N=new tH;return N.setCompact(o),N.setSize(_),N.setLayers(l),N.setCodeWords(m),N.setMatrix(E),N},t.drawBullsEye=function(e,r,n){for(var i=0;i<n;i+=2)for(var s=r-i;s<=r+i;s++)e.set(s,r-i),e.set(s,r+i),e.set(r-i,s),e.set(r+i,s);e.set(r-n,r-n),e.set(r-n+1,r-n),e.set(r-n,r-n+1),e.set(r+n,r-n),e.set(r+n,r-n+1),e.set(r+n,r+n-1)},t.generateModeMessage=function(e,r,n){var i=new lr;return e?(i.appendBits(r-1,2),i.appendBits(n-1,6),i=t.generateCheckWords(i,28,4)):(i.appendBits(r-1,5),i.appendBits(n-1,11),i=t.generateCheckWords(i,40,4)),i},t.drawModeMessage=function(e,r,n,i){var s=Me.truncDivision(n,2);if(r)for(var a=0;a<7;a++){var o=s-3+a;i.get(a)&&e.set(o,s-5),i.get(a+7)&&e.set(s+5,o),i.get(20-a)&&e.set(o,s+5),i.get(27-a)&&e.set(s-5,o)}else for(var a=0;a<10;a++){var o=s-5+a+Me.truncDivision(a,5);i.get(a)&&e.set(o,s-7),i.get(a+10)&&e.set(s+7,o),i.get(29-a)&&e.set(o,s+7),i.get(39-a)&&e.set(s-7,o)}},t.generateCheckWords=function(e,r,n){var i,s,a=e.getSize()/n,o=new sT(t.getGF(n)),l=Me.truncDivision(r,n),c=t.bitsToWords(e,n,l);o.encode(c,l-a);var d=r%n,f=new lr;f.appendBits(0,d);try{for(var h=mH(Array.from(c)),p=h.next();!p.done;p=h.next()){var g=p.value;f.appendBits(g,n)}}catch(m){i={error:m}}finally{try{p&&!p.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}return f},t.bitsToWords=function(e,r,n){var i=new Int32Array(n),s,a;for(s=0,a=e.getSize()/r;s<a;s++){for(var o=0,l=0;l<r;l++)o|=e.get(s*r+l)?1<<r-l-1:0;i[s]=o}return i},t.getGF=function(e){switch(e){case 4:return Zr.AZTEC_PARAM;case 6:return Zr.AZTEC_DATA_6;case 8:return Zr.AZTEC_DATA_8;case 10:return Zr.AZTEC_DATA_10;case 12:return Zr.AZTEC_DATA_12;default:throw new Se("Unsupported word size "+e)}},t.stuffBits=function(e,r){for(var n=new lr,i=e.getSize(),s=(1<<r)-2,a=0;a<i;a+=r){for(var o=0,l=0;l<r;l++)(a+l>=i||e.get(a+l))&&(o|=1<<r-1-l);(o&s)===s?(n.appendBits(o&s,r),a--):o&s?n.appendBits(o,r):(n.appendBits(o|1,r),a--)}return n},t.totalBitsInLayer=function(e,r){return((r?88:112)+16*e)*e},t.DEFAULT_EC_PERCENT=33,t.DEFAULT_AZTEC_LAYERS=0,t.MAX_NB_BITS=32,t.MAX_NB_BITS_COMPACT=4,t.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),t})();var gH={exports:{}};(function(t){var e=function(r){var n=Object.prototype,i=n.hasOwnProperty,s=Object.defineProperty||function(k,M,$){k[M]=$.value},a,o=typeof Symbol=="function"?Symbol:{},l=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",d=o.toStringTag||"@@toStringTag";function f(k,M,$){return Object.defineProperty(k,M,{value:$,enumerable:!0,configurable:!0,writable:!0}),k[M]}try{f({},"")}catch{f=function(M,$,ee){return M[$]=ee}}function h(k,M,$,ee){var se=M&&M.prototype instanceof _?M:_,he=Object.create(se.prototype),Be=new Q(ee||[]);return s(he,"_invoke",{value:L(k,$,Be)}),he}r.wrap=h;function p(k,M,$){try{return{type:"normal",arg:k.call(M,$)}}catch(ee){return{type:"throw",arg:ee}}}var g="suspendedStart",m="suspendedYield",x="executing",y="completed",v={};function _(){}function w(){}function S(){}var A={};f(A,l,function(){return this});var E=Object.getPrototypeOf,P=E&&E(E(X([])));P&&P!==n&&i.call(P,l)&&(A=P);var j=S.prototype=_.prototype=Object.create(A);w.prototype=S,s(j,"constructor",{value:S,configurable:!0}),s(S,"constructor",{value:w,configurable:!0}),w.displayName=f(S,d,"GeneratorFunction");function F(k){["next","throw","return"].forEach(function(M){f(k,M,function($){return this._invoke(M,$)})})}r.isGeneratorFunction=function(k){var M=typeof k=="function"&&k.constructor;return M?M===w||(M.displayName||M.name)==="GeneratorFunction":!1},r.mark=function(k){return Object.setPrototypeOf?Object.setPrototypeOf(k,S):(k.__proto__=S,f(k,d,"GeneratorFunction")),k.prototype=Object.create(j),k},r.awrap=function(k){return{__await:k}};function H(k,M){function $(he,Be,Re,ce){var B=p(k[he],k,Be);if(B.type==="throw")ce(B.arg);else{var le=B.arg,me=le.value;return me&&typeof me=="object"&&i.call(me,"__await")?M.resolve(me.__await).then(function(de){$("next",de,Re,ce)},function(de){$("throw",de,Re,ce)}):M.resolve(me).then(function(de){le.value=de,Re(le)},function(de){return $("throw",de,Re,ce)})}}var ee;function se(he,Be){function Re(){return new M(function(ce,B){$(he,Be,ce,B)})}return ee=ee?ee.then(Re,Re):Re()}s(this,"_invoke",{value:se})}F(H.prototype),f(H.prototype,c,function(){return this}),r.AsyncIterator=H,r.async=function(k,M,$,ee,se){se===void 0&&(se=Promise);var he=new H(h(k,M,$,ee),se);return r.isGeneratorFunction(M)?he:he.next().then(function(Be){return Be.done?Be.value:he.next()})};function L(k,M,$){var ee=g;return function(he,Be){if(ee===x)throw new Error("Generator is already running");if(ee===y){if(he==="throw")throw Be;return D()}for($.method=he,$.arg=Be;;){var Re=$.delegate;if(Re){var ce=N(Re,$);if(ce){if(ce===v)continue;return ce}}if($.method==="next")$.sent=$._sent=$.arg;else if($.method==="throw"){if(ee===g)throw ee=y,$.arg;$.dispatchException($.arg)}else $.method==="return"&&$.abrupt("return",$.arg);ee=x;var B=p(k,M,$);if(B.type==="normal"){if(ee=$.done?y:m,B.arg===v)continue;return{value:B.arg,done:$.done}}else B.type==="throw"&&(ee=y,$.method="throw",$.arg=B.arg)}}}function N(k,M){var $=M.method,ee=k.iterator[$];if(ee===a)return M.delegate=null,$==="throw"&&k.iterator.return&&(M.method="return",M.arg=a,N(k,M),M.method==="throw")||$!=="return"&&(M.method="throw",M.arg=new TypeError("The iterator does not provide a '"+$+"' method")),v;var se=p(ee,k.iterator,M.arg);if(se.type==="throw")return M.method="throw",M.arg=se.arg,M.delegate=null,v;var he=se.arg;if(!he)return M.method="throw",M.arg=new TypeError("iterator result is not an object"),M.delegate=null,v;if(he.done)M[k.resultName]=he.value,M.next=k.nextLoc,M.method!=="return"&&(M.method="next",M.arg=a);else return he;return M.delegate=null,v}F(j),f(j,d,"Generator"),f(j,l,function(){return this}),f(j,"toString",function(){return"[object Generator]"});function O(k){var M={tryLoc:k[0]};1 in k&&(M.catchLoc=k[1]),2 in k&&(M.finallyLoc=k[2],M.afterLoc=k[3]),this.tryEntries.push(M)}function q(k){var M=k.completion||{};M.type="normal",delete M.arg,k.completion=M}function Q(k){this.tryEntries=[{tryLoc:"root"}],k.forEach(O,this),this.reset(!0)}r.keys=function(k){var M=Object(k),$=[];for(var ee in M)$.push(ee);return $.reverse(),function se(){for(;$.length;){var he=$.pop();if(he in M)return se.value=he,se.done=!1,se}return se.done=!0,se}};function X(k){if(k){var M=k[l];if(M)return M.call(k);if(typeof k.next=="function")return k;if(!isNaN(k.length)){var $=-1,ee=function se(){for(;++$<k.length;)if(i.call(k,$))return se.value=k[$],se.done=!1,se;return se.value=a,se.done=!0,se};return ee.next=ee}}return{next:D}}r.values=X;function D(){return{value:a,done:!0}}return Q.prototype={constructor:Q,reset:function(k){if(this.prev=0,this.next=0,this.sent=this._sent=a,this.done=!1,this.delegate=null,this.method="next",this.arg=a,this.tryEntries.forEach(q),!k)for(var M in this)M.charAt(0)==="t"&&i.call(this,M)&&!isNaN(+M.slice(1))&&(this[M]=a)},stop:function(){this.done=!0;var k=this.tryEntries[0],M=k.completion;if(M.type==="throw")throw M.arg;return this.rval},dispatchException:function(k){if(this.done)throw k;var M=this;function $(ce,B){return he.type="throw",he.arg=k,M.next=ce,B&&(M.method="next",M.arg=a),!!B}for(var ee=this.tryEntries.length-1;ee>=0;--ee){var se=this.tryEntries[ee],he=se.completion;if(se.tryLoc==="root")return $("end");if(se.tryLoc<=this.prev){var Be=i.call(se,"catchLoc"),Re=i.call(se,"finallyLoc");if(Be&&Re){if(this.prev<se.catchLoc)return $(se.catchLoc,!0);if(this.prev<se.finallyLoc)return $(se.finallyLoc)}else if(Be){if(this.prev<se.catchLoc)return $(se.catchLoc,!0)}else if(Re){if(this.prev<se.finallyLoc)return $(se.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(k,M){for(var $=this.tryEntries.length-1;$>=0;--$){var ee=this.tryEntries[$];if(ee.tryLoc<=this.prev&&i.call(ee,"finallyLoc")&&this.prev<ee.finallyLoc){var se=ee;break}}se&&(k==="break"||k==="continue")&&se.tryLoc<=M&&M<=se.finallyLoc&&(se=null);var he=se?se.completion:{};return he.type=k,he.arg=M,se?(this.method="next",this.next=se.finallyLoc,v):this.complete(he)},complete:function(k,M){if(k.type==="throw")throw k.arg;return k.type==="break"||k.type==="continue"?this.next=k.arg:k.type==="return"?(this.rval=this.arg=k.arg,this.method="return",this.next="end"):k.type==="normal"&&M&&(this.next=M),v},finish:function(k){for(var M=this.tryEntries.length-1;M>=0;--M){var $=this.tryEntries[M];if($.finallyLoc===k)return this.complete($.completion,$.afterLoc),q($),v}},catch:function(k){for(var M=this.tryEntries.length-1;M>=0;--M){var $=this.tryEntries[M];if($.tryLoc===k){var ee=$.completion;if(ee.type==="throw"){var se=ee.arg;q($)}return se}}throw new Error("illegal catch attempt")},delegateYield:function(k,M,$){return this.delegate={iterator:X(k),resultName:M,nextLoc:$},this.method==="next"&&(this.arg=a),v}},r}(t.exports);try{regeneratorRuntime=e}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}})(gH);var ex=(t,e)=>`${t}-${e}-${Math.random().toString(16).slice(3,8)}`;const vH=ex;let Db=0;var cT=({id:t,action:e,payload:r={}})=>{let n=t;return typeof n>"u"&&(n=vH("Job",Db),Db+=1),{id:n,action:e,payload:r}},bc={};let tx=!1;bc.logging=tx;bc.setLogging=t=>{tx=t};bc.log=(...t)=>tx?console.log.apply(void 0,t):null;const yH=cT,{log:Ef}=bc,xH=ex;let jb=0;var wH=()=>{const t=xH("Scheduler",jb),e={},r={};let n=[];jb+=1;const i=()=>n.length,s=()=>Object.keys(e).length,a=()=>{if(n.length!==0){const f=Object.keys(e);for(let h=0;h<f.length;h+=1)if(typeof r[f[h]]>"u"){n[0](e[f[h]]);break}}},o=(f,h)=>new Promise((p,g)=>{const m=yH({action:f,payload:h});n.push(async x=>{n.shift(),r[x.id]=m;try{p(await x[f].apply(void 0,[...h,m.id]))}catch(y){g(y)}finally{delete r[x.id],a()}}),Ef(`[${t}]: Add ${m.id} to JobQueue`),Ef(`[${t}]: JobQueue length=${n.length}`),a()});return{addWorker:f=>(e[f.id]=f,Ef(`[${t}]: Add ${f.id}`),Ef(`[${t}]: Number of workers=${s()}`),a(),f.id),addJob:async(f,...h)=>{if(s()===0)throw Error(`[${t}]: You need to have at least one worker before adding jobs`);return o(f,h)},terminate:async()=>{Object.keys(e).forEach(async f=>{await e[f].terminate()}),n=[]},getQueueLen:i,getNumWorkers:s}};function _H(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var bH=t=>{const e={};return typeof WorkerGlobalScope<"u"?e.type="webworker":typeof document=="object"?e.type="browser":typeof process=="object"&&typeof _H=="function"&&(e.type="node"),typeof t>"u"?e:e[t]};const CH=bH("type")==="browser",SH=CH?t=>new URL(t,window.location.href).href:t=>t;var EH=t=>{const e={...t};return["corePath","workerPath","langPath"].forEach(r=>{t[r]&&(e[r]=SH(e[r]))}),e},uT={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3};const AH="6.0.1",NH={version:AH};var TH={workerBlobURL:!0,logger:()=>{}};const IH=NH.version,PH=TH;var OH={...PH,workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${IH}/dist/worker.min.js`},RH=({workerPath:t,workerBlobURL:e})=>{let r;if(Blob&&URL&&e){const n=new Blob([`importScripts("${t}");`],{type:"application/javascript"});r=new Worker(URL.createObjectURL(n))}else r=new Worker(t);return r},kH=t=>{t.terminate()},DH=(t,e)=>{t.onmessage=({data:r})=>{e(r)}},jH=async(t,e)=>{t.postMessage(e)};const g1=t=>new Promise((e,r)=>{const n=new FileReader;n.onload=()=>{e(n.result)},n.onerror=({target:{error:{code:i}}})=>{r(Error(`File could not be read! Code=${i}`))},n.readAsArrayBuffer(t)}),Ug=async t=>{let e=t;if(typeof t>"u")return"undefined";if(typeof t=="string")/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(t)?e=atob(t.split(",")[1]).split("").map(r=>r.charCodeAt(0)):e=await(await fetch(t)).arrayBuffer();else if(typeof HTMLElement<"u"&&t instanceof HTMLElement)t.tagName==="IMG"&&(e=await Ug(t.src)),t.tagName==="VIDEO"&&(e=await Ug(t.poster)),t.tagName==="CANVAS"&&await new Promise(r=>{t.toBlob(async n=>{e=await g1(n),r()})});else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas){const r=await t.convertToBlob();e=await g1(r)}else(t instanceof File||t instanceof Blob)&&(e=await g1(t));return new Uint8Array(e)};var FH=Ug;const MH=OH,LH=RH,BH=kH,UH=DH,$H=jH,VH=FH;var zH={defaultOptions:MH,spawnWorker:LH,terminateWorker:BH,onMessage:UH,send:$H,loadImage:VH};const HH=EH,_i=cT,{log:Fb}=bc,WH=ex,Na=uT,{defaultOptions:GH,spawnWorker:qH,terminateWorker:XH,onMessage:KH,loadImage:Mb,send:YH}=zH;let Lb=0;var dT=async(t="eng",e=Na.LSTM_ONLY,r={},n={})=>{const i=WH("Worker",Lb),{logger:s,errorHandler:a,...o}=HH({...GH,...r}),l={},c=typeof t=="string"?t.split("+"):t;let d=e,f=n;const h=[Na.DEFAULT,Na.LSTM_ONLY].includes(e)&&!o.legacyCore;let p,g;const m=new Promise((X,D)=>{g=X,p=D}),x=X=>{p(X.message)};let y=qH(o);y.onerror=x,Lb+=1;const v=({id:X,action:D,payload:k})=>new Promise((M,$)=>{Fb(`[${i}]: Start ${X}, action=${D}`);const ee=`${D}-${X}`;l[ee]={resolve:M,reject:$},YH(y,{workerId:i,jobId:X,action:D,payload:k})}),_=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),w=X=>v(_i({id:X,action:"load",payload:{options:{lstmOnly:h,corePath:o.corePath,logging:o.logging}}})),S=(X,D,k)=>v(_i({id:k,action:"FS",payload:{method:"writeFile",args:[X,D]}})),A=(X,D)=>v(_i({id:D,action:"FS",payload:{method:"readFile",args:[X,{encoding:"utf8"}]}})),E=(X,D)=>v(_i({id:D,action:"FS",payload:{method:"unlink",args:[X]}})),P=(X,D,k)=>v(_i({id:k,action:"FS",payload:{method:X,args:D}})),j=(X,D)=>v(_i({id:D,action:"loadLanguage",payload:{langs:X,options:{langPath:o.langPath,dataPath:o.dataPath,cachePath:o.cachePath,cacheMethod:o.cacheMethod,gzip:o.gzip,lstmOnly:[Na.DEFAULT,Na.LSTM_ONLY].includes(d)&&!o.legacyLang}}})),F=(X,D,k,M)=>v(_i({id:M,action:"initialize",payload:{langs:X,oem:D,config:k}})),H=(X="eng",D,k,M)=>{if(h&&[Na.TESSERACT_ONLY,Na.TESSERACT_LSTM_COMBINED].includes(D))throw Error("Legacy model requested but code missing.");const $=D||d;d=$;const ee=k||f;f=ee;const he=(typeof X=="string"?X.split("+"):X).filter(Be=>!c.includes(Be));return c.push(...he),he.length>0?j(he,M).then(()=>F(X,$,ee,M)):F(X,$,ee,M)},L=(X={},D)=>v(_i({id:D,action:"setParameters",payload:{params:X}})),N=async(X,D={},k={text:!0},M)=>v(_i({id:M,action:"recognize",payload:{image:await Mb(X),options:D,output:k}})),O=async(X,D)=>{if(h)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return v(_i({id:D,action:"detect",payload:{image:await Mb(X)}}))},q=async()=>(y!==null&&(XH(y),y=null),Promise.resolve());KH(y,({workerId:X,jobId:D,status:k,action:M,data:$})=>{const ee=`${M}-${D}`;if(k==="resolve")Fb(`[${X}]: Complete ${D}`),l[ee].resolve({jobId:D,data:$}),delete l[ee];else if(k==="reject")if(l[ee].reject($),delete l[ee],M==="load"&&p($),a)a($);else throw Error($);else k==="progress"&&s({...$,userJobId:D})});const Q={id:i,worker:y,load:_,writeText:S,readText:A,removeFile:E,FS:P,reinitialize:H,setParameters:L,recognize:N,detect:O,terminate:q};return w().then(()=>j(t)).then(()=>F(t,e,n)).then(()=>g(Q)).catch(()=>{}),m};const fT=dT,ZH=async(t,e,r)=>{const n=await fT(e,1,r);return n.recognize(t).finally(async()=>{await n.terminate()})},QH=async(t,e)=>{const r=await fT("osd",0,e);return r.detect(t).finally(async()=>{await r.terminate()})};var JH={recognize:ZH,detect:QH},eW={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"},tW={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"};const rW=wH,nW=dT,iW=JH,sW=eW,aW=uT,oW=tW,{setLogging:lW}=bc;var cW={languages:sW,OEM:aW,PSM:oW,createScheduler:rW,createWorker:nW,setLogging:lW,...iW};const Bb=(t,e)=>new Promise((r,n)=>{const i=setTimeout(()=>n(new Error("Timeout")),e);t.then(s=>{clearTimeout(i),r(s)}).catch(s=>{clearTimeout(i),n(s)})}),uW=Po({customerName:Nt().min(1,"Customer name is required"),customerEmail:Nt().email("Valid email format").optional().or(TD("")),customerPhone:Nt().min(1,"Phone number is required"),customerAddress:Nt().optional(),notes:Nt().optional()});function dW(){var ce;const{toast:t}=Dn(),[,e]=Cd(),[r,n]=b.useState(!1),[i,s]=b.useState([]),[a,o]=b.useState(new Set),[l,c]=b.useState(!1),[d,f]=b.useState(!1),[h,p]=b.useState(!1),[g,m]=b.useState(!1),x=b.useRef(null),y=b.useRef(null),v=b.useRef(null),_=b.useRef(null),w=b.useRef(null),S=b.useRef(null),A=b.useRef(null),E=To({resolver:Io(uW),defaultValues:{customerName:"",customerEmail:"",customerPhone:"",customerAddress:"",notes:""}}),{data:P}=$r({queryKey:["/api/products",{limit:100}],enabled:r}),j=b.useCallback(async()=>{if(!S.current)try{const B=await cW.createWorker("eng");S.current=B,m(!0),console.log("OCR worker ready for instant text scanning")}catch(B){console.error("Failed to initialize OCR worker:",B)}},[]);b.useEffect(()=>()=>{F(),H(),S.current&&(S.current.terminate(),S.current=null)},[]);const F=()=>{w.current&&(w.current.reset(),w.current=null),y.current&&y.current.srcObject&&(y.current.srcObject.getTracks().forEach(le=>le.stop()),y.current.srcObject=null)},H=()=>{A.current&&(A.current.getTracks().forEach(B=>B.stop()),A.current=null),v.current&&v.current.srcObject&&(v.current.srcObject.getTracks().forEach(le=>le.stop()),v.current.srcObject=null)},L=async()=>{var B;try{if(f(!0),c(!0),await new Promise(me=>setTimeout(me,100)),!y.current)throw new Error("Video element not ready");const le=new bb;w.current=le,await le.decodeFromVideoDevice(null,y.current,async(me,de)=>{if(me){F(),f(!1);let Ae=me.getText().trim();Ae.includes("/products/")&&(Ae=Ae.split("/products/")[1]),Ae=Ae.split("?")[0].split("#")[0].replace(/\/+$/,"").trim();try{const nt=await fetch(`/api/products/by-product-id/${Ae}`,{credentials:"include"});if(nt.ok){const Ct=await nt.json();D(Ct),t({title:"Success",description:`Product "${Ct.productName}" added via QR code`})}else t({title:"Product Not Found",description:`No product found with ID: ${Ae}`,variant:"destructive"})}catch(nt){console.error("Error looking up product:",nt),t({title:"Error",description:"Failed to look up product",variant:"destructive"})}finally{c(!1)}}de&&de.name!=="NotFoundException"&&console.error("QR scan error:",de)})}catch(le){console.error("Failed to start QR scanner:",le),F(),f(!1),c(!1),t({title:"Camera Error",description:(B=le.message)!=null&&B.includes("Permission")?"Camera permission denied. Please allow camera access to scan QR codes.":"Failed to access camera. Please try uploading an image instead.",variant:"destructive"})}},N=()=>{F(),f(!1),c(!1)},O=async()=>{var B;try{if(p(!0),c(!0),S.current||(t({title:"Initializing...",description:"Preparing text recognition (first time only)"}),await j()),await new Promise(me=>setTimeout(me,100)),!v.current)throw new Error("Video element not ready");const le=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});A.current=le,v.current.srcObject=le,await v.current.play(),t({title:"Camera Ready",description:"Point at product label and tap 'Capture Text'"})}catch(le){console.error("Failed to start text scanner:",le),H(),p(!1),c(!1),t({title:"Camera Error",description:(B=le.message)!=null&&B.includes("Permission")?"Camera permission denied. Please allow camera access.":"Failed to access camera. Please try uploading an image instead.",variant:"destructive"})}},q=async()=>{if(!v.current||!_.current||!S.current){t({title:"Error",description:"Scanner not ready. Please try again.",variant:"destructive"});return}try{c(!0),t({title:"Reading text...",description:"Scanning product label"});const B=v.current,le=_.current,me=le.getContext("2d");if(!me)throw new Error("Canvas context not available");le.width=B.videoWidth,le.height=B.videoHeight,me.drawImage(B,0,0,le.width,le.height);const{data:{text:de}}=await S.current.recognize(le),Ae=de.trim();if(Ae.length>2){H(),p(!1);const nt=await fetch(`/api/products/by-name/${encodeURIComponent(Ae)}`,{credentials:"include"});if(nt.ok){const Ct=await nt.json();D(Ct),t({title:"Success",description:`Product "${Ct.productName}" added via text scan`})}else t({title:"Product Not Found",description:`No product found matching: ${Ae}`,variant:"destructive"})}else t({title:"No Text Found",description:"Could not find text in the image. Try moving closer to the label.",variant:"destructive"})}catch(B){console.error("OCR error:",B),t({title:"Read Error",description:"Failed to read text. Please try again.",variant:"destructive"})}finally{c(!1)}},Q=()=>{H(),p(!1),c(!1)},X=Ut({mutationFn:async B=>(await kt("POST","/api/invoices",B)).json(),onSuccess:()=>{t({title:"Success",description:"Invoice created successfully"}),Xe.invalidateQueries({queryKey:["/api/invoices"]}),Xe.invalidateQueries({queryKey:["/api/dashboard/metrics"]}),e("/invoices")},onError:B=>{if(Ft(B)){t({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}t({title:"Error",description:"Failed to create invoice",variant:"destructive"})}}),D=B=>{if(a.has(B.id)){t({title:"Info",description:"Product already added to invoice",variant:"destructive"});return}if(B.quantity<=0){t({title:"Out of Stock",description:`${B.productName} is out of stock and cannot be added to the invoice.`,variant:"destructive"});return}const le=parseFloat(B.price),me={productId:B.id,quantity:1,unitPrice:le,totalPrice:le,product:{id:B.id,productName:B.productName,size:B.size,price:B.price,quantity:B.quantity}};s(de=>[...de,me]),o(de=>new Set(Array.from(de).concat([B.id]))),n(!1)},k=(B,le)=>{if(le<1)return;const me=i[B],de=me.product.quantity;if(le>de){t({title:"Insufficient Stock",description:`Only ${de} units of ${me.product.productName} are available in stock. Cannot add ${le} units.`,variant:"destructive"});return}s(Ae=>Ae.map((nt,Ct)=>Ct===B?{...nt,quantity:le,totalPrice:nt.unitPrice*le}:nt))},M=B=>{const le=i[B];s(me=>me.filter((de,Ae)=>Ae!==B)),o(me=>{const de=new Set(me);return de.delete(le.productId),de})},$=async B=>{var me;const le=(me=B.target.files)==null?void 0:me[0];if(le){c(!0);try{const de=new Image,Ae=new FileReader;Ae.onload=async nt=>{var Ct;de.src=(Ct=nt.target)==null?void 0:Ct.result,de.onload=async()=>{try{let Ir=null,Fn="";try{const tr=new bb;Ir=(await Bb(tr.decodeFromImageElement(de),2e3)).getText(),Fn="QR code"}catch{try{const vs=new fV;Ir=(await Bb(vs.decodeFromImageElement(de),2e3)).getText(),Fn="barcode"}catch{t({title:"Reading product name...",description:"Sending to server for text recognition"});const Hr=new FormData;Hr.append("image",le);try{const R=await fetch("/api/products/recognize-from-image",{method:"POST",body:Hr,credentials:"include"});if(R.ok){const Y=(await R.json()).product;D(Y),t({title:"Success",description:`Product "${Y.productName}" added via text recognition`}),c(!1),x.current&&(x.current.value="");return}else{const V=await R.json();t({title:"Product Not Found",description:`Recognized: "${V.recognizedText}" - No matching product`,variant:"destructive"}),c(!1),x.current&&(x.current.value="");return}}catch(R){console.error("Server OCR error:",R),t({title:"OCR Error",description:"Failed to process image. Please try again.",variant:"destructive"}),c(!1),x.current&&(x.current.value="");return}}}if(Ir){let tr=Ir.trim();tr.includes("/products/")&&(tr=tr.split("/products/")[1]),tr=tr.split("?")[0].split("#")[0].replace(/\/+$/,"").trim();const vs=`/api/products/by-product-id/${encodeURIComponent(tr)}`,Hr=await fetch(vs,{credentials:"include"});if(Hr.ok){const R=await Hr.json();D(R),t({title:"Success",description:`Product "${R.productName}" added via ${Fn}`})}else t({title:"Product Not Found",description:`No product found with ID: ${tr}`,variant:"destructive"})}}catch(Ir){console.error("Scanning error:",Ir),t({title:"Error",description:"An error occurred while processing the image.",variant:"destructive"})}finally{c(!1),x.current&&(x.current.value="")}}},Ae.readAsDataURL(le)}catch(de){console.error("File reading error:",de),t({title:"Error",description:"Failed to read the image file",variant:"destructive"}),c(!1)}}},ee=()=>{const B=i.reduce((me,de)=>me+de.totalPrice,0);return{subtotal:B,total:B}},{subtotal:se,total:he}=ee(),Be=async B=>{if(i.length===0){t({title:"Error",description:"Please add at least one product to the invoice",variant:"destructive"});return}const le={...B,subtotal:se.toFixed(2),discountPercentage:"0.0000",discountAmount:"0.00",taxRate:"0.0000",taxAmount:"0.00",total:he.toFixed(2)},me=i.map(de=>({productId:de.productId,quantity:de.quantity,unitPrice:de.unitPrice.toFixed(2),totalPrice:de.totalPrice.toFixed(2)}));X.mutate({invoice:le,items:me})},Re=B=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(B);return u.jsxs("div",{className:"max-w-4xl mx-auto",children:[u.jsx(Te,{children:u.jsxs(ke,{className:"p-6",children:[u.jsx("h3",{className:"text-lg font-semibold text-foreground mb-6",children:"Create New Invoice"}),u.jsx(xc,{...E,children:u.jsxs("form",{onSubmit:E.handleSubmit(Be),className:"space-y-6",children:[u.jsxs("div",{className:"bg-muted rounded-lg p-4",children:[u.jsx("h4",{className:"text-sm font-medium text-foreground mb-4",children:"Customer Information"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsx(lt,{control:E.control,name:"customerName",render:({field:B})=>u.jsxs(et,{children:[u.jsx(ft,{children:"Customer Name"}),u.jsx(ht,{children:u.jsx(Ue,{placeholder:"Enter customer name",...B,"data-testid":"input-customer-name"})}),u.jsx(pt,{})]})}),u.jsx(lt,{control:E.control,name:"customerEmail",render:({field:B})=>u.jsxs(et,{children:[u.jsx(ft,{children:"Email (Optional)"}),u.jsx(ht,{children:u.jsx(Ue,{type:"email",placeholder:"customer@email.com",...B,"data-testid":"input-customer-email"})}),u.jsx(pt,{})]})}),u.jsx(lt,{control:E.control,name:"customerPhone",render:({field:B})=>u.jsxs(et,{children:[u.jsx(ft,{children:"Phone"}),u.jsx(ht,{children:u.jsx(Ue,{type:"tel",placeholder:"+1 (555) 123-4567",...B,"data-testid":"input-customer-phone"})}),u.jsx(pt,{})]})}),u.jsx(lt,{control:E.control,name:"customerAddress",render:({field:B})=>u.jsxs(et,{children:[u.jsx(ft,{children:"Address (Optional)"}),u.jsx(ht,{children:u.jsx(Ue,{placeholder:"Customer address",...B,"data-testid":"input-customer-address"})}),u.jsx(pt,{})]})})]})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h4",{className:"text-sm font-medium text-foreground",children:"Invoice Items"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{ref:x,type:"file",accept:"image/*",onChange:$,className:"hidden","data-testid":"input-barcode-file"}),u.jsx(ie,{type:"button",variant:"default",onClick:O,disabled:l,className:"bg-green-600 hover:bg-green-700","data-testid":"button-read-text",children:l&&h?u.jsxs(u.Fragment,{children:[u.jsx("i",{className:"fas fa-spinner fa-spin mr-2"}),"Reading..."]}):u.jsxs(u.Fragment,{children:[u.jsx("i",{className:"fas fa-font mr-2"}),"Read Text (Fast)"]})}),u.jsx(ie,{type:"button",variant:"outline",onClick:L,disabled:l,"data-testid":"button-scan-qr",children:l&&d?u.jsxs(u.Fragment,{children:[u.jsx("i",{className:"fas fa-spinner fa-spin mr-2"}),"Scanning..."]}):u.jsxs(u.Fragment,{children:[u.jsx("i",{className:"fas fa-qrcode mr-2"}),"Scan QR"]})}),u.jsx(ie,{type:"button",variant:"outline",onClick:()=>{var B;return(B=x.current)==null?void 0:B.click()},disabled:l,"data-testid":"button-upload-barcode",children:l&&!d&&!h?u.jsxs(u.Fragment,{children:[u.jsx("i",{className:"fas fa-spinner fa-spin mr-2"}),"Processing..."]}):u.jsxs(u.Fragment,{children:[u.jsx("i",{className:"fas fa-upload mr-2"}),"Upload"]})}),u.jsxs(lo,{open:r,onOpenChange:n,children:[u.jsx($h,{asChild:!0,children:u.jsxs(ie,{type:"button","data-testid":"button-add-product",children:[u.jsx("i",{className:"fas fa-plus mr-2"}),"Add Product"]})}),u.jsxs(oa,{className:"sm:max-w-4xl",children:[u.jsx(la,{children:u.jsx(ca,{children:"Select Products"})}),u.jsx("div",{className:"max-h-96 overflow-y-auto",children:(ce=P==null?void 0:P.products)!=null&&ce.length?u.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:P.products.map(B=>u.jsx(Te,{className:`cursor-pointer transition-colors ${a.has(B.id)?"bg-muted":"hover:bg-muted"}`,onClick:()=>D(B),"data-testid":`product-option-${B.id}`,children:u.jsx(ke,{className:"p-4",children:u.jsxs("div",{className:"flex space-x-4",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx("div",{className:"w-16 h-16 bg-muted rounded-md flex items-center justify-center",children:B.imageUrl?u.jsx("img",{src:B.imageUrl,alt:B.productName,className:"w-16 h-16 rounded-md object-cover"}):u.jsx("i",{className:"fas fa-image text-muted-foreground text-lg"})})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h5",{className:"font-semibold text-foreground truncate","data-testid":`product-name-${B.id}`,children:B.productName}),u.jsxs("p",{className:"text-sm text-muted-foreground mb-2","data-testid":`product-id-${B.id}`,children:["ID: ",B.productId]})]}),a.has(B.id)&&u.jsx("i",{className:"fas fa-check text-accent ml-2 flex-shrink-0"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsxs(Vt,{variant:"outline",className:"text-xs","data-testid":`product-size-${B.id}`,children:["Size: ",Array.isArray(B.size)?B.size.join(", "):B.size]}),B.color&&u.jsx(Vt,{variant:"outline",className:"text-xs","data-testid":`product-color-${B.id}`,children:Array.isArray(B.color)?B.color.join(", "):B.color}),B.manufacturer&&u.jsx(Vt,{variant:"secondary",className:"text-xs","data-testid":`product-manufacturer-${B.id}`,children:B.manufacturer})]}),B.category&&u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("i",{className:"fas fa-tag text-muted-foreground text-xs"}),u.jsx("span",{className:"text-xs text-muted-foreground","data-testid":`product-category-${B.id}`,children:B.category})]}),B.description&&u.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",title:B.description,"data-testid":`product-description-${B.id}`,children:B.description.length>80?B.description.substring(0,80)+"...":B.description}),u.jsx("div",{className:"flex items-center justify-between pt-1",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"font-semibold text-foreground","data-testid":`product-price-${B.id}`,children:Re(B.price)}),u.jsxs(Vt,{variant:B.quantity>10?"secondary":B.quantity>0?"outline":"destructive",className:"text-xs","data-testid":`product-stock-${B.id}`,children:[B.quantity," in stock"]})]})})]})]})]})})},B.id))}):u.jsxs("div",{className:"text-center py-8",children:[u.jsx("i",{className:"fas fa-box text-muted-foreground text-3xl mb-4"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"No products available"})]})})]})]})]})]}),u.jsx("div",{className:"bg-background border border-input rounded-lg overflow-hidden",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-muted",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-muted-foreground uppercase",children:"Product"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-muted-foreground uppercase",children:"Size"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-muted-foreground uppercase",children:"Qty"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-muted-foreground uppercase",children:"Price"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-muted-foreground uppercase",children:"Total"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-muted-foreground uppercase",children:"Action"})]})}),u.jsx("tbody",{className:"divide-y divide-border",children:i.length>0?i.map((B,le)=>u.jsxs("tr",{"data-testid":`invoice-item-${le}`,children:[u.jsx("td",{className:"px-4 py-3 text-sm text-foreground",children:B.product.productName}),u.jsx("td",{className:"px-4 py-3 text-sm text-muted-foreground",children:Array.isArray(B.product.size)?B.product.size.join(", "):B.product.size}),u.jsx("td",{className:"px-4 py-3",children:u.jsx(Ue,{type:"number",value:B.quantity,min:"1",className:"w-16",onChange:me=>k(le,parseInt(me.target.value)||1),"data-testid":`input-quantity-${le}`})}),u.jsx("td",{className:"px-4 py-3 text-sm text-foreground",children:Re(B.unitPrice)}),u.jsx("td",{className:"px-4 py-3 text-sm font-medium text-foreground",children:Re(B.totalPrice)}),u.jsx("td",{className:"px-4 py-3",children:u.jsx(ie,{type:"button",variant:"outline",size:"icon",onClick:()=>M(le),className:"border-red-500 text-red-500 hover:bg-red-50 dark:hover:bg-red-950","data-testid":`button-remove-${le}`,children:u.jsx("span",{className:"text-xl font-light",children:""})})})]},le)):u.jsx("tr",{children:u.jsx("td",{colSpan:6,className:"px-4 py-8 text-center text-muted-foreground",children:'No items added. Click "Add Product" to get started.'})})})]})}),i.length>0&&u.jsx("div",{className:"bg-muted rounded-lg p-4 mt-4",children:u.jsx("div",{className:"flex justify-end",children:u.jsxs("div",{className:"w-64 space-y-2",children:[u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-muted-foreground",children:"Subtotal:"}),u.jsx("span",{className:"text-foreground font-medium","data-testid":"text-subtotal",children:Re(se)})]}),u.jsx("div",{className:"border-t border-border pt-2",children:u.jsxs("div",{className:"flex justify-between text-base font-semibold",children:[u.jsx("span",{className:"text-foreground",children:"Total:"}),u.jsx("span",{className:"text-foreground","data-testid":"text-total",children:Re(he)})]})})]})})})]}),u.jsx(lt,{control:E.control,name:"notes",render:({field:B})=>u.jsxs(et,{children:[u.jsx(ft,{children:"Notes (Optional)"}),u.jsx(ht,{children:u.jsx(X8,{rows:3,placeholder:"Add any additional notes...",className:"resize-none",...B,"data-testid":"input-notes"})}),u.jsx(pt,{})]})}),u.jsxs("div",{className:"flex items-center justify-end space-x-4",children:[u.jsx(ie,{type:"button",variant:"outline",onClick:()=>e("/invoices"),"data-testid":"button-cancel",children:"Cancel"}),u.jsxs(ie,{type:"submit",disabled:X.isPending,"data-testid":"button-create-invoice",children:[u.jsx("i",{className:"fas fa-save mr-2"}),X.isPending?"Creating...":"Create Invoice"]})]})]})})]})}),u.jsx(lo,{open:d,onOpenChange:B=>{B||N()},children:u.jsxs(oa,{className:"sm:max-w-md",children:[u.jsx(la,{children:u.jsx(ca,{children:"Scan QR Code"})}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"relative bg-black rounded-lg overflow-hidden",style:{aspectRatio:"4/3"},children:[u.jsx("video",{ref:y,className:"w-full h-full object-cover","data-testid":"video-qr-scanner"}),u.jsx("div",{className:"absolute inset-0 border-4 border-accent pointer-events-none",style:{clipPath:"polygon(0 0, 100% 0, 100% 20%, 80% 20%, 80% 80%, 100% 80%, 100% 100%, 0 100%, 0 80%, 20% 80%, 20% 20%, 0 20%)"}})]}),u.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Position the QR code within the frame to scan"}),u.jsx(ie,{type:"button",variant:"outline",onClick:N,className:"w-full","data-testid":"button-cancel-qr-scan",children:"Cancel"})]})]})}),u.jsx(lo,{open:h,onOpenChange:B=>{B||Q()},children:u.jsxs(oa,{className:"sm:max-w-md",children:[u.jsx(la,{children:u.jsx(ca,{children:"Read Product Label"})}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"relative bg-black rounded-lg overflow-hidden",style:{aspectRatio:"4/3"},children:[u.jsx("video",{ref:v,className:"w-full h-full object-cover",autoPlay:!0,playsInline:!0,muted:!0,"data-testid":"video-text-scanner"}),u.jsx("canvas",{ref:_,className:"hidden"}),u.jsx("div",{className:"absolute inset-4 border-2 border-green-400 border-dashed pointer-events-none rounded-lg"})]}),u.jsx("p",{className:"text-sm text-muted-foreground text-center",children:'Point at the product ID text on the label, then tap "Capture"'}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(ie,{type:"button",onClick:q,disabled:l,className:"flex-1 bg-green-600 hover:bg-green-700","data-testid":"button-capture-text",children:l?u.jsxs(u.Fragment,{children:[u.jsx("i",{className:"fas fa-spinner fa-spin mr-2"}),"Reading..."]}):u.jsxs(u.Fragment,{children:[u.jsx("i",{className:"fas fa-camera mr-2"}),"Capture Text"]})}),u.jsx(ie,{type:"button",variant:"outline",onClick:Q,"data-testid":"button-cancel-text-scan",children:"Cancel"})]})]})]})})]})}const fW=Po({discountAmount:Uu().min(0,"Discount cannot be negative")});function hW(){var L;const{toast:t}=Dn(),{user:e}=yc(),{id:r}=xE(),[n,i]=b.useState(!1),[s,a]=b.useState(!1),[o,l]=b.useState({}),{data:c,isLoading:d,error:f}=$r({queryKey:[`/api/invoices/${r}`],enabled:!!r}),{data:h}=$r({queryKey:["/api/products",{limit:1e3}],enabled:s}),p=To({resolver:Io(fW),defaultValues:{discountAmount:0}});b.useEffect(()=>{if(c&&!p.formState.isDirty){const N=parseFloat(c.discountAmount||"0");p.reset({discountAmount:N})}},[c==null?void 0:c.discountAmount,p.formState.isDirty]);const g=Ut({mutationFn:async N=>(await kt("PUT",`/api/invoices/${r}/status`,{status:N})).json(),onSuccess:()=>{t({title:"Success",description:"Invoice status updated successfully"}),Xe.invalidateQueries({queryKey:[`/api/invoices/${r}`]}),Xe.invalidateQueries({queryKey:["/api/invoices"]}),Xe.invalidateQueries({queryKey:["/api/dashboard/metrics"]})},onError:N=>{if(Ft(N)){t({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}t({title:"Error",description:"Failed to update invoice status",variant:"destructive"})}}),m=Ut({mutationFn:async N=>{console.log("Making API request with discount amount:",N,typeof N);const O={discountAmount:N};console.log("Request body:",O);const q=await kt("PUT",`/api/invoices/${r}/discount`,O);if(!q.ok){const Q=await q.text();console.error("API error response:",q.status,Q);let X;try{X=JSON.parse(Q)}catch{X={message:Q||`HTTP ${q.status}`}}throw{response:X,status:q.status}}return q.json()},onSuccess:()=>{t({title:"Success",description:"Discount updated successfully"}),i(!1),Xe.invalidateQueries({queryKey:[`/api/invoices/${r}`]}),Xe.invalidateQueries({queryKey:["/api/invoices"]}),Xe.invalidateQueries({queryKey:["/api/dashboard/metrics"]})},onError:N=>{if(console.error("Discount update error:",N),Ft(N)){t({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}let O="Failed to update discount";try{if(N.response){const q=N.response;q.message?O=q.message:q.errors&&q.errors.length>0&&(O=q.errors[0].message||O)}else N.message&&(O=N.message)}catch(q){console.error("Error parsing error message:",q)}t({title:"Error",description:O,variant:"destructive"})}}),x=Ut({mutationFn:async({productId:N,quantity:O,unitPrice:q})=>(await kt("POST",`/api/invoices/${r}/items`,{productId:N,quantity:O,unitPrice:q})).json(),onSuccess:()=>{t({title:"Success",description:"Product added to invoice"}),a(!1),Xe.invalidateQueries({queryKey:[`/api/invoices/${r}`]})},onError:N=>{var O;if(Ft(N)){t({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}t({title:"Error",description:((O=N.response)==null?void 0:O.message)||"Failed to add product",variant:"destructive"})}}),y=Ut({mutationFn:async({itemId:N,quantity:O})=>(await kt("PUT",`/api/invoices/${r}/items/${N}`,{quantity:O})).json(),onSuccess:()=>{t({title:"Success",description:"Quantity updated successfully"}),Xe.invalidateQueries({queryKey:[`/api/invoices/${r}`]})},onError:N=>{var O;if(Ft(N)){t({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}t({title:"Error",description:((O=N.response)==null?void 0:O.message)||"Failed to update quantity",variant:"destructive"})}}),v=Ut({mutationFn:async N=>(await kt("DELETE",`/api/invoices/${r}/items/${N}`)).json(),onSuccess:()=>{t({title:"Success",description:"Item removed from invoice"}),Xe.invalidateQueries({queryKey:[`/api/invoices/${r}`]})},onError:N=>{var O;if(Ft(N)){t({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}t({title:"Error",description:((O=N.response)==null?void 0:O.message)||"Failed to delete item",variant:"destructive"})}}),_=Ut({mutationFn:async()=>(await kt("DELETE",`/api/invoices/${r}`)).json(),onSuccess:()=>{t({title:"Success",description:"Invoice marked as deleted"}),Xe.invalidateQueries({queryKey:["/api/invoices"]}),Xe.invalidateQueries({queryKey:["/api/dashboard/metrics"]}),Xe.invalidateQueries({queryKey:[`/api/invoices/${r}`]})},onError:N=>{var O;if(Ft(N)){t({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}t({title:"Error",description:((O=N.response)==null?void 0:O.message)||"Failed to delete invoice",variant:"destructive"})}}),w=N=>{console.log("Form submission data:",N),console.log("discountAmount type:",typeof N.discountAmount),console.log("discountAmount value:",N.discountAmount);const O=Number(N.discountAmount);if(console.log("Converted to number:",O,typeof O),isNaN(O)){t({title:"Error",description:"Please enter a valid discount amount",variant:"destructive"});return}if(O<0){t({title:"Error",description:"Discount amount cannot be negative",variant:"destructive"});return}m.mutate(O)},S=()=>{i(!1),c&&p.reset({discountAmount:parseFloat(c.discountAmount||"0")})},A=async(N,O)=>{try{const Q=await(await kt("POST",`/api/invoices/${N}/pdf`)).blob(),X=window.URL.createObjectURL(Q),D=document.createElement("a");D.href=X,D.download=`invoice-${O}.pdf`,D.click(),window.URL.revokeObjectURL(X),t({title:"Success",description:"PDF saved successfully"})}catch{t({title:"Error",description:"Failed to download PDF",variant:"destructive"})}},E=()=>{const N=document.querySelectorAll("[data-print-hide]");N.forEach(O=>O.style.display="none"),window.print(),setTimeout(()=>{N.forEach(O=>O.style.display="")},100)},P=N=>new Date(N).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),j=N=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(typeof N=="string"?parseFloat(N):N),F=N=>N==="Processed"?u.jsx(Vt,{className:"bg-green-100 text-green-800 hover:bg-green-100",children:"Processed"}):N==="Deleted"?u.jsx(Vt,{className:"bg-destructive/10 text-destructive",children:"Deleted"}):u.jsx(Vt,{variant:"secondary",children:"Pending"}),H=()=>["Admin","Manager"].includes((e==null?void 0:e.role)||"");return d?u.jsxs("div",{className:"max-w-6xl mx-auto p-6 space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx(we,{className:"h-8 w-64"}),u.jsx(we,{className:"h-10 w-32"})]}),u.jsx(Te,{children:u.jsxs(ke,{className:"p-6 space-y-4",children:[u.jsx(we,{className:"h-6 w-full"}),u.jsx(we,{className:"h-6 w-3/4"}),u.jsx(we,{className:"h-6 w-1/2"})]})})]}):f||!c?u.jsx("div",{className:"max-w-6xl mx-auto p-6",children:u.jsx(Te,{children:u.jsx(ke,{className:"p-6 text-center",children:u.jsxs("div",{className:"text-center py-8",children:[u.jsx("i",{className:"fas fa-exclamation-circle text-destructive text-4xl mb-4"}),u.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:f?"Failed to load invoice":"Invoice not found"}),u.jsx(na,{href:"/invoices",children:u.jsxs(ie,{variant:"outline",children:[u.jsx("i",{className:"fas fa-arrow-left w-4 h-4 mr-2"}),"Back to Invoices"]})})]})})})}):u.jsxs("div",{className:"max-w-6xl mx-auto p-6 space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx(na,{href:"/invoices",children:u.jsx(ie,{variant:"ghost",size:"icon","data-print-hide":!0,children:u.jsx("i",{className:"fas fa-arrow-left w-4 h-4"})})}),u.jsxs("div",{children:[u.jsxs("h1",{className:"text-2xl font-bold text-foreground",children:["Invoice ",c.invoiceNumber]}),u.jsxs("p",{className:"text-muted-foreground",children:["Created on ",c.createdAt?P(c.createdAt):"Unknown date"]})]})]}),u.jsxs("div",{className:"flex items-center space-x-2","data-print-hide":!0,children:[F(c.status||"Unknown"),u.jsxs(ie,{variant:"outline",onClick:E,"data-testid":"button-print",children:[u.jsx("i",{className:"fas fa-print w-4 h-4 mr-2"}),"Print"]}),u.jsxs(ie,{variant:"outline",onClick:()=>A(c.id,c.invoiceNumber),"data-testid":"button-save-pdf",children:[u.jsx("i",{className:"fas fa-file-pdf w-4 h-4 mr-2"}),"Save as PDF"]}),c.status==="Pending"&&H()&&u.jsxs(ie,{onClick:()=>g.mutate("Processed"),disabled:g.isPending,className:"bg-blue-600 hover:bg-blue-700 text-white","data-testid":"button-process-invoice",children:[u.jsx("i",{className:"fas fa-check w-4 h-4 mr-2"}),g.isPending?"Processing...":"Mark as Processed"]}),(e==null?void 0:e.role)==="Admin"&&c.status!=="Deleted"&&u.jsxs(Ay,{children:[u.jsx(Ny,{asChild:!0,children:u.jsxs(ie,{variant:"outline",className:"border-destructive text-destructive hover:bg-destructive hover:text-destructive-foreground","data-testid":"button-delete-invoice",children:[u.jsx("span",{className:"text-lg mr-2",children:""}),"Delete Invoice"]})}),u.jsxs(Wp,{children:[u.jsxs(Gp,{children:[u.jsx(Xp,{children:"Delete Invoice"}),u.jsxs(Kp,{children:["Are you sure you want to delete invoice ",c.invoiceNumber,"? This will mark the invoice as deleted and no further actions can be performed on it. This action cannot be undone."]})]}),u.jsxs(qp,{children:[u.jsx(Zp,{children:"Cancel"}),u.jsx(Yp,{onClick:()=>_.mutate(),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})]})]})]}),u.jsx(Te,{children:u.jsxs(ke,{className:"p-6",children:[u.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Customer Information"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Customer Name"}),u.jsx("p",{className:"font-medium text-foreground",children:c.customerName})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Phone"}),u.jsx("p",{className:"font-medium text-foreground",children:c.customerPhone})]}),c.customerEmail&&u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Email"}),u.jsx("p",{className:"font-medium text-foreground",children:c.customerEmail})]}),c.customerAddress&&u.jsxs("div",{className:"md:col-span-2",children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Address"}),u.jsx("p",{className:"font-medium text-foreground",children:c.customerAddress})]})]})]})}),u.jsx(Te,{children:u.jsxs(ke,{className:"p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Invoice Items"}),c.status==="Pending"&&H()&&u.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>a(!0),"data-testid":"button-add-product",children:[u.jsx("i",{className:"fas fa-plus w-4 h-4 mr-2"}),"Add Product"]})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full min-w-[900px]",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b border-border",children:[u.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-muted-foreground uppercase min-w-[180px]",children:"Product"}),u.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-muted-foreground uppercase",children:"Colors"}),u.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-muted-foreground uppercase",children:"Sizes"}),u.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-muted-foreground uppercase",children:"Manufacturer"}),u.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-muted-foreground uppercase",children:"Category"}),u.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-muted-foreground uppercase",children:"Qty"}),u.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-muted-foreground uppercase",children:"Unit Price"}),u.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-muted-foreground uppercase",children:"Total"}),c.status==="Pending"&&H()&&u.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-muted-foreground uppercase",children:"Actions"})]})}),u.jsx("tbody",{className:"divide-y divide-border",children:((L=c.items)==null?void 0:L.map((N,O)=>{var q,Q,X,D,k,M,$,ee,se;return u.jsxs("tr",{"data-testid":`invoice-item-${O}`,children:[u.jsx("td",{className:"px-3 py-3 min-w-[180px]",children:u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-foreground",children:((q=N.product)==null?void 0:q.productName)||"Unknown Product"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:(Q=N.product)==null?void 0:Q.productId}),((X=N.product)==null?void 0:X.description)&&u.jsx("p",{className:"text-xs text-muted-foreground mt-1 max-w-[160px] line-clamp-2",title:N.product.description,children:N.product.description})]})}),u.jsx("td",{className:"px-3 py-3",children:u.jsx("span",{className:"text-sm text-foreground",children:Array.isArray((D=N.product)==null?void 0:D.color)?N.product.color.join(", "):((k=N.product)==null?void 0:k.color)||"-"})}),u.jsx("td",{className:"px-3 py-3",children:u.jsx("span",{className:"text-sm text-foreground",children:Array.isArray((M=N.product)==null?void 0:M.size)?N.product.size.join(", "):(($=N.product)==null?void 0:$.size)||"-"})}),u.jsx("td",{className:"px-3 py-3",children:u.jsx("span",{className:"text-sm text-foreground",children:((ee=N.product)==null?void 0:ee.manufacturer)||"-"})}),u.jsx("td",{className:"px-3 py-3",children:(se=N.product)!=null&&se.category?u.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-primary/10 text-primary",children:N.product.category}):u.jsx("span",{className:"text-sm text-muted-foreground",children:"-"})}),u.jsx("td",{className:"px-3 py-3",children:c.status==="Pending"&&H()?u.jsx("div",{className:"flex items-center gap-2",children:u.jsx(Ue,{type:"number",min:"1",value:o[N.id]!==void 0?o[N.id]:N.quantity,onChange:he=>{const Be=parseInt(he.target.value);l(Re=>({...Re,[N.id]:Be}))},onBlur:()=>{const he=o[N.id];he!==void 0&&he!==N.quantity&&he>0&&y.mutate({itemId:N.id,quantity:he}),l(Be=>{const{[N.id]:Re,...ce}=Be;return ce})},className:"w-20 h-8 text-sm","data-testid":`input-quantity-${O}`})}):u.jsx("span",{className:"text-sm text-foreground font-medium",children:N.quantity})}),u.jsx("td",{className:"px-3 py-3 text-sm text-foreground",children:j(N.unitPrice)}),u.jsx("td",{className:"px-3 py-3 text-sm font-medium text-foreground",children:j(N.totalPrice)}),c.status==="Pending"&&H()&&u.jsx("td",{className:"px-3 py-3",children:u.jsx(ie,{variant:"outline",size:"icon",onClick:()=>{confirm("Are you sure you want to remove this item from the invoice?")&&v.mutate(N.id)},className:"h-8 w-8 border-red-500 text-red-500 hover:bg-red-50 dark:hover:bg-red-950","data-testid":`button-delete-item-${O}`,children:u.jsx("span",{className:"text-xl font-light",children:""})})})]},O)}))||u.jsx("tr",{children:u.jsx("td",{colSpan:c.status==="Pending"&&H()?9:8,className:"px-4 py-8 text-center text-muted-foreground",children:"No items found"})})})]})})]})}),u.jsx(Te,{children:u.jsxs(ke,{className:"p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Invoice Summary"}),c.status==="Pending"&&!n&&u.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>i(!0),"data-testid":"button-edit-discount",children:[u.jsx("i",{className:"fas fa-edit w-4 h-4 mr-2"}),"Edit Discount"]})]}),u.jsxs("div",{className:"max-w-md ml-auto space-y-3",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-muted-foreground",children:"Subtotal:"}),u.jsx("span",{className:"font-medium text-foreground",children:j(c.subtotal||0)})]}),c.status==="Pending"&&n?u.jsxs("form",{onSubmit:p.handleSubmit(w),className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(li,{htmlFor:"discount-amount",className:"text-sm text-muted-foreground min-w-fit",children:"Discount Amount:"}),u.jsx(Ue,{id:"discount-amount",type:"number",step:"0.01",min:"0",className:"w-24 h-8 text-sm",...p.register("discountAmount",{valueAsNumber:!0}),"data-testid":"input-discount-amount"}),u.jsxs("div",{className:"flex space-x-1",children:[u.jsx(ie,{type:"submit",size:"sm",disabled:m.isPending,className:"h-8 px-2 bg-blue-600 hover:bg-blue-700 text-white","data-testid":"button-save-discount",children:m.isPending?u.jsx("i",{className:"fas fa-spinner fa-spin w-3 h-3"}):u.jsx("i",{className:"fas fa-check w-3 h-3"})}),u.jsx(ie,{type:"button",variant:"outline",size:"sm",onClick:S,className:"h-8 px-2","data-testid":"button-cancel-discount",children:u.jsx("i",{className:"fas fa-times w-3 h-3"})})]})]}),p.formState.errors.discountAmount&&u.jsx("p",{className:"text-sm text-destructive",children:p.formState.errors.discountAmount.message})]}):parseFloat(c.discountAmount||"0")>0&&u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-muted-foreground",children:"Discount:"}),u.jsxs("span",{className:"font-medium text-foreground",children:["-",j(c.discountAmount||0)]})]}),u.jsxs("div",{className:"flex justify-between text-lg font-bold text-foreground border-t border-border pt-3",children:[u.jsx("span",{children:"Total:"}),u.jsx("span",{children:j(c.total||0)})]})]}),c.notes&&u.jsxs("div",{className:"mt-6 pt-6 border-t border-border",children:[u.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Notes:"}),u.jsx("p",{className:"text-sm text-foreground",children:c.notes})]})]})}),u.jsx(lo,{open:s,onOpenChange:a,children:u.jsxs(oa,{className:"sm:max-w-[600px]",children:[u.jsxs(la,{children:[u.jsx(ca,{children:"Add Product to Invoice"}),u.jsx(XN,{children:"Select a product and specify the quantity to add to this invoice."})]}),u.jsx(pW,{products:(h==null?void 0:h.products)||[],onAdd:(N,O,q)=>{x.mutate({productId:N,quantity:O,unitPrice:q})},isLoading:x.isPending})]})})]})}function pW({products:t,onAdd:e,isLoading:r}){const[n,i]=b.useState(""),[s,a]=b.useState(1),o=t.find(c=>c.id===n),l=c=>{c.preventDefault(),o&&e(o.id,s,parseFloat(o.price))};return u.jsxs("form",{onSubmit:l,className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(li,{htmlFor:"product",children:"Product"}),u.jsxs(An,{value:n,onValueChange:i,children:[u.jsx(un,{id:"product","data-testid":"select-product",children:u.jsx(Nn,{placeholder:"Select a product"})}),u.jsx(dn,{children:t.map(c=>u.jsxs(xe,{value:c.id,children:[c.productName," - ",c.productId," ($",parseFloat(c.price).toFixed(2),") - Stock: ",c.quantity]},c.id))})]})]}),o&&u.jsx("div",{className:"p-4 bg-muted rounded-lg space-y-2",children:u.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-muted-foreground",children:"Price:"}),u.jsxs("span",{className:"ml-2 font-medium",children:["$",parseFloat(o.price).toFixed(2)]})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-muted-foreground",children:"Stock:"}),u.jsx("span",{className:"ml-2 font-medium",children:o.quantity})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-muted-foreground",children:"Colors:"}),u.jsx("span",{className:"ml-2",children:Array.isArray(o.color)?o.color.join(", "):o.color})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-muted-foreground",children:"Sizes:"}),u.jsx("span",{className:"ml-2",children:Array.isArray(o.size)?o.size.join(", "):o.size})]})]})}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(li,{htmlFor:"quantity",children:"Quantity"}),u.jsx(Ue,{id:"quantity",type:"number",min:"1",max:(o==null?void 0:o.quantity)||1,value:s,onChange:c=>a(parseInt(c.target.value)||1),"data-testid":"input-add-quantity"})]}),o&&u.jsxs("div",{className:"flex justify-between items-center p-3 bg-primary/5 rounded-lg",children:[u.jsx("span",{className:"font-medium",children:"Total:"}),u.jsxs("span",{className:"text-lg font-bold",children:["$",(parseFloat(o.price)*s).toFixed(2)]})]}),u.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[u.jsx(ie,{type:"button",variant:"outline",onClick:()=>i(""),disabled:r,children:"Cancel"}),u.jsx(ie,{type:"submit",disabled:!n||r,"data-testid":"button-confirm-add-product",children:r?"Adding...":"Add to Invoice"})]})]})}function mW(){const[t,e]=b.useState("sales"),[r,n]=b.useState("month"),[i,s]=b.useState(""),[a,o]=b.useState(""),{data:l,isLoading:c}=$r({queryKey:["/api/dashboard/metrics"]}),{data:d,isLoading:f}=$r({queryKey:["/api/invoices",{limit:1e3}]}),{data:h,isLoading:p}=$r({queryKey:["/api/reports/manufacturers",{startDate:r==="custom"?i:void 0,endDate:r==="custom"?a:void 0,range:r!=="custom"?r:void 0}],enabled:t==="manufacturers"}),g=w=>`$${(typeof w=="string"?parseFloat(w):w).toFixed(2)}`,m=()=>{if(!(d!=null&&d.invoices))return null;const w=d.invoices.filter(E=>E.status==="Processed"),S=w.reduce((E,P)=>E+parseFloat(P.total),0),A=w.length>0?S/w.length:0;return{totalInvoices:w.length,totalRevenue:S,avgOrderValue:A,pendingInvoices:d.invoices.filter(E=>E.status==="Pending").length}},x=()=>({totalProducts:(l==null?void 0:l.totalProducts)||0,lowStockItems:(l==null?void 0:l.lowStockItems)||0}),y=m(),v=x(),_=()=>{let w="";t==="sales"&&y?(w=`Sales Report

`,w+=`Metric,Value
`,w+=`Total Processed Invoices,${y.totalInvoices}
`,w+=`Total Revenue,${g(y.totalRevenue)}
`,w+=`Average Order Value,${g(y.avgOrderValue)}
`,w+=`Pending Invoices,${y.pendingInvoices}
`):t==="inventory"?(w=`Inventory Report

`,w+=`Metric,Value
`,w+=`Total Products,${v.totalProducts}
`,w+=`Low Stock Items,${v.lowStockItems}
`):t==="manufacturers"&&h&&(w=`Manufacturer Report

`,w+=`Manufacturer,Total Quantity Sold,Total Revenue,Product Count
`,h.forEach(P=>{w+=`${P.manufacturer},${P.totalQuantitySold},${P.totalRevenue},${P.productCount}
`}),w+=`
Totals,`,w+=`${h.reduce((P,j)=>P+j.totalQuantitySold,0)},`,w+=`${h.reduce((P,j)=>P+j.totalRevenue,0)},`,w+=`${h.reduce((P,j)=>P+j.productCount,0)}
`);const S=new Blob([w],{type:"text/csv"}),A=window.URL.createObjectURL(S),E=document.createElement("a");E.href=A,E.download=`${t}-report-${new Date().toISOString().split("T")[0]}.csv`,E.click(),window.URL.revokeObjectURL(A)};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs(Te,{children:[u.jsx(Cr,{children:u.jsx(Xr,{children:"Generate Reports"})}),u.jsx(ke,{children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("label",{className:"text-sm font-medium text-muted-foreground mb-2 block",children:"Report Type"}),u.jsxs(An,{value:t,onValueChange:e,children:[u.jsx(un,{"data-testid":"select-report-type",children:u.jsx(Nn,{})}),u.jsxs(dn,{children:[u.jsx(xe,{value:"sales",children:"Sales Report"}),u.jsx(xe,{value:"inventory",children:"Inventory Report"}),u.jsx(xe,{value:"manufacturers",children:"Manufacturer Report"}),u.jsx(xe,{value:"invoices",children:"Invoice Summary"})]})]})]}),u.jsxs("div",{className:"flex-1",children:[u.jsx("label",{className:"text-sm font-medium text-muted-foreground mb-2 block",children:"Date Range"}),u.jsxs(An,{value:r,onValueChange:n,children:[u.jsx(un,{"data-testid":"select-date-range",children:u.jsx(Nn,{})}),u.jsxs(dn,{children:[u.jsx(xe,{value:"week",children:"Last 7 Days"}),u.jsx(xe,{value:"month",children:"Last 30 Days"}),u.jsx(xe,{value:"quarter",children:"Last 3 Months"}),u.jsx(xe,{value:"year",children:"Last Year"}),u.jsx(xe,{value:"all",children:"All Time"}),u.jsx(xe,{value:"custom",children:"Custom Duration"})]})]})]}),u.jsx("div",{className:"flex items-end",children:u.jsxs(ie,{onClick:_,className:"w-full md:w-auto","data-testid":"button-download-report",children:[u.jsx("i",{className:"fas fa-download mr-2"}),"Download CSV"]})})]}),r==="custom"&&u.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("label",{className:"text-sm font-medium text-muted-foreground mb-2 block",children:"Start Date"}),u.jsx("input",{type:"date",value:i,onChange:w=>s(w.target.value),className:"w-full px-3 py-2 border border-input rounded-md bg-background text-foreground","data-testid":"input-start-date"})]}),u.jsxs("div",{className:"flex-1",children:[u.jsx("label",{className:"text-sm font-medium text-muted-foreground mb-2 block",children:"End Date"}),u.jsx("input",{type:"date",value:a,onChange:w=>o(w.target.value),className:"w-full px-3 py-2 border border-input rounded-md bg-background text-foreground","data-testid":"input-end-date"})]})]})]})})]}),t==="sales"&&u.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:c||f?Array.from({length:4}).map((w,S)=>u.jsxs(Te,{children:[u.jsx(Cr,{children:u.jsx(we,{className:"h-4 w-24"})}),u.jsx(ke,{children:u.jsx(we,{className:"h-8 w-32"})})]},S)):y?u.jsxs(u.Fragment,{children:[u.jsxs(Te,{children:[u.jsx(Cr,{className:"pb-3",children:u.jsx(Xr,{className:"text-sm font-medium text-muted-foreground",children:"Total Invoices"})}),u.jsxs(ke,{children:[u.jsx("div",{className:"text-2xl font-bold",children:y.totalInvoices}),u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Processed orders"})]})]}),u.jsxs(Te,{children:[u.jsx(Cr,{className:"pb-3",children:u.jsx(Xr,{className:"text-sm font-medium text-muted-foreground",children:"Total Revenue"})}),u.jsxs(ke,{children:[u.jsx("div",{className:"text-2xl font-bold",children:g(y.totalRevenue)}),u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"From all sales"})]})]}),u.jsxs(Te,{children:[u.jsx(Cr,{className:"pb-3",children:u.jsx(Xr,{className:"text-sm font-medium text-muted-foreground",children:"Average Order Value"})}),u.jsxs(ke,{children:[u.jsx("div",{className:"text-2xl font-bold",children:g(y.avgOrderValue)}),u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Per invoice"})]})]}),u.jsxs(Te,{children:[u.jsx(Cr,{className:"pb-3",children:u.jsx(Xr,{className:"text-sm font-medium text-muted-foreground",children:"Pending Invoices"})}),u.jsxs(ke,{children:[u.jsx("div",{className:"text-2xl font-bold",children:y.pendingInvoices}),u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Awaiting processing"})]})]})]}):null}),t==="inventory"&&u.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:c?Array.from({length:2}).map((w,S)=>u.jsxs(Te,{children:[u.jsx(Cr,{children:u.jsx(we,{className:"h-4 w-24"})}),u.jsx(ke,{children:u.jsx(we,{className:"h-8 w-32"})})]},S)):u.jsxs(u.Fragment,{children:[u.jsxs(Te,{children:[u.jsx(Cr,{className:"pb-3",children:u.jsx(Xr,{className:"text-sm font-medium text-muted-foreground",children:"Total Products"})}),u.jsxs(ke,{children:[u.jsx("div",{className:"text-2xl font-bold",children:v.totalProducts}),u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"In inventory"})]})]}),u.jsxs(Te,{children:[u.jsx(Cr,{className:"pb-3",children:u.jsx(Xr,{className:"text-sm font-medium text-muted-foreground",children:"Low Stock Items"})}),u.jsxs(ke,{children:[u.jsx("div",{className:"text-2xl font-bold text-destructive",children:v.lowStockItems}),u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Need restocking"})]})]})]})}),t==="manufacturers"&&u.jsxs(Te,{children:[u.jsx(Cr,{children:u.jsx(Xr,{children:"Manufacturer Report"})}),u.jsx(ke,{children:p?u.jsx("div",{className:"space-y-4",children:Array.from({length:5}).map((w,S)=>u.jsx(we,{className:"h-16 w-full"},S))}):h&&h.length>0?u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-muted",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Manufacturer"}),u.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium",children:"Products Sold (Qty)"}),u.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium",children:"Total Revenue"}),u.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium",children:"Unique Products"})]})}),u.jsx("tbody",{className:"divide-y divide-border",children:h.map((w,S)=>u.jsxs("tr",{className:"hover:bg-muted/50",children:[u.jsx("td",{className:"px-4 py-3 font-medium",children:w.manufacturer}),u.jsx("td",{className:"px-4 py-3 text-right font-semibold",children:w.totalQuantitySold.toLocaleString()}),u.jsx("td",{className:"px-4 py-3 text-right text-green-600 font-semibold",children:g(w.totalRevenue)}),u.jsx("td",{className:"px-4 py-3 text-right",children:w.productCount})]},S))}),u.jsx("tfoot",{className:"bg-muted font-bold",children:u.jsxs("tr",{children:[u.jsx("td",{className:"px-4 py-3",children:"Total"}),u.jsx("td",{className:"px-4 py-3 text-right",children:h.reduce((w,S)=>w+S.totalQuantitySold,0).toLocaleString()}),u.jsx("td",{className:"px-4 py-3 text-right text-green-600",children:g(h.reduce((w,S)=>w+S.totalRevenue,0))}),u.jsx("td",{className:"px-4 py-3 text-right",children:h.reduce((w,S)=>w+S.productCount,0)})]})})]})}):u.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No manufacturer data available. Process some invoices to see statistics."})})]}),t==="invoices"&&u.jsxs(Te,{children:[u.jsx(Cr,{children:u.jsx(Xr,{children:"Invoice Summary"})}),u.jsx(ke,{children:f?u.jsx("div",{className:"space-y-4",children:Array.from({length:3}).map((w,S)=>u.jsx(we,{className:"h-12 w-full"},S))}):d!=null&&d.invoices?u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-3 gap-4 p-4 bg-muted rounded-lg",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Invoices"}),u.jsx("p",{className:"text-2xl font-bold",children:d.invoices.length})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending"}),u.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:d.invoices.filter(w=>w.status==="Pending").length})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Processed"}),u.jsx("p",{className:"text-2xl font-bold text-green-600",children:d.invoices.filter(w=>w.status==="Processed").length})]})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-muted",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium",children:"Status"}),u.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium",children:"Count"}),u.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium",children:"Percentage"})]})}),u.jsx("tbody",{className:"divide-y divide-border",children:["Pending","Processed","Deleted"].map(w=>{const S=d.invoices.filter(E=>E.status===w).length,A=(S/d.invoices.length*100).toFixed(1);return u.jsxs("tr",{children:[u.jsx("td",{className:"px-4 py-3",children:w}),u.jsx("td",{className:"px-4 py-3 font-semibold",children:S}),u.jsxs("td",{className:"px-4 py-3",children:[A,"%"]})]},w)})})]})})]}):null})]})]})}function gW(){const{toast:t}=Dn(),{user:e}=yc(),[r,n]=b.useState(!1),[i,s]=b.useState({email:"",firstName:"",lastName:"",role:"Viewer"}),{data:a,isLoading:o,error:l}=$r({queryKey:["/api/users"]}),c=Ut({mutationFn:async({id:m,role:x})=>(await kt("PUT",`/api/users/${m}/role`,{role:x})).json(),onSuccess:()=>{t({title:"Success",description:"User role updated successfully"}),Xe.invalidateQueries({queryKey:["/api/users"]})},onError:m=>{if(Ft(m)){t({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}t({title:"Error",description:"Failed to update user role",variant:"destructive"})}}),d=Ut({mutationFn:async m=>(await kt("POST","/api/users",m)).json(),onSuccess:()=>{t({title:"Success",description:"User created successfully"}),Xe.invalidateQueries({queryKey:["/api/users"]}),n(!1),s({email:"",firstName:"",lastName:"",role:"Viewer"})},onError:m=>{if(Ft(m)){t({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}t({title:"Error",description:"Failed to create user",variant:"destructive"})}}),f=Ut({mutationFn:async({id:m,isActive:x})=>(await kt("PUT",`/api/users/${m}/status`,{isActive:x})).json(),onSuccess:(m,{isActive:x})=>{t({title:"Success",description:`User ${x?"activated":"deactivated"} successfully`}),Xe.invalidateQueries({queryKey:["/api/users"]})},onError:m=>{if(Ft(m)){t({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}t({title:"Error",description:"Failed to update user status",variant:"destructive"})}}),h=m=>{if(!m)return"Never";const x=new Date(m),v=Math.floor((new Date().getTime()-x.getTime())/(1e3*60));return v<1?"Just now":v<60?`${v} minute${v===1?"":"s"} ago`:v<1440?`${Math.floor(v/60)} hour${Math.floor(v/60)===1?"":"s"} ago`:`${Math.floor(v/1440)} day${Math.floor(v/1440)===1?"":"s"} ago`},p=m=>{var x,y;return m.firstName&&m.lastName?`${m.firstName[0]}${m.lastName[0]}`.toUpperCase():((y=(x=m.email)==null?void 0:x[0])==null?void 0:y.toUpperCase())||"U"},g=m=>m?u.jsx(Vt,{className:"bg-accent/10 text-accent",children:"Active"}):u.jsx(Vt,{variant:"destructive",children:"Inactive"});return(e==null?void 0:e.role)!=="Admin"?u.jsxs("div",{className:"text-center py-16",children:[u.jsx("i",{className:"fas fa-shield-alt text-muted-foreground text-6xl mb-4"}),u.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"Access Restricted"}),u.jsx("p",{className:"text-muted-foreground",children:"You need Admin privileges to access user management."})]}):l?u.jsxs("div",{className:"text-center py-8",children:[u.jsx("i",{className:"fas fa-exclamation-circle text-destructive text-4xl mb-4"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Failed to load users"})]}):u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"User Management"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage user accounts and permissions"})]}),u.jsxs(lo,{open:r,onOpenChange:n,children:[u.jsx($h,{asChild:!0,children:u.jsxs(ie,{"data-testid":"button-add-user",children:[u.jsx("i",{className:"fas fa-user-plus mr-2"}),"Add User"]})}),u.jsxs(oa,{className:"sm:max-w-md",children:[u.jsx(la,{children:u.jsx(ca,{children:"Add New User"})}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(li,{htmlFor:"email",children:"Email *"}),u.jsx(Ue,{id:"email",type:"email",placeholder:"user@example.com",value:i.email,onChange:m=>s({...i,email:m.target.value}),"data-testid":"input-user-email"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(li,{htmlFor:"firstName",children:"First Name"}),u.jsx(Ue,{id:"firstName",placeholder:"John",value:i.firstName,onChange:m=>s({...i,firstName:m.target.value}),"data-testid":"input-user-firstname"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(li,{htmlFor:"lastName",children:"Last Name"}),u.jsx(Ue,{id:"lastName",placeholder:"Doe",value:i.lastName,onChange:m=>s({...i,lastName:m.target.value}),"data-testid":"input-user-lastname"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(li,{htmlFor:"role",children:"Role"}),u.jsxs(An,{value:i.role,onValueChange:m=>s({...i,role:m}),children:[u.jsx(un,{"data-testid":"select-user-role",children:u.jsx(Nn,{})}),u.jsxs(dn,{children:[u.jsx(xe,{value:"Viewer",children:"Viewer"}),u.jsx(xe,{value:"Staff",children:"Staff"}),u.jsx(xe,{value:"Manager",children:"Manager"}),u.jsx(xe,{value:"Admin",children:"Admin"})]})]})]}),u.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[u.jsx(ie,{variant:"outline",onClick:()=>{n(!1),s({email:"",firstName:"",lastName:"",role:"Viewer"})},"data-testid":"button-cancel-add-user",children:"Cancel"}),u.jsx(ie,{onClick:()=>d.mutate(i),disabled:!i.email||d.isPending,"data-testid":"button-create-user",children:d.isPending?"Creating...":"Create User"})]})]})]})]})]}),u.jsx(Te,{children:u.jsx(ke,{className:"p-0",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-muted",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"User"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Email"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Role"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Status"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Last Login"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Actions"})]})}),u.jsx("tbody",{className:"bg-card divide-y divide-border",children:o?Array.from({length:5}).map((m,x)=>u.jsxs("tr",{children:[u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx(we,{className:"w-8 h-8 rounded-full"}),u.jsx("div",{className:"ml-3",children:u.jsx(we,{className:"h-4 w-24"})})]})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx(we,{className:"h-4 w-40"})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx(we,{className:"h-6 w-16 rounded-full"})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx(we,{className:"h-6 w-16 rounded-full"})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx(we,{className:"h-4 w-20"})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsxs("div",{className:"flex space-x-2",children:[u.jsx(we,{className:"h-8 w-8"}),u.jsx(we,{className:"h-8 w-8"})]})})]},x)):a!=null&&a.length?a.map(m=>u.jsxs("tr",{"data-testid":`row-user-${m.id}`,children:[u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"w-8 h-8 bg-primary rounded-full flex items-center justify-center",children:u.jsx("span",{className:"text-sm font-medium text-primary-foreground",children:p(m)})}),u.jsx("div",{className:"ml-3",children:u.jsx("div",{className:"text-sm font-medium text-foreground",children:m.firstName&&m.lastName?`${m.firstName} ${m.lastName}`:m.email})})]})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-foreground",children:m.email}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsxs(An,{value:m.role,onValueChange:x=>c.mutate({id:m.id,role:x}),disabled:m.id===(e==null?void 0:e.id)||c.isPending,children:[u.jsx(un,{className:"w-32","data-testid":`select-role-${m.id}`,children:u.jsx(Nn,{})}),u.jsxs(dn,{children:[u.jsx(xe,{value:"Admin",children:"Admin"}),u.jsx(xe,{value:"Manager",children:"Manager"}),u.jsx(xe,{value:"Staff",children:"Staff"}),u.jsx(xe,{value:"Viewer",children:"Viewer"})]})]})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:g(m.isActive)}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-muted-foreground",children:h(m.lastLoginAt)}),u.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm space-x-2",children:[u.jsx(ie,{variant:"ghost",size:"icon","data-testid":`button-edit-${m.id}`,children:u.jsx("i",{className:"fas fa-edit w-4 h-4"})}),u.jsx(ie,{variant:"ghost",size:"icon","data-testid":`button-reset-password-${m.id}`,children:u.jsx("i",{className:"fas fa-key w-4 h-4"})}),u.jsx(ie,{variant:"ghost",size:"icon",onClick:()=>f.mutate({id:m.id,isActive:!m.isActive}),disabled:m.id===(e==null?void 0:e.id)||f.isPending,className:m.isActive?"text-destructive hover:text-destructive":"text-accent hover:text-accent","data-testid":`button-toggle-status-${m.id}`,children:u.jsx("i",{className:`fas ${m.isActive?"fa-user-slash":"fa-user-check"} w-4 h-4`})})]})]},m.id)):u.jsx("tr",{children:u.jsx("td",{colSpan:6,className:"px-6 py-16 text-center",children:u.jsxs("div",{className:"space-y-4",children:[u.jsx("i",{className:"fas fa-users text-muted-foreground text-4xl"}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"No users found"}),u.jsx("p",{className:"text-muted-foreground",children:"Users will appear here once they sign in"})]})]})})})})]})})})}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[u.jsx(Te,{children:u.jsxs(ke,{className:"p-4",children:[u.jsx("h4",{className:"text-sm font-medium text-foreground mb-2",children:"Admin"}),u.jsxs("ul",{className:"text-xs text-muted-foreground space-y-1",children:[u.jsx("li",{children:" Full system access"}),u.jsx("li",{children:" User management"}),u.jsx("li",{children:" Invoice approval"}),u.jsx("li",{children:" All product operations"})]})]})}),u.jsx(Te,{children:u.jsxs(ke,{className:"p-4",children:[u.jsx("h4",{className:"text-sm font-medium text-foreground mb-2",children:"Manager"}),u.jsxs("ul",{className:"text-xs text-muted-foreground space-y-1",children:[u.jsx("li",{children:" Product management"}),u.jsx("li",{children:" Invoice creation"}),u.jsx("li",{children:" Limited user access"}),u.jsx("li",{children:" Activity monitoring"})]})]})}),u.jsx(Te,{children:u.jsxs(ke,{className:"p-4",children:[u.jsx("h4",{className:"text-sm font-medium text-foreground mb-2",children:"Staff"}),u.jsxs("ul",{className:"text-xs text-muted-foreground space-y-1",children:[u.jsx("li",{children:" Product viewing"}),u.jsx("li",{children:" Invoice creation"}),u.jsx("li",{children:" Limited editing"}),u.jsx("li",{children:" Basic operations"})]})]})}),u.jsx(Te,{children:u.jsxs(ke,{className:"p-4",children:[u.jsx("h4",{className:"text-sm font-medium text-foreground mb-2",children:"Viewer"}),u.jsxs("ul",{className:"text-xs text-muted-foreground space-y-1",children:[u.jsx("li",{children:" Read-only access"}),u.jsx("li",{children:" Product viewing"}),u.jsx("li",{children:" Report access"}),u.jsx("li",{children:" No editing rights"})]})]})})]})]})}function vW(){var h;const[t,e]=b.useState(1),[r,n]=b.useState({module:"",userId:"",startDate:"",endDate:""}),{data:i,isLoading:s,error:a}=$r({queryKey:["/api/activity-logs",{page:t,limit:50,...r}]}),o=(p,g)=>{n(m=>({...m,[p]:g})),e(1)},l=p=>{const g=new Date(p),x=Math.floor((new Date().getTime()-g.getTime())/(1e3*60));return x<1?"Just now":x<60?`${x} minute${x===1?"":"s"} ago`:x<1440?`${Math.floor(x/60)} hour${Math.floor(x/60)===1?"":"s"} ago`:`${Math.floor(x/1440)} day${Math.floor(x/1440)===1?"":"s"} ago`},c=p=>({Products:"fas fa-box text-accent",Invoices:"fas fa-file-invoice text-primary",Users:"fas fa-users text-purple-500",Inventory:"fas fa-exclamation-triangle text-destructive",System:"fas fa-cog text-muted-foreground"})[p]||"fas fa-circle text-muted-foreground",d=p=>{const g={Products:"bg-accent/10 text-accent",Invoices:"bg-primary/10 text-primary",Users:"bg-purple-100 text-purple-600",Inventory:"bg-destructive/10 text-destructive",System:"bg-muted text-muted-foreground"};return u.jsx(Vt,{className:g[p]||g.System,children:p})},f=()=>{console.log("Exporting logs...")};return a?u.jsxs("div",{className:"text-center py-8",children:[u.jsx("i",{className:"fas fa-exclamation-circle text-destructive text-4xl mb-4"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Failed to load activity logs"})]}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[u.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[u.jsxs(An,{value:r.module,onValueChange:p=>o("module",p),children:[u.jsx(un,{className:"w-40","data-testid":"select-module",children:u.jsx(Nn,{placeholder:"All Activities"})}),u.jsxs(dn,{children:[u.jsx(xe,{value:"all",children:"All Activities"}),u.jsx(xe,{value:"Products",children:"Product Activities"}),u.jsx(xe,{value:"Invoices",children:"Invoice Activities"}),u.jsx(xe,{value:"Users",children:"User Activities"}),u.jsx(xe,{value:"Inventory",children:"Inventory Activities"})]})]}),u.jsx(Ue,{type:"date",value:r.startDate,onChange:p=>o("startDate",p.target.value),className:"w-40",placeholder:"Start Date","data-testid":"input-start-date"}),u.jsx(Ue,{type:"date",value:r.endDate,onChange:p=>o("endDate",p.target.value),className:"w-40",placeholder:"End Date","data-testid":"input-end-date"})]}),u.jsxs(ie,{variant:"outline",onClick:f,"data-testid":"button-export-logs",children:[u.jsx("i",{className:"fas fa-download mr-2"}),"Export Logs"]})]}),u.jsxs(Te,{children:[u.jsx("div",{className:"p-6 border-b border-border",children:u.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Activity Timeline"})}),u.jsx(ke,{className:"p-6",children:s?u.jsx("div",{className:"space-y-6",children:Array.from({length:5}).map((p,g)=>u.jsxs("div",{className:"flex items-start space-x-4",children:[u.jsx(we,{className:"w-10 h-10 rounded-full flex-shrink-0"}),u.jsxs("div",{className:"flex-1 space-y-2",children:[u.jsx(we,{className:"h-4 w-full"}),u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx(we,{className:"h-3 w-20"}),u.jsx(we,{className:"h-3 w-24"}),u.jsx(we,{className:"h-5 w-16 rounded-full"})]})]})]},g))}):(h=i==null?void 0:i.logs)!=null&&h.length?u.jsx("div",{className:"space-y-6",children:i.logs.map(p=>u.jsxs("div",{className:"flex items-start space-x-4","data-testid":`activity-log-${p.id}`,children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center",style:{backgroundColor:p.module==="Products"?"hsl(158 64% 52% / 0.1)":p.module==="Invoices"?"hsl(221 83% 53% / 0.1)":p.module==="Users"?"hsl(267 57% 50% / 0.1)":"hsl(215 16% 47% / 0.1)"},children:u.jsx("i",{className:c(p.module).replace("text-accent","text-accent").replace("text-primary","text-primary").replace("text-purple-500","text-purple-500")+" w-4 h-4"})})}),u.jsx("div",{className:"flex-1 min-w-0",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-sm text-foreground",children:p.action}),u.jsxs("div",{className:"mt-1 flex items-center space-x-4 text-xs text-muted-foreground",children:[u.jsx("span",{children:l(p.createdAt)}),p.ipAddress&&u.jsxs("span",{children:["IP: ",p.ipAddress]}),d(p.module)]}),p.user&&u.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["by ",p.user.firstName&&p.user.lastName?`${p.user.firstName} ${p.user.lastName}`:p.user.email]})]}),u.jsx(ie,{variant:"ghost",size:"icon",className:"opacity-0 group-hover:opacity-100",children:u.jsx("i",{className:"fas fa-ellipsis-h w-4 h-4"})})]})})]},p.id))}):u.jsxs("div",{className:"text-center py-16",children:[u.jsx("i",{className:"fas fa-history text-muted-foreground text-6xl mb-4"}),u.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"No activity found"}),u.jsx("p",{className:"text-muted-foreground",children:"System activity will appear here as users interact with the application"})]})})]}),(i==null?void 0:i.total)>50&&u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",(t-1)*50+1," to ",Math.min(t*50,i.total)," of ",i.total," results"]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(ie,{variant:"outline",size:"sm",onClick:()=>e(p=>Math.max(1,p-1)),disabled:t===1,"data-testid":"button-previous-page",children:"Previous"}),u.jsx("span",{className:"px-3 py-2 text-sm",children:t}),u.jsx(ie,{variant:"outline",size:"sm",onClick:()=>e(p=>p+1),disabled:t*50>=i.total,"data-testid":"button-next-page",children:"Next"})]})]})]})}function yW({children:t}){const{toast:e}=Dn(),{isAuthenticated:r,isLoading:n}=yc();return b.useEffect(()=>{if(!n&&!r){e({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/"},500);return}},[r,n,e]),n?u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:u.jsxs("div",{className:"text-center space-y-4",children:[u.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto"}),u.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):r?u.jsx(u.Fragment,{children:t}):null}const xW={dashboard:SA,products:hU,"product-detail":pU,"add-product":gU,"bulk-upload":IU,invoices:PU,"invoice-detail":hW,"create-invoice":dW,reports:mW,users:gW,"activity-logs":vW},wW={dashboard:"Dashboard",products:"Products","product-detail":"Product Details","add-product":"Add Product","bulk-upload":"Bulk Upload",invoices:"Invoices","invoice-detail":"Invoice Details","create-invoice":"Create Invoice",reports:"Reports",users:"User Management","activity-logs":"Activity Logs"};function Bn({page:t}){const e=xW[t]||SA,r=wW[t]||"Dashboard",[n,i]=b.useState(!1);return u.jsx(yW,{children:u.jsxs("div",{className:"min-h-screen flex bg-background",children:[u.jsx("div",{className:"hidden lg:block",children:u.jsx(N2,{currentPage:t})}),n&&u.jsxs("div",{className:"lg:hidden fixed inset-0 z-50 flex",children:[u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:()=>i(!1)}),u.jsx("div",{className:"relative",children:u.jsx(N2,{currentPage:t,onClose:()=>i(!1)})})]}),u.jsxs("main",{className:"flex-1 overflow-hidden flex flex-col",children:[u.jsx(KD,{title:r,onMenuClick:()=>i(!0)}),u.jsx("div",{className:"flex-1 overflow-y-auto p-3 lg:p-6",children:u.jsx(e,{})}),u.jsx(YD,{})]})]})})}function _W(){return u.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:u.jsx(Te,{className:"w-full max-w-md mx-4",children:u.jsxs(ke,{className:"pt-6",children:[u.jsxs("div",{className:"flex mb-4 gap-2",children:[u.jsx(oO,{className:"h-8 w-8 text-red-500"}),u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),u.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function bW(){const{isAuthenticated:t,isLoading:e}=yc();return e?u.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background",children:u.jsxs("div",{className:"text-center space-y-4",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),u.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):u.jsxs(xP,{children:[t?u.jsxs(u.Fragment,{children:[u.jsx(_r,{path:"/",component:()=>u.jsx(Bn,{page:"dashboard"})}),u.jsx(_r,{path:"/products",component:()=>u.jsx(Bn,{page:"products"})}),u.jsx(_r,{path:"/products/:id",component:()=>u.jsx(Bn,{page:"product-detail"})}),u.jsx(_r,{path:"/add-product",component:()=>u.jsx(Bn,{page:"add-product"})}),u.jsx(_r,{path:"/bulk-upload",component:()=>u.jsx(Bn,{page:"bulk-upload"})}),u.jsx(_r,{path:"/invoices",component:()=>u.jsx(Bn,{page:"invoices"})}),u.jsx(_r,{path:"/invoices/:id",component:()=>u.jsx(Bn,{page:"invoice-detail"})}),u.jsx(_r,{path:"/create-invoice",component:()=>u.jsx(Bn,{page:"create-invoice"})}),u.jsx(_r,{path:"/reports",component:()=>u.jsx(Bn,{page:"reports"})}),u.jsx(_r,{path:"/users",component:()=>u.jsx(Bn,{page:"users"})}),u.jsx(_r,{path:"/activity-logs",component:()=>u.jsx(Bn,{page:"activity-logs"})})]}):u.jsxs(u.Fragment,{children:[u.jsx(_r,{path:"/",component:A2}),u.jsx(_r,{path:"/login",component:A2}),u.jsx(_r,{path:"/forgot-password",component:WD}),u.jsx(_r,{path:"/reset-password",component:qD})]}),u.jsx(_r,{component:_W})]})}function CW(){return u.jsx(zP,{client:Xe,children:u.jsxs(Pk,{children:[u.jsx(zO,{}),u.jsx(bW,{})]})})}cE(document.getElementById("root")).render(u.jsx(CW,{}));
